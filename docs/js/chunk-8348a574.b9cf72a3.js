(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8348a574"],{"73e5":function(e,_,t){"use strict";t.r(_);var s=function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.load,expression:"load"}],attrs:{"infinite-scroll-disabled":"disabled","infinite-scroll-distance":"128"}},[t("p",{staticClass:"display px-4 primary--text"},[e._v(e._s(e.$t("Weapons"))+" ("+e._s(e.weaponList.length)+")")]),t("div",{staticClass:"px-4 mb-2"},[Object.values(e.query).flat().length?t("v-chip",{staticClass:"float-right",on:{click:function(_){return e.$router.push({query:{}})}}},[t("v-icon",[e._v("mdi-delete")])],1):e._e(),0==Object.values(e.query).flat().length?t("v-chip",{key:"weapons-query-empty",staticClass:"mb-2 mr-2"},[e._v(e._s(e.$t("All")))]):e._e(),e._l(e.query,(function(_,s){return[e._l(_,(function(_){return[t("v-chip",{key:"weapons-query-"+s+"-"+_,staticClass:"mb-2 mr-2",on:{click:function(t){e.input=s+" = "+_}}},[t("span",{staticClass:"pr-1 d-block",staticStyle:{"max-width":"256px",overflow:"hidden"}},[e.$s.advancedFilter?[t("span",{staticClass:"primary--text",staticStyle:{"font-weight":"550"}},[e._v(e._s(s)+" = ")]),t("span",[e._v(e._s(_))])]:"rare"==s?[t("span",[e._v(e._s(e.$t("Rares."+_)))])]:"class"==s?[t("span",[e._v(e._s(e.$t("Classes."+_)))])]:"element"==s?[t("span",[e._v(e._s(e.$t("Elements."+_)))])]:"title"==s?[t("span",[e._v(e._s(e.$name(e.$store.state.$db.TitleList[_].m_DisplayName)))])]:"skill"==s?[t("span",{staticClass:"primary--text",staticStyle:{"font-weight":"550"}},[e._v("skill")])]:"passive"==s?[t("span",{staticClass:"primary--text",staticStyle:{"font-weight":"550"}},[e._v("passive: "+e._s(e.$t("Passive Types."+String(JSON.parse(_).type))))])]:"name"==s?[t("span",[e._v(e._s(_))])]:[t("span",{staticClass:"primary--text",staticStyle:{"font-weight":"550"}},[e._v(e._s(s)+" = ")]),t("span",[e._v(e._s(_))])]],2),t("v-icon",{attrs:{small:""},on:{click:function(t){return e.q(s,_)}}},[e._v("mdi-close")])],1)]}))]}))],2),t("v-divider"),t("v-row",{staticClass:"my-2",attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12",lg:"6"}},[t("v-list-item",{attrs:{dense:""}},[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(e.$t("Rare")))])],1),t("v-list-item-action",{staticClass:"ma-0 d-flex flex-row align-center"},e._l(e.rares,(function(_){return t("v-chip",{key:"weapons-filters-rare-"+_,staticClass:"ml-1",on:{click:function(t){return e.q("rare",_)}}},[e._v(e._s(e.$t("Rares."+_)))])})),1)],1),t("v-list-item",{attrs:{dense:""}},[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(e.$t("Class")))])],1),t("v-list-item-action",{staticClass:"ma-0 d-flex flex-row align-center"},e._l(e.classes,(function(_,s){return t("v-avatar",{key:"weapons-filters-class-"+s,staticClass:"ml-1",attrs:{size:"32"}},[t("v-img",{attrs:{src:e.$asset.commonuiatlas.format(_)+".png"},on:{click:function(_){return e.q("class",s)}}})],1)})),1)],1),t("v-list-item",{attrs:{dense:""}},[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(e.$t("Evolution")))])],1),t("v-list-item-action",{staticClass:"ma-0 d-flex flex-row align-center"},[t("v-chip",{staticClass:"ml-1",on:{click:function(_){return e.q("evolution",0)}}},[e._v("0")]),t("v-chip",{staticClass:"ml-1",on:{click:function(_){return e.q("evolution",3)}}},[e._v("3")]),t("v-chip",{staticClass:"ml-1",on:{click:function(_){return e.q("evolution",4)}}},[e._v("4")])],1)],1)],1),t("v-col",{attrs:{cols:"12",lg:"6"}},[t("v-menu",{attrs:{"offset-x":"","max-width":"256"},scopedSlots:e._u([{key:"activator",fn:function(_){var s=_.on;return[t("v-list-item",e._g({attrs:{dense:""}},s),[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(e.$t("Title")))])],1),t("v-list-item-action",{staticClass:"ma-0"},[t("v-icon",[e._v("mdi-chevron-right")])],1)],1)]}}])},[t("v-list",{staticClass:"overflow-y-auto",attrs:{dense:"","max-height":"calc(100vh - 24px)"}},e._l(e.$store.state.$db.TitleListArray,(function(_){return t("v-list-item",{key:"weapons-filter-title-"+_.m_TitleType,on:{click:function(t){return e.q("title",_.m_TitleType)}}},[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(e.$name(_.m_DisplayName)))])],1)],1)})),1)],1),t("v-dialog",{attrs:{"max-width":"512"},scopedSlots:e._u([{key:"activator",fn:function(_){var s=_.on;return[t("v-list-item",e._g({attrs:{dense:""}},s),[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(e.$t("Skill")))])],1),t("v-list-item-action",{staticClass:"ma-0"},[t("v-icon",[e._v("mdi-dots-horizontal")])],1)],1)]}}])},[t("SkillSelector",{attrs:{push:function(_){return e.q("skill",_)}}})],1),t("v-dialog",{attrs:{"max-width":"512"},scopedSlots:e._u([{key:"activator",fn:function(_){var s=_.on;return[t("v-list-item",e._g({attrs:{dense:""}},s),[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(e.$t("Passive Skill")))])],1),t("v-list-item-action",{staticClass:"ma-0"},[t("v-icon",[e._v("mdi-dots-horizontal")])],1)],1)]}}])},[t("PassiveSelector",{attrs:{push:function(_){return e.q("passive",_)}}})],1)],1)],1),t("v-text-field",{staticClass:"px-4",attrs:{dense:"",placeholder:e.$t("Input.Filter")},on:{keydown:function(_){return!_.type.indexOf("key")&&e._k(_.keyCode,"enter",13,_.key,"Enter")?null:e.enter.apply(null,arguments)}},model:{value:e.input,callback:function(_){e.input=_},expression:"input"}}),e._l(e.weaponList.slice(0,e.show),(function(_,s){return[e.$ad(s)?[t("v-divider"),t("Ad",{key:"weapons-ad-"+s})]:e._e(),t("v-divider"),t("Weapon",{key:"weapons-weapon-"+_.m_ID,attrs:{id:_.m_ID}})]}))],2)},i=[],a=t("b320"),r=a["a"],n=t("2877"),l=t("6544"),o=t.n(l),c=t("8212"),u=t("cc20"),m=t("62ad"),p=t("169a"),d=t("ce7e"),v=t("132d"),E=t("adda"),h=t("8860"),f=t("da13"),y=t("1800"),D=t("5d23"),w=t("e449"),O=t("0fd9"),P=t("8654"),C=Object(n["a"])(r,s,i,!1,null,null,null);_["default"]=C.exports;o()(C,{VAvatar:c["a"],VChip:u["a"],VCol:m["a"],VDialog:p["a"],VDivider:d["a"],VIcon:v["a"],VImg:E["a"],VList:h["a"],VListItem:f["a"],VListItemAction:y["a"],VListItemContent:D["b"],VListItemTitle:D["d"],VMenu:w["a"],VRow:O["a"],VTextField:P["a"]})},b320:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4de4"),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("c975"),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("fb6a"),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a434"),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("498a"),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_9__),_components_Skill_parser__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("eb1a"),_Weapon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("1715"),_components_Selector_PassiveSelector__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("b745");__webpack_exports__["a"]={name:"Weapons",components:{Weapon:_Weapon__WEBPACK_IMPORTED_MODULE_11__["a"]},data:function(){return{show:20,input:""}},computed:{_weaponList:function(){return this.$store.state.$db.WeaponListArray.filter((function(e){return 0==e.m_EvolvedCount&&!e.default}))},weaponList:function weaponList(){var _this=this,weaponList=this._weaponList.filter((function(weapon){try{var character=-1==weapon.m_EquipableCharaID?{}:_this.$store.state.$db.CharacterList[weapon.m_EquipableCharaID-weapon.m_EquipableCharaID%10],named=void 0==character.m_NamedType?{}:_this.$store.state.$db.NamedList[character.m_NamedType];return(!_this.query.name||!_this.query.name.length||_this.query.name.map((function(e){return RegExp(e.replace(/\s/g,""),"i")})).some((function(e){return[character.m_Name,_this.$name(character.m_Name),named.m_ResouceBaseName,named.m_NickName,named.m_FullName,named.fullName,_this.$name(named.fullName),weapon.m_WeaponName,_this.$name(weapon.m_WeaponName)].some((function(_){return e.test(_&&_.replace(/\s/g,""))}))})))&&(!_this.query.title||!_this.query.title.length||_this.query.title.some((function(e){return _this.$store.state.$db.NamedList[character.m_NamedType].m_TitleType==e})))&&(!_this.query.rare||!_this.query.rare.length||_this.query.rare.some((function(e){return weapon.m_Rare==e})))&&(!_this.query.class||!_this.query.class.length||_this.query.class.some((function(e){return weapon.m_ClassType==e})))&&(!_this.query.evolution||!_this.query.evolution.length||_this.query.evolution.some((function(e){return weapon.maxEvolution==e})))&&(!_this.query.skill||!_this.query.skill.length||_this.query.skill.some((function(skillEval){return[weapon.m_SkillID,_this.$store.state.$db.WeaponList[weapon.m_ID+weapon.maxEvolution].m_SkillID].filter((function(e){return e&&-1!=e})).some((function(skillID){return _this.$store.state.$db.SkillContentList_WPN[skillID].m_Datas.some((function(data){var amount=_components_Skill_parser__WEBPACK_IMPORTED_MODULE_10__["a"].amount,amounts=_components_Skill_parser__WEBPACK_IMPORTED_MODULE_10__["a"].amounts,isTargetAll=_components_Skill_parser__WEBPACK_IMPORTED_MODULE_10__["a"].isTargetAll;return eval(skillEval,data,amount,amounts,isTargetAll)}))}))})))&&(!_this.query.eval||!_this.query.eval.length||_this.query.eval.some((function(e){return eval(e)})))&&(!_this.query.passive||!_this.query.passive.length||_this.query.passive.some((function(e){return _components_Selector_PassiveSelector__WEBPACK_IMPORTED_MODULE_12__["a"].filter(e,weapon)})))}catch(e){return console.log(e),!1}}));return weaponList},disabled:function(){return"Weapons"!=this.$route.name||this.show>=this.weaponList.length},query:function(){var e={};for(var _ in this.$route.query)Array.isArray(this.$route.query[_])?e[_]=this.$route.query[_].slice():e[_]=[this.$route.query[_]];return e},rares:function(){return[2,3,4]},classes:function(){return["ClassIconFighter","ClassIconMagician","ClassIconPriest","ClassIconKnight","ClassIconAlchemist"]}},methods:{enter:function(){if(0!=this.input.trim().length){var e=this.input.indexOf("=");if(-1!=e){var _=this.input.slice(0,e).trim(),t=this.input.slice(e+1).trim();this.q(_,t)}else{var s="name",i=this.input.trim();this.q(s,i)}this.input=""}},q:function(e,_){var t=String(_),s=this.query;if(s[e]){var i=s[e].indexOf(t);-1!=i?s[e].splice(i,1):s[e].push(t)}else s[e]=[t];this.$router.replace({query:s})},load:function(){this.show+=10}},watch:{weaponList:function(){this.show=20}}}}}]);
//# sourceMappingURL=chunk-8348a574.b9cf72a3.js.map