(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50352901"],{5794:function(e,r,t){var a=t("c973").default;t("96cf"),t("d3b7"),t("25f0"),t("fb6a");var n=window.require("fs"),o=t("eed9"),i=o.promisify(n.readFile);function c(e){return l.apply(this,arguments)}function l(){return l=a(regeneratorRuntime.mark((function e(r){var t,a,n,o,c,l,s,u,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r){e.next=4;break}return e.next=3,i(r);case 3:r=e.sent;case 4:if(r&&!(r.length<4)){e.next=6;break}return e.abrupt("return",null);case 6:if(t=0,a={},a.buffer=r,a.magic=r.slice(t,4).toString(),t+=4,"AFS2"===a.magic){e.next=13;break}return e.abrupt("return",null);case 13:for(a.unknown1=r.readUInt8(t),t+=1,a.sizeLen=r.readUInt8(t),t+=1,a.unknown2=r.readUInt8(t),t+=1,a.unknown3=r.readUInt8(t),t+=1,a.fileCount=r.readUInt32LE(t),t+=4,a.align=r.readUInt16LE(t),t+=2,a.key=r.readUInt16LE(t),t+=2,a.fileIds=[],n=0;n<a.fileCount;n++)o=r.readUInt16LE(t),t+=2,a.fileIds.push(o);for(c=[],2===a.sizeLen?(l=r.readUInt16LE(t),t+=2):4===a.sizeLen?(l=r.readUInt32LE(t),t+=4):console.log("Unknown sizeLen: "+a.sizeLen),s=l%a.align,0!=s&&(l+=a.align-s),u=0;u<a.fileCount;u++)f=void 0,2===a.sizeLen?(f=r.readUInt16LE(t),t+=2):4===a.sizeLen?(f=r.readUInt32LE(t),t+=4):console.log("Unknown sizeLen: "+a.sizeLen),c.push(r.slice(l,f)),l=f,s=l%a.align,0!=s&&(l+=a.align-s);return c.config=a,e.abrupt("return",c);case 36:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}r.parseAFS2=c},c85d:function(e,r,t){function a(e,r){while(0!==e[r])r++;return r}function n(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||e.length<4)return null;var t=0,o={};if(o.magic=e.slice(t,4).toString(),t+=4,"@UTF"!==o.magic)return null;o.dataSize=e.readUInt32BE(t),t+=4,e=e.slice(t),t=0,o.unknown=e.readUInt16BE(t),t+=2,o.valueOffset=e.readUInt16BE(t),t+=2,o.stringOffset=e.readUInt32BE(t),t+=4,o.dataOffset=e.readUInt32BE(t),t+=4,o.nameOffset=e.readUInt32BE(t),t+=4,o.elementCount=e.readUInt16BE(t),t+=2,o.valueSize=e.readUInt16BE(t),t+=2,o.pageCount=e.readUInt32BE(t),t+=4;var i=a(e,o.stringOffset);o.name=e.slice(o.stringOffset,i).toString();var c=o.valueOffset,l=[];o.types=[];for(var s=t,u=0;u<o.pageCount;u++){var f={};t=s;for(var p=0;p<o.elementCount;p++){var d=e.readUInt8(t);t+=1,0===u&&(o.types[p]=d);var v=o.stringOffset+e.readUInt32BE(t);t+=4,i=a(e,v);var b=e.slice(v,i).toString(),m=d>>>5;d&=31;var h=null;if(m>0){var w=1===m?t:c;switch(d){case 16:h=e.readInt8(w),w+=1;break;case 17:h=e.readUInt8(w),w+=1;break;case 18:h=e.readInt16BE(w),w+=2;break;case 19:h=e.readUInt16BE(w),w+=2;break;case 20:h=e.readInt32BE(w),w+=4;break;case 21:h=e.readUInt32BE(w),w+=4;break;case 22:h=e.readBigInt64BE(w),w+=8;break;case 23:h=e.readBigUInt64BE(w),w+=8;break;case 24:h=e.readFloatBE(w),w+=4;break;case 25:console.log("0x19"),h=e.readDoubleBE(w),w+=8;break;case 26:v=o.stringOffset+e.readUInt32BE(w),w+=4,i=a(e,v),h=e.slice(v,i).toString();break;case 27:var k=o.dataOffset+e.readUInt32BE(w);w+=4;var I=e.readUInt32BE(w);w+=4,h=e.slice(k,k+I);var g=n(h,r);g?h=g:r&&(h=e.slice(k,k+I).toString("hex"));break;default:console.log("unknown type: ".concat(d));break}1===m?t=w:c=w}f[b]=h}l.push(f)}return l.config=o,l}t("d3b7"),t("25f0"),t("fb6a"),r.parseUtf=n},c973:function(e,r,t){function a(e,r,t,a,n,o,i){try{var c=e[o](i),l=c.value}catch(s){return void t(s)}c.done?r(l):Promise.resolve(l).then(a,n)}function n(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function c(e){a(i,n,o,c,l,"next",e)}function l(e){a(i,n,o,c,l,"throw",e)}c(void 0)}))}}t("d3b7"),e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},cb38:function(e,r,t){var a=t("6374").default,n=t("c973").default;t("96cf"),t("d9e2"),t("a15b"),t("d3b7"),t("3ca3"),t("ddb0"),t("7db0");var o=window.require("path"),i=t("eed9"),c=window.require("fs"),l=t("5794"),s=t("d96e"),u=t("c85d"),f=i.promisify(c.readFile),p=i.promisify(c.mkdir);function d(e){return v.apply(this,arguments)}function v(){return v=n(regeneratorRuntime.mark((function e(r){var t,a,n,i,s,p,d,v,b,m,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.parse(r),e.next=3,f(r);case 3:if(a=e.sent,n=u.parseUtf(a),n){e.next=7;break}throw new Error("NOT ACB FILE");case 7:if(1===n.length){e.next=9;break}throw new Error("Failed to parse ACB file");case 9:return i=n[0],i.buffer=a,e.next=13,l.parseAFS2(i.AwbFile);case 13:i.memoryHcas=e.sent,i.streamHcas=[],s=0;case 16:if(!(s<i.StreamAwbHash.length)){e.next=27;break}if(p=i.StreamAwbHash[s],d=o.join(t.dir,p.Name+".awb"),!c.existsSync(d)){e.next=24;break}return e.next=22,l.parseAFS2(d);case 22:v=e.sent,i.streamHcas.push(v);case 24:s++,e.next=16;break;case 27:b=0;case 28:if(!(b<i.WaveformTable.length)){e.next=37;break}if(m=i.WaveformTable[b],h=0===m.Streaming,h){e.next=34;break}if(i.streamHcas[m.StreamAwbPortNo]){e.next=34;break}throw new Error("MISSING ".concat(i.StreamAwbHash[b].Name,".awb"));case 34:b++,e.next=28;break;case 37:return e.abrupt("return",i);case 38:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function b(e,r,t,a,n,o){return m.apply(this,arguments)}function m(){return m=n(regeneratorRuntime.mark((function e(r,t,n,i,l,u){var f,v,b,m,h,w,k,I,g,U,E,x,y,F,B,S,L,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f=o.parse(r),e.next=3,d(r);case 3:if(v=e.sent,void 0===n&&(n=o.join(f.dir,v.Name)),c.existsSync(n)){e.next=10;break}return e.next=8,p(n,{recursive:!0});case 8:e.next=13;break;case 10:if(!u){e.next=13;break}return console.log("Skipped ".concat(f.base,"...")),e.abrupt("return");case 13:if(b=0,m=0,h=[],19922944!==v.Version){e.next=21;break}w=v.SequenceTable,k="NumTracks",e.next=27;break;case 21:if(20119552!==v.Version){e.next=26;break}w=v.CueTable,k="NumRelatedWaveforms",e.next=27;break;case 26:throw new Error("Unsupported ACB version");case 27:I=a(w);try{for(I.s();!(g=I.n()).done;){for(U=g.value,E=0;E<U[k];E++)x=b,y=v.WaveformTable[x],F=0===y.Streaming,B=F?v.memoryHcas[y.MemoryAwbId]:v.streamHcas[y.StreamAwbPortNo][y.StreamAwbId],S=F?v.memoryHcas.config.key:v.streamHcas[y.StreamAwbPortNo].config.key,L=v.CueNameTable.find((function(e){return e.CueIndex===m})).CueName+"_"+E+".wav",C=o.join(n,L),h.push(s.decodeHcaToWav(B,t,S,C,i,l)),b++;m++}}catch(A){I.e(A)}finally{I.f()}return e.next=31,Promise.all(h);case 31:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function h(e,r,t,a,n,o){return w.apply(this,arguments)}function w(){return w=n(regeneratorRuntime.mark((function e(r,t,i,l,u,f){var v,b,m,h,w,k,I,g,U,E,x,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return v=o.parse(r),e.next=3,d(r);case 3:if(b=e.sent,void 0===i&&(i=o.join(v.dir,b.Name)),c.existsSync(i)){e.next=10;break}return e.next=8,p(i,{recursive:!0});case 8:e.next=13;break;case 10:if(!f){e.next=13;break}return console.log("Skipped ".concat(v.base,"...")),e.abrupt("return");case 13:if(m=0,h=0,19922944!==b.Version){e.next=20;break}w=b.SequenceTable,k="NumTracks",e.next=26;break;case 20:if(20119552!==b.Version){e.next=25;break}w=b.CueTable,k="NumRelatedWaveforms",e.next=26;break;case 25:throw new Error("Unsupported ACB version");case 26:I=[],g=a(w);try{for(g.s();!(U=g.n()).done;){for(E=U.value,x=function(e){var r=m,a=b.WaveformTable[r],c=0===a.Streaming,f=c?b.memoryHcas[a.MemoryAwbId]:b.streamHcas[a.StreamAwbPortNo][a.StreamAwbId],p=c?b.memoryHcas.config.key:b.streamHcas[a.StreamAwbPortNo].config.key,d=b.CueNameTable.find((function(e){return e.CueIndex===h})).CueName+"_"+e+".wav",v=o.join(i,d);I.push([d,n(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.decodeHcaToWav(f,t,p,v,l,u);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))]),m++},y=0;y<E[k];y++)x(y);h++}}catch(F){g.e(F)}finally{g.f()}return e.abrupt("return",I);case 30:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}r.acb2wavs=b,r.acbParse=h},d96e:function(e,r,t){var a=t("970b").default,n=t("5bc3").default,o=t("c973").default;t("96cf"),t("d3b7"),t("25f0"),t("fb6a"),t("a9e3"),t("ace4"),t("cfc3"),t("907a"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),t("cb29"),t("d9e2"),t("99af"),t("a15b"),t("b0c0");var i=t("eed9"),c=window.require("path"),l=window.require("buffer").Buffer,s=window.require("fs"),u=i.promisify(s.readFile),f=i.promisify(s.writeFile),p=i.promisify(s.appendFile),d=window.BigInt;function v(e,r,t){if(0===r){for(var a=0;a<128;a++)e[a]=0;return!0}if(1===r){for(var n=[120,95,86,81,78,76,75,73,72,72,71,70,70,69,69,69,68,68,68,68,67,67,67,67,67,67,66,66,66,66,66,66,66,66,65,65,65,65,65,65,65,65,65,65,64,64,64,64,64,64,64,64,64,63,63,63,63,63,63,63,63,63,63,63,63,63,63,62,62,62,62,62,62,61,61,61,61,61,61,61,60,60,60,60,60,60,60,60,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,60,60,60,60,60,60,60,60,61,61,61,61,61,61,61,61,62,62,62,62,62,62,62,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,68,68,68,68,68,68,68,68,68,68,68,68,68,68,69,69,69,69,69,69,69,69,69,69,69,69,70,70,70,70,70,70,70,70,70,70,71,71,71,71,71,71,71,71,71,71,72,72,72,72,72,72,72,72,73,73,73,73,73,73,73,73,74,74,74,74,74,74,74,74,75,75,75,75,75,75,75,76,76,76,76,76,76,77,77,77,77,77,77,78,78,78,78,78,78,79,79,79,79,79,79,80,80,80,80,80,81,81,81,81,81,82,82,82,82,82,83,83,83,83,84,84,84,84,84,85,85,85,85,86,86,86,86,87,87,87,87,87,88,88,88,89,89,89,89,90,90,90,90,91,91,91,91,92,92,92,93,93,93,93,94,94,94,95,95,95,96,96,96,97,97,97,97,98,98,98,99,99,99,100,100,100,101,101,102,102,102,103,103,103,104,104,104,105,105,106,106,106,107,107,107,108,108,109,109,109,110,110,111,111,112,112,112,113,113,114,114,115,115,115,116,116,117,117,118,118,119,119,120,120,120,121,121,122,122,123,123,124,124,125,125,126,126,127,127,128,128,129,129,130,131,131,132,132,133,133,134,134,135,136,136,137,137,138,138,139,140,140,141,141,142,143,143,144,144,145,146,146,147,148,148,149,149,150,151,151,152,153,153,154,155,155,156,157,157,158,159,160,160,161,162,162,163,164,165,165,166,167,167,168,169,170,170,171,172,173,174,174,175,176,177,177,178,179,180,181,182,182,183,184,185,186,186,187,188,189,190,191,192,193,193,194,195,196,197,198,199,200,201,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,237,238,239,240,241,242,243,244,245,247,248,249,250,251,252,253,255,255],o=0,i=0;i<128;i++){var c=o>>>13;if(c>=654){for(var l=128-i,s=0;s<l;s++)e[i+s]=255;break}e[i]=n[c],o+=t}return!0}return!1}function b(e,r){var t=(1&r)<<3|5,a=14&r|1;r>>>=4;for(var n=0;n<16;n++)r=r*t+a&15,e[n]=r}function m(e,r,t,a){if(0===r){for(var n=0;n<256;n++)e[n]=n;return!0}if(1===r){for(var o=0,i=1;i<255;i++)o=13*o+11&255,0!==o&&255!==o||(o=13*o+11&255),e[i]=o;return e[0]=0,e[255]=255,!0}if(56===r){var c=l.alloc(8);t||a--,t--;for(var s=0;s<7;s++)c[s]=255&t,t=t>>>8|a<<24&4294967295,a>>>=8;var u=l.from([c[1],c[1]^c[6],c[2]^c[3],c[2],c[2]^c[1],c[3]^c[4],c[3],c[3]^c[2],c[4]^c[5],c[4],c[4]^c[3],c[5]^c[6],c[5],c[5]^c[4],c[6]^c[1],c[6]]),f=l.alloc(256),p=l.alloc(16),d=l.alloc(16);b(p,c[0]);for(var v=0,m=0;m<16;m++){b(d,u[m]);for(var h=p[m]<<4&255,w=0;w<16;w++)f[v++]=h|d[w]}for(var k=1,I=0,g=0;I<256;I++){g=g+17&255;var U=f[g];0!=U&&255!=U&&(e[k++]=U)}return e[0]=0,e[255]=255,!0}return!1}function h(e,r){for(var t=0;t<r.length;t++)r[t]=e[r[t]]}function w(e,r){for(var t=0,a=[0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1e3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514],n=0;n<r;n++)t=t<<8&65535^a[t>>>8^e[n]];return t}function k(e,r,t){if(void 0===t&&(t=0),!e||e.length<4)return null;var a=0,n={};if(n.magic=e.readUInt32LE(a),a+=4,4277064!==(2139062143&n.magic))return null;if(n.version=e.readUInt16BE(a),a+=2,n.dataOffset=e.readUInt16BE(a),a+=2,n.fmt=e.readUInt32LE(a),a+=4,7630182!==(2139062143&n.fmt))return null;if(n.channelCount=e.readUInt8(a),n.samplingRate=16777215&e.readUInt32BE(a),a+=4,n.blockCount=e.readUInt32BE(a),a+=4,n.muteHeader=e.readUInt16BE(a),a+=2,n.muteFooter=e.readUInt16BE(a),a+=2,!(n.channelCount>=1&&n.channelCount<=16))return null;if(!(n.samplingRate>=1&&n.samplingRate<=8388607))return null;var o=e.readUInt32LE(a);if(a+=4,n.compdec=o,n.blockSize=e.readUInt16BE(a),a+=2,n.r01=e.readUInt8(a),a+=1,n.r02=e.readUInt8(a),a+=1,1886220131===(2139062143&o))n.r03=e.readUInt8(a),a+=1,n.r04=e.readUInt8(a),a+=1,n.r05=e.readUInt8(a),a+=1,n.r06=e.readUInt8(a),a+=1,n.r07=e.readUInt8(a),a+=1,n.r08=e.readUInt8(a),a+=1,n.reserve1=e.readUInt8(a),a+=1,n.reserve2=e.readUInt8(a),a+=1;else{if(6514020!==(2139062143&o))return null;n.count1=e.readUInt8(a),a+=1,n.count2=e.readUInt8(a),a+=1,n.r03=e.readUInt8(a)>>>4&15,n.r04=15&e.readUInt8(a),a+=1,n.enableCount2=e.readUInt8(a),a+=1}if(!(n.blockSize>=1&&n.blockSize<=65535||0===n.blockSize))return null;if(!(n.r01>=0&&n.r01<=n.r02&&n.r02<=31))return null;if(o=e.readUInt32LE(a),a+=4,7496310===(2139062143&o)){if(n.vbr=o,n.vbrPos=a-4,n.vbrR1=e.readUInt16BE(a),a+=2,n.vbrR2=e.readUInt16BE(a),a+=2,!(0===n.blockSize&&n.vbrR1>=0&&n.vbrR2<=511))return null;o=e.readUInt32LE(a),a+=4}if(6845537===(2139062143&o)?(n.ath=o,n.athPos=a-4,n.athType=e.readUInt16BE(a),a+=2,o=e.readUInt32LE(a),a+=4):n.athType=n.version<512?1:0,1886351212===(2139062143&o)){if(n.loop=o,n.loopPos=a-4,n.loopStart=e.readUInt32BE(a),a+=4,n.loopEnd=e.readUInt32BE(a),a+=4,n.loopCount=e.readUInt16BE(a),a+=2,!(n.loopStart>=0&&n.loopStart<=n.loopEnd&&n.loopEnd<=n.blockCount))return null;n.loopR1=e.readUInt16BE(a),a+=2,o=e.readUInt32LE(a),a+=4}if(1752197475===(2139062143&o)){if(n.ciph=o,n.ciphPos=a-4,n.ciphType=e.readUInt16BE(a),a+=2,0!==n.ciphType&&1!==n.ciphType&&56!==n.ciphType)return null;o=e.readUInt32LE(a),a+=4}if(6387314===(2139062143&o)?(n.rva=o,n.rvaPos=a-4,n.volume=e.readFloatBE(a),a+=4,o=e.readUInt32LE(a),a+=4):n.volume=1,1835888483===(2139062143&o)&&(n.comm=o,n.commPos=a-4,n.commLen=e.readUInt8(a),a+=1,n.commLen&&(n.comment=e.slice(a,a+n.commLen).toString(),a+=n.commLen),o=e.readUInt32LE(a),a+=4),6578544===(2139062143&o)&&(n.pad=o,n.padPos=a-4,o=e.readUInt32LE(a),a+=4),n.athTable=l.alloc(128),!v(n.athTable,n.athType,n.samplingRate))return null;var i=0,c=0;return r&&(r=d(r),t&&(r=d(r)*(d(t)<<d("16")|d(2+(65535&~t)&65535))&d("0xFFFFFFFFFFFFFFFF")),i=Number(r&d("0xFFFFFFFF")),c=Number(r>>d("32")&d("0xFFFFFFFF"))),n.ciphTable=l.alloc(256),m(n.ciphTable,n.ciphType,i,c)?n:null}function I(e,r,t,a,n){return g.apply(this,arguments)}function g(){return g=o(regeneratorRuntime.mark((function e(r,t,a,n,o){var i,s,p,d,v,b,I;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r){e.next=5;break}return console.log("Decrypting ".concat(c.parse(r).base,"...")),e.next=4,u(r);case 4:r=e.sent;case 5:if("string"===typeof n?(o=n,n=1):void 0===n&&(n=1),i=k(r,t,a),i){e.next=9;break}throw new Error("Not a valid HCA file");case 9:if(r.writeUInt32LE(2139062143&i.magic,0),r.writeUInt32LE(2139062143&i.fmt,8),r.writeUInt32LE(2139062143&i.compdec,24),i.vbr&&r.writeUInt32LE(2139062143&i.vbr,i.vbrPos),i.ath&&r.writeUInt32LE(2139062143&i.ath,i.athPos),i.loop&&r.writeUInt32LE(2139062143&i.loop,i.loopPos),i.ciph&&r.writeUInt32LE(2139062143&i.ciph,i.ciphPos),i.rva&&r.writeUInt32LE(2139062143&i.rva,i.rvaPos),i.comm&&r.writeUInt32LE(2139062143&i.comm,i.commPos),i.pad&&r.writeUInt32LE(2139062143&i.pad,i.padPos),r.writeUInt16BE(n,i.ciphPos+4),r.writeUInt16BE(w(r,i.dataOffset-2),i.dataOffset-2),i.ciphType===n){e.next=39;break}for(s=l.alloc(256),p=l.alloc(256),m(s,1),d=0;d<p.length;d++)p[s[d]]=d;v=i.dataOffset,b=0;case 28:if(!(b<i.blockCount)){e.next=39;break}if(!(v>=r.length)){e.next=31;break}return e.abrupt("break",39);case 31:I=r.slice(v,v+i.blockSize),h(i.ciphTable,I),1===n&&h(p,I),I.writeUInt16BE(w(I,I.length-2),I.length-2),v+=i.blockSize;case 36:b++,e.next=28;break;case 39:if(void 0===o){e.next=42;break}return e.next=42,f(o,r);case 42:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function U(e,r){return r>0?Math.floor(e/r)+(e%r?1:0):0}function E(e){var r=1886220131===(2139062143&e.compdec);if(e.comp={},e.comp.r01=e.r01,e.comp.r02=e.r02,e.comp.r03=e.r03,e.comp.r04=e.r04,e.comp.r05=r?e.r05:e.count1+1,e.comp.r06=r?e.r06:e.enableCount2?e.count2+1:e.count1+1,e.comp.r07=r?e.r07:e.r05-e.r06,e.comp.r08=r?e.r08:0,e.comp.r03||(e.comp.r03=1),1!==e.comp.r01||15!==e.comp.r02)return!1;e.comp.r09=U(e.comp.r05-(e.comp.r06+e.comp.r07),e.comp.r08);var t=l.alloc(16),a=Math.floor(e.channelCount/e.comp.r03);if(e.comp.r07&&a>1)for(var n=0,o=0;o<e.comp.r03;o++){switch(a){case 2:t[n]=1,t[n+1]=2;break;case 3:t[n]=1,t[n+1]=2;break;case 4:t[n]=1,t[n+1]=2,0==e.comp.r04&&(t[n+2]=1,t[n+3]=2);break;case 5:t[n]=1,t[n+1]=2,e.comp.r04<=2&&(t[n+3]=1,t[n+4]=2);break;case 6:t[n]=1,t[n+1]=2,t[n+4]=1,t[n+5]=2;break;case 7:t[n]=1,t[n+1]=2,t[n+4]=1,t[n+5]=2;break;case 8:t[n]=1,t[n+1]=2,t[n+4]=1,t[n+5]=2,t[n+6]=1,t[n+7]=2;break}n+=a}e.channels=[];for(var i=0;i<e.channelCount;i++){var c={};c.block=new Float32Array(128),c.base=new Float32Array(128),c.value=l.alloc(128),c.scale=l.alloc(128),c.value2=l.alloc(8),c.type=t[i],c.value3=c.value.slice(e.comp.r06+e.comp.r07),c.count=e.comp.r06+(2!=t[i]?e.comp.r07:0),c.wav1=new Float32Array(128),c.wav2=new Float32Array(128),c.wav3=new Float32Array(128),c.wave=[new Float32Array(128),new Float32Array(128),new Float32Array(128),new Float32Array(128),new Float32Array(128),new Float32Array(128),new Float32Array(128),new Float32Array(128)],e.channels.push(c)}return!0}r.decryptHca=I;var x=function(){"use strict";function e(r){a(this,e),this.data=r,this.size=8*r.length-16,this.bit=0,this.mask=[16777215,8388607,4194303,2097151,1048575,524287,262143,131071]}return n(e,[{key:"checkBit",value:function(e){var r=0;if(this.bit+e<=this.size){var t=this.bit>>>3;r=this.data[t],r=r<<8|this.data[t+1],r=r<<8|this.data[t+2],r&=this.mask[7&this.bit],r>>>=24-(7&this.bit)-e}return r}},{key:"getBit",value:function(e){var r=this.checkBit(e);return this.bit+=e,r}},{key:"addBit",value:function(e){this.bit+=e}}]),e}();function y(e){for(var r=[],t=l.alloc(4),a=0;a<e.length;a++)t.writeUInt32LE(e[a],0),r[a]=t.readFloatLE(0);return r}var F={scalelist:[14,14,14,14,14,14,13,13,13,13,13,13,12,12,12,12,12,12,11,11,11,11,11,11,10,10,10,10,10,10,10,9,9,9,9,9,9,8,8,8,8,8,8,7,6,6,5,4,4,4,3,3,3,2,2,2,2,0,0,0,0,0,0,0],valueFloat:y([875203878,878919561,882337149,885635518,889611409,892539332,896440592,899609906,903073009,906828511,909902666,913998771,916907413,920543477,924067583,927295274,931365721,934230905,938048568,941329722,944718617,948573397,951581680,955590013,958616079,962174230,965802573,968961101,973124077,975927866,979663725,983054320,986370598,990322530,993266351,997188794,1000329768,1003811675,1007542020,1010632868,1014751213,1017630100,1021285907,1024783600,1028028817,1032075817,1034956558,1038794951,1042048371,1045455668,1049285830,1052310447,1056340545,1059337494,1062914964,1066517459,1069693138,1073833170,1076652183,1080408327,1083771784,1087106069,1091033909,1093993715]),scaleFloat:y([0,1059760811,1053609165,1049774373,1046711865,1044000396,1042123225,1040746633,1032069384,1023543329,1015087620,1006665857,998260768,989863944,981471234,973080577])};function B(e,r,t,a,n){var o=r.getBit(3);if(o>=6)for(var i=0;i<e.count;i++)e.value[i]=r.getBit(6);else if(o){var c,l=r.getBit(6),s=(1<<o)-1,u=s>>>1;e.value[0]=l;for(var f=1;f<e.count;f++)c=r.getBit(o),c!==s?l+=c-u:l=r.getBit(6),e.value[f]=l}else e.value.fill(0);if(2==e.type){if(o=r.checkBit(4),e.value2[0]=o,o<15)for(var p=0;p<8;p++)e.value2[p]=r.getBit(4)}else for(var d=0;d<t;d++)e.value3[d]=r.getBit(6);for(var v=0;v<e.count;v++)o=e.value[v],o&&(o=n[v]+(a+v>>>8)-Math.floor(5*o/2)+1,o=o<0?15:o>=57?1:F.scalelist[o]),e.scale[v]=o;e.scale.fill(0,e.count,128);for(var b=0;b<e.count;b++)e.base[b]=F.valueFloat[e.value[b]]*F.scaleFloat[e.scale[b]]}var S={list1:[0,2,3,3,4,4,4,4,5,6,7,8,9,10,11,12],list2:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,3,3,0,0,0,0,0,0,0,0,2,2,3,3,3,3,3,3,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4],list3:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,-1,-1,2,-2,0,0,0,0,0,0,0,0,0,0,1,-1,2,-2,3,-3,0,0,0,0,0,0,0,0,0,0,1,1,-1,-1,2,2,-2,-2,3,3,-3,-3,4,-4,0,0,1,1,-1,-1,2,2,-2,-2,3,-3,4,-4,5,-5,0,0,1,1,-1,-1,2,-2,3,-3,4,-4,5,-5,6,-6,0,0,1,-1,2,-2,3,-3,4,-4,5,-5,6,-6,7,-7]};function L(e,r){for(var t=0;t<e.count;t++){var a=void 0,n=e.scale[t],o=S.list1[n],i=r.getBit(o);n<8?(i+=n<<4,r.addBit(S.list2[i]-o),a=S.list3[i]):(i=(1-((1&i)<<1))*Math.floor(i/2),i||r.addBit(-1),a=i),e.block[t]=e.base[t]*a}e.block.fill(0,e.count,128)}var C={listFloat:y([0,0,849391697,852892510,856597562,859705192,863845900,866694869,870370527,873841663,877104501,881127926,884024310,887883545,891109082,894534879,898340290,901381330,905433311,908400984,911997880,915574386,918767309,922884271,925718591,929495131,932831302,936183692,940087311,943063188,947028343,950112175,953631997,957311617,960436122,964599313,967418203,971113819,974558253,977838808,981838531,984750642,988630832,991828334,995272734,999053258,1002110811,1006184794,1009123031,1012739458,1016289835,1019500095,1023593863,1026443572,1030240618,1033549355,1036919948,1040799214,1043791250,1047777936,1050832963,1054371897,1058025948,1061167419,1065353216,1068141862,1071857545,1075275133,1078573502,1082549393,1085477316,1089378576,1092547890,1096010993,1099766495,1102840650,1106936755,1109845397,1113481461,1117005567,1120233258,1124303705,1127168889,1130986552,1134267706,1137656601,1141511381,1144519664,1148527997,1151554063,1155112214,1158740557,1161899085,1166062061,1168865850,1172601709,1175992304,1179308582,1183260514,1186204335,1190126778,1193267752,1196749659,1200480004,1203570852,1207689197,1210568084,1214223891,1217721584,1220966801,1225013801,1227894542,1231732935,1234986355,1238393652,1242223814,1245248431,1249278529,1252275478,1255852948,1259455443,1262631122,1266771154,1269590167,1273346311,1276709768,1280044053,0])};function A(e,r,t,a,n){if(2!==e.type&&t>0){for(var o=0;o<r;o++)for(var i=0,c=a,l=a-1;i<t&&c<n;i++,l--)e.block[c++]=C.listFloat[64+e.value3[o]-e.value[l]]*e.block[l];e.block[127]=0}}var T={listFloat:y([1073741824,1072543451,1071345079,1070146706,1068948334,1067749961,1066551589,1065353216,1062956471,1060559726,1058162981,1054567863,1049774373,1041385765,0,0])};function R(e,r,t,a,n,o){if(1==e.type&&o)for(var i=T.listFloat[r.value2[t]],c=i-2,l=0;l<a;l++)r.block[n+l]=e.block[n+l]*c,e.block[n+l]*=i}var z={list1Float:[y([1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421,1034370421]),y([1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745,1065030846,1062525745]),y([1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963,1065272429,1064630795,1063372184,1061544963]),y([1065333007,1065171628,1064850424,1064372488,1063742424,1062966298,1062051586,1061007097,1065333007,1065171628,1064850424,1064372488,1063742424,1062966298,1062051586,1061007097,1065333007,1065171628,1064850424,1064372488,1063742424,1062966298,1062051586,1061007097,1065333007,1065171628,1064850424,1064372488,1063742424,1062966298,1062051586,1061007097,1065333007,1065171628,1064850424,1064372488,1063742424,1062966298,1062051586,1061007097,1065333007,1065171628,1064850424,1064372488,1063742424,1062966298,1062051586,1061007097,1065333007,1065171628,1064850424,1064372488,1063742424,1062966298,1062051586,1061007097,1065333007,1065171628,1064850424,1064372488,1063742424,1062966298,1062051586,1061007097]),y([1065348163,1065307757,1065227044,1065106216,1064945565,1064745479,1064506439,1064229022,1063913895,1063561817,1063173637,1062750291,1062292797,1061802258,1061279856,1060726850,1065348163,1065307757,1065227044,1065106216,1064945565,1064745479,1064506439,1064229022,1063913895,1063561817,1063173637,1062750291,1062292797,1061802258,1061279856,1060726850,1065348163,1065307757,1065227044,1065106216,1064945565,1064745479,1064506439,1064229022,1063913895,1063561817,1063173637,1062750291,1062292797,1061802258,1061279856,1060726850,1065348163,1065307757,1065227044,1065106216,1064945565,1064745479,1064506439,1064229022,1063913895,1063561817,1063173637,1062750291,1062292797,1061802258,1061279856,1060726850]),y([1065351953,1065341847,1065321643,1065291352,1065250992,1065200588,1065140169,1065069773,1064989442,1064899224,1064799173,1064689350,1064569821,1064440658,1064301939,1064153747,1063996172,1063829308,1063653256,1063468122,1063274017,1063071059,1062859370,1062639077,1062410313,1062173215,1061927928,1061674597,1061413376,1061144423,1060867899,1060583971,1065351953,1065341847,1065321643,1065291352,1065250992,1065200588,1065140169,1065069773,1064989442,1064899224,1064799173,1064689350,1064569821,1064440658,1064301939,1064153747,1063996172,1063829308,1063653256,1063468122,1063274017,1063071059,1062859370,1062639077,1062410313,1062173215,1061927928,1061674597,1061413376,1061144423,1060867899,1060583971]),y([1065352900,1065350374,1065345321,1065337743,1065327640,1065315015,1065299869,1065282205,1065262025,1065239331,1065214129,1065186420,1065156211,1065123504,1065088305,1065050620,1065010454,1064967812,1064922702,1064875131,1064825104,1064772631,1064717719,1064660375,1064600610,1064538431,1064473848,1064406871,1064337510,1064265776,1064191678,1064115229,1064036440,1063955323,1063871889,1063786152,1063698124,1063607819,1063515251,1063420432,1063323378,1063224103,1063122622,1063018951,1062913104,1062805098,1062694950,1062582675,1062468291,1062351814,1062233263,1062112656,1061990009,1061865343,1061738675,1061610026,1061479413,1061346857,1061212378,1061075995,1060937731,1060797604,1060655638,1060511852])],list2Float:[y([3171584980,1024101332,1024101332,3171584980,1024101332,3171584980,3171584980,1024101332,1024101332,3171584980,3171584980,1024101332,3171584980,1024101332,1024101332,3171584980,1024101332,3171584980,3171584980,1024101332,3171584980,1024101332,1024101332,3171584980,3171584980,1024101332,1024101332,3171584980,1024101332,3171584980,3171584980,1024101332,1024101332,3171584980,3171584980,1024101332,3171584980,1024101332,1024101332,3171584980,3171584980,1024101332,1024101332,3171584980,1024101332,3171584980,3171584980,1024101332,3171584980,1024101332,1024101332,3171584980,1024101332,3171584980,3171584980,1024101332,1024101332,3171584980,3171584980,1024101332,3171584980,1024101332,1024101332,3171584980]),y([3192374722,3205380570,1044891074,1057896922,1044891074,1057896922,3192374722,3205380570,1044891074,1057896922,3192374722,3205380570,3192374722,3205380570,1044891074,1057896922,1044891074,1057896922,3192374722,3205380570,3192374722,3205380570,1044891074,1057896922,3192374722,3205380570,1044891074,1057896922,1044891074,1057896922,3192374722,3205380570,1044891074,1057896922,3192374722,3205380570,3192374722,3205380570,1044891074,1057896922,3192374722,3205380570,1044891074,1057896922,1044891074,1057896922,3192374722,3205380570,3192374722,3205380570,1044891074,1057896922,1044891074,1057896922,3192374722,3205380570,1044891074,1057896922,3192374722,3205380570,3192374722,3205380570,1044891074,1057896922]),y([3184049462,3197411377,3203488490,3206703001,1036565814,1049927729,1056004842,1059219353,1036565814,1049927729,1056004842,1059219353,3184049462,3197411377,3203488490,3206703001,1036565814,1049927729,1056004842,1059219353,3184049462,3197411377,3203488490,3206703001,3184049462,3197411377,3203488490,3206703001,1036565814,1049927729,1056004842,1059219353,1036565814,1049927729,1056004842,1059219353,3184049462,3197411377,3203488490,3206703001,3184049462,3197411377,3203488490,3206703001,1036565814,1049927729,1056004842,1059219353,3184049462,3197411377,3203488490,3206703001,1036565814,1049927729,1056004842,1059219353,1036565814,1049927729,1056004842,1059219353,3184049462,3197411377,3203488490,3206703001]),y([3175676720,3189129347,3195588556,3198975188,3202017408,3204684861,3206053824,3207326538,1028193072,1041645699,1048104908,1051491540,1054533760,1057201213,1058570176,1059842890,1028193072,1041645699,1048104908,1051491540,1054533760,1057201213,1058570176,1059842890,3175676720,3189129347,3195588556,3198975188,3202017408,3204684861,3206053824,3207326538,1028193072,1041645699,1048104908,1051491540,1054533760,1057201213,1058570176,1059842890,3175676720,3189129347,3195588556,3198975188,3202017408,3204684861,3206053824,3207326538,3175676720,3189129347,3195588556,3198975188,3202017408,3204684861,3206053824,3207326538,1028193072,1041645699,1048104908,1051491540,1054533760,1057201213,1058570176,1059842890]),y([3167292080,3180767493,3187323507,3190755490,3193986067,3196620435,3198196453,3199747114,3201268682,3202757493,3204209959,3205035419,3205720106,3206381521,3207018070,3207628219,1019808432,1033283845,1039839859,1043271842,1046502419,1049136787,1050712805,1052263466,1053785034,1055273845,1056726311,1057551771,1058236458,1058897873,1059534422,1060144571,1019808432,1033283845,1039839859,1043271842,1046502419,1049136787,1050712805,1052263466,1053785034,1055273845,1056726311,1057551771,1058236458,1058897873,1059534422,1060144571,3167292080,3180767493,3187323507,3190755490,3193986067,3196620435,3198196453,3199747114,3201268682,3202757493,3204209959,3205035419,3205720106,3206381521,3207018070,3207628219]),y([3158904464,3172385580,3178965876,3182409344,3185687598,3188313990,3189943222,3191566031,3193181441,3194788479,3196222912,3197016610,3197804678,3198586642,3199362031,3200130378,3200891219,3201644097,3202388559,3203124155,3203850443,3204507620,3204860802,3205208683,3205551053,3205887705,3206218438,3206543051,3206861349,3207173141,3207478238,3207776457,1011420816,1024901932,1031482228,1034925696,1038203950,1040830342,1042459574,1044082383,1045697793,1047304831,1048739264,1049532962,1050321030,1051102994,1051878383,1052646730,1053407571,1054160449,1054904911,1055640507,1056366795,1057023972,1057377154,1057725035,1058067405,1058404057,1058734790,1059059403,1059377701,1059689493,1059994590,1060292809]),y([3150516104,3163998646,3170585018,3174031367,3177321577,3179945994,3181588620,3183229635,3184868793,3186505846,3187905794,3188721847,3189536478,3190349564,3191160984,3191970615,3192778336,3193584023,3194387558,3195188817,3195987681,3196421838,3196818695,3197214173,3197608215,3198000760,3198391749,3198781124,3199168826,3199554796,3199938976,3200321310,3200701737,3201080203,3201456649,3201831019,3202203257,3202573306,3202941111,3203306617,3203669767,3204030509,3204388786,3204596401,3204772996,3204948278,3205122221,3205294800,3205465988,3205635760,3205804089,3205970951,3206136320,3206300172,3206462482,3206623225,3206782377,3206939914,3207095813,3207250050,3207402601,3207553445,3207702557,3207849916])],list3Float:y([976553200,989955e3,997246264,1002148456,1006938121,1009811968,1013000268,1015758615,1017657746,1019707325,1021907216,1023834061,1025085380,1026413404,1027819075,1029303489,1030867880,1032156190,1033020435,1033926836,1034876194,1035869342,1036907131,1037990429,1039120109,1040242219,1040854746,1041491754,1042153649,1042840818,1043553621,1044292385,1045057397,1045848895,1046667063,1047512017,1048383800,1048929186,1049391799,1049867617,1050356463,1050858095,1051372203,1051898402,1052436230,1052985143,1053544509,1054113606,1054691624,1055277660,1055870719,1056469719,1057019049,1057322698,1057627451,1057932616,1058237477,1058541298,1058843330,1059142818,1059439013,1059731175,1060018584,1060300549,3208060062,3208329214,3208591090,3208845184,3209091046,3209328292,3209556604,3209775727,3209985477,3210185731,3210376430,3210557575,3210729223,3210891482,3211044505,3211188488,3211323662,3211450289,3211568657,3211679074,3211781863,3211877359,3211965905,3212047846,3212123529,3212193299,3212257495,3212316448,3212370484,3212419916,3212465047,3212506169,3212543560,3212577486,3212608200,3212635942,3212660939,3212683406,3212703543,3212721542,3212737578,3212751820,3212764423,3212775532,3212785283,3212793802,3212801206,3212807606,3212813102,3212817787,3212821750,3212825069,3212827821,3212830073,3212831888,3212833326,3212834440,3212835280,3212835890,3212836314,3212836589,3212836751,3212836831,3212836860])};function P(e,r){for(var t=e.block,a=e.wav1,n=0,o=1,i=64;n<7;n++,o<<=1,i>>>=1){for(var c=0,l=0,s=i,u=0;u<o;u++){for(var f=0;f<i;f++){var p=t[c++],d=t[c++];a[l++]=d+p,a[s++]=p-d}l+=i,s+=i}var v=t;t=a,a=v}t=e.wav1,a=e.block;for(var b=0,m=64,h=1;b<7;b++,m>>>=1,h<<=1){for(var w=z.list1Float[b],k=z.list2Float[b],I=0,g=0,U=0,E=h,x=0,y=2*h-1,F=0;F<m;F++){for(var B=0;B<h;B++){var S=t[U++],L=t[E++],C=w[I++],A=k[g++];a[x++]=S*C-L*A,a[y--]=S*A+L*C}U+=h,E+=h,x+=h,y+=3*h}var T=t;t=a,a=T}a=e.wav2;for(var R=0;R<128;R++)a[R]=t[R];t=z.list3Float,a=e.wave[r];for(var P=e.wav2,H=e.wav3,N=0;N<64;N++)a[N]=P[64+N]*t[N]+H[N];for(var O=0;O<64;O++)a[64+O]=t[64+O]*P[127-O]-H[64+O];for(var M=0;M<64;M++)H[M]=P[63-M]*t[127-M];for(var W=0;W<64;W++)H[64+W]=t[63-W]*P[W]}function H(e,r,t){var a=r.slice(t,t+e.blockSize);if(w(a,e.blockSize))return!1;e.ciphType&&h(e.ciphTable,a);var n=new x(a),o=n.getBit(16);if(65535===o){for(var i=(n.getBit(9)<<8)-n.getBit(7),c=e.comp,l=0;l<e.channelCount;l++)B(e.channels[l],n,c.r09,i,e.athTable);for(var s=0;s<8;s++){for(var u=0;u<e.channelCount;u++)L(e.channels[u],n);for(var f=0;f<e.channelCount;f++)A(e.channels[f],c.r09,c.r08,c.r07+c.r06,c.r05);for(var p=0;p<e.channelCount-1;p++)R(e.channels[p],e.channels[p+1],s,c.r05-c.r06,c.r06,c.r07);for(var d=0;d<e.channelCount;d++)P(e.channels[d],s)}}return!0}function N(e,r,t,a){return O.apply(this,arguments)}function O(){return O=o(regeneratorRuntime.mark((function e(r,t,a,n){var o,i,c,l,s,f,p,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==n&&null!==n||(n=1),"string"!==typeof r){e.next=5;break}return e.next=4,u(r);case 4:r=e.sent;case 5:if(o=k(r,t,a),o){e.next=8;break}throw new Error("Not HCA File");case 8:if(E(o)){e.next=10;break}throw new Error("Init Decode Failed");case 10:i=0,c=o.dataOffset,l=new Float32Array(8*o.blockCount*128*o.channelCount),s=0;case 13:if(!(s<o.blockCount)){e.next=20;break}if(H(o,r,c)){e.next=16;break}throw new Error("Decode Error");case 16:for(f=0;f<8;f++)for(p=0;p<128;p++)for(d=0;d<o.channelCount;d++)l[i++]=o.channels[d].wave[f][p]*o.volume*n;case 17:s++,c+=o.blockSize,e.next=13;break;case 20:return o.pcmData=l,e.abrupt("return",o);case 22:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function M(e,r,t,a,n){return W.apply(this,arguments)}function W(){return W=o(regeneratorRuntime.mark((function e(r,t,a,n,o){var i,c,s,u,d,v,b,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=l.alloc(36),i.write("RIFF",0),i.write("WAVEfmt ",8),i.writeUInt32LE(16,16),c=l.alloc(8),c.write("data",0),s={},s.fmtType=t>0?1:3,s.fmtChannelCount=a,s.fmtBitCount=t>0?t:32,s.fmtSamplingRate=n,s.fmtSamplingSize=Math.floor(s.fmtBitCount/8*s.fmtChannelCount),s.fmtSamplesPerSec=s.fmtSamplingRate*s.fmtSamplingSize,i.writeUInt16LE(s.fmtType,20),i.writeUInt16LE(s.fmtChannelCount,22),i.writeUInt32LE(s.fmtSamplingRate,24),i.writeUInt32LE(s.fmtSamplesPerSec,28),i.writeUInt32LE(s.fmtSamplingSize,32),i.writeUInt16LE(s.fmtBitCount,34),s.dataSize=Math.floor(o.length*s.fmtSamplingSize/a),s.riffSize=28+c.length+s.dataSize,c.writeUInt32LE(s.dataSize,4),i.writeUInt32LE(s.riffSize,4),e.next=25,f(r,l.concat([i,c]));case 25:u=l.alloc(1048575),d=0,v=0,b=0;case 28:if(!(b<o.length)){e.next=57;break}m=o[b],m>1?m=1:m<-1&&(m=-1),e.t0=t,e.next=0===e.t0?34:8===e.t0?37:16===e.t0?40:24===e.t0?43:32===e.t0?46:49;break;case 34:return u.writeFloatLE(m,d),d+=4,e.abrupt("break",49);case 37:return u.writeInt8(Math.floor(127*m)+128,d),d+=1,e.abrupt("break",49);case 40:return u.writeInt16LE(Math.floor(32767*m),d),d+=2,e.abrupt("break",49);case 43:return u.writeInt32LE(Math.floor(8388607*m),d),d+=3,e.abrupt("break",49);case 46:return u.writeInt32LE(Math.floor(2147483647*m),d),d+=4,e.abrupt("break",49);case 49:if(0===v&&(v=d),!(d+v>u.length)){e.next=54;break}return e.next=53,p(r,u.slice(0,d));case 53:d=0;case 54:b++,e.next=28;break;case 57:if(!(d>0)){e.next=60;break}return e.next=60,p(r,u.slice(0,d));case 60:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function q(e,r,t,a,n,o){return j.apply(this,arguments)}function j(){return j=o(regeneratorRuntime.mark((function e(r,t,a,n,o,i){var l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return void 0!==i&&null!==i||(i=16),"string"===typeof r&&(l=c.parse(r),console.log("Reading ".concat(l.base,"...")),void 0===n&&(n=c.join(l.dir,l.name+".wav"))),e.next=4,N(r,t,a,o);case 4:return s=e.sent,e.next=7,M(n,i,s.channelCount,s.samplingRate,s.pcmData);case 7:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}r.decodeHca=N,r.writeWavFile=M,r.decodeHcaToWav=q}}]);
//# sourceMappingURL=chunk-50352901.5f9c8511.js.map