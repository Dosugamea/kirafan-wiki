(function(t){function e(e){for(var i,n,o=e[0],l=e[1],u=e[2],c=0,h=[];c<o.length;c++)n=o[c],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&h.push(r[n][0]),r[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);m&&m(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,n=1;n<a.length;n++){var o=a[n];0!==r[o]&&(i=!1)}i&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},n={app:0},r={app:0},s=[];function o(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-0e4dcd5d":"cf0126d4","chunk-2c1d74fc":"e8dd2c17","chunk-53ca060b":"b1bd0237","chunk-f063fc5c":"5416fc8a","chunk-2d0a3d45":"4d3f12f4","chunk-2d0b325f":"7f83d09c","chunk-2d0b726d":"49b37535","chunk-2d0c46c2":"80c2a623","chunk-2d0c9af8":"afbcf66f","chunk-2d0d7629":"c8d1bde4","chunk-2d0e51ef":"bbe80a02","chunk-2d2079af":"f756b76e","chunk-2d20e7b6":"4ce3739b","chunk-2d210a38":"d7c3831a","chunk-2d217ffe":"e378bb36","chunk-2d21a034":"3090996b","chunk-2d2266dd":"42268d5f","chunk-3aa5da79":"858fe17f","chunk-3abcb72c":"ba7ba093","chunk-4434c85c":"289112ec","chunk-63b3eea6":"69018002","chunk-854b32ce":"6c0b7d32","chunk-95e1c0a4":"a03c8f6d","chunk-9df3d952":"bc4fe22f","chunk-bf8baa2e":"2f90114d","chunk-eaa27c2a":"aa249b5a"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-0e4dcd5d":1,"chunk-53ca060b":1,"chunk-f063fc5c":1,"chunk-4434c85c":1,"chunk-63b3eea6":1,"chunk-bf8baa2e":1,"chunk-eaa27c2a":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var i="css/"+({}[t]||t)+"."+{"chunk-0e4dcd5d":"effd7274","chunk-2c1d74fc":"31d6cfe0","chunk-53ca060b":"25a4502d","chunk-f063fc5c":"5774a2e8","chunk-2d0a3d45":"31d6cfe0","chunk-2d0b325f":"31d6cfe0","chunk-2d0b726d":"31d6cfe0","chunk-2d0c46c2":"31d6cfe0","chunk-2d0c9af8":"31d6cfe0","chunk-2d0d7629":"31d6cfe0","chunk-2d0e51ef":"31d6cfe0","chunk-2d2079af":"31d6cfe0","chunk-2d20e7b6":"31d6cfe0","chunk-2d210a38":"31d6cfe0","chunk-2d217ffe":"31d6cfe0","chunk-2d21a034":"31d6cfe0","chunk-2d2266dd":"31d6cfe0","chunk-3aa5da79":"31d6cfe0","chunk-3abcb72c":"31d6cfe0","chunk-4434c85c":"efac1d70","chunk-63b3eea6":"cce51389","chunk-854b32ce":"31d6cfe0","chunk-95e1c0a4":"31d6cfe0","chunk-9df3d952":"31d6cfe0","chunk-bf8baa2e":"97993e8f","chunk-eaa27c2a":"cce51389"}[t]+".css",r=l.p+i,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===i||c===r))return e()}var h=document.getElementsByTagName("style");for(o=0;o<h.length;o++){u=h[o],c=u.getAttribute("data-href");if(c===i||c===r)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var i=e&&e.target&&e.target.src||r,s=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete n[t],m.parentNode.removeChild(m),a(s)},m.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(m)})).then((function(){n[t]=0})));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise((function(e,a){i=r[t]=[e,a]}));e.push(i[2]=s);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(t);var h=new Error;u=function(e){c.onerror=c.onload=null,clearTimeout(m);var a=r[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",h.name="ChunkLoadError",h.type=i,h.request=n,a[1](h)}r[t]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var m=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02d1":function(t,e,a){},"034f":function(t,e,a){"use strict";a("85ec")},"0681":function(t,e,a){t.exports=a.p+"img/media.8a7862ae.png"},"090b":function(t,e){var a={Rares:{2:"★3",3:"★4",4:"★5"},Classes:{"-1":"Default",0:"Fighter",1:"Magician",2:"Priest",3:"Knight",4:"Alchemist"},Elements:{"-1":"Default",0:"Fire",1:"Water",2:"Earth",3:"Wind",4:"Moon",5:"Sun"},Abnormals:{All:"all abnormals",0:"Confusion",1:"Paralysis",2:"Hunger",3:"Bearish",4:"Sleep",5:"Unhappy",6:"Silence",7:"Isolation"},Statuses:{All:"all statuses",0:"ATK",1:"MAT",2:"DEF",3:"MDF",4:"SPD",5:"LUK"},comma:", ",dot:". ",divider:", ",Probability:"Prob.",Input:{Filter:"Enter filters.."}},i={"KiraFan.Moe":"KiraFan.Moe","KiraFan Wiki":"Kirara Fantasia Analysis Wiki","Day Count":"{0} days since Kirara Fantasia released",Version:"Version","Version Info":"","Summon Text":{Failure:"次回もがんばりますっ！<br>またいつでも来てくださいね！",Success:"す、す、すごかったです！<br>次回もがんばりますっ！"}},n={Arousal:"Awaken","Distributed Weaken":"Distributed-","Gift Types":{1e3:"Level Up Materials",2e3:"Weapon Materials",3e3:"Coins"},"Flavor Condition Types":{1:"Start",2:"End"},"Same Rare Class Element":"{class}s of {rare} in {element} element","Same Event":"Active in event {event}","Same Named":"Cards of {name}"},r={"Character Voice Type":{0:"System",1:"Scenarios",2:"Town",3:"Battle"},"Character Voice Category":{"000":"Title Call","001":"Greeting - Common","002":"Greeting - Morning","003":"Greeting - Evening","006":"Level Up","008":"Evolution","009":"Training Start","010":"Training Accomplished","012":"Mission","013":"Mission Accomplished",400:"Quest Departure",401:"Battle Start",403:"Crispy Attack",405:"Clearly Attack",406:"Powerful Skills",409:"Auxiliary Skills",411:"Support Skills",412:"Special Skills",413:"Damage",415:"Abnormal",416:"Dead",417:"Battle Win",419:"Battle Loss",420:"Touch Voice",Room1:"Room Conversation 1",Room2:"Room Conversation 2",RoomAction:"Room Action",Town1:"Town Visit 1",Town2:"Town Visit 2",TownAction:"Town Action",Home:"Home Conversation",Default:"Default"},"Same Title":"From {title}","Same CV":"Characters of CV {name}","Cross Adv":"Friends sharing cross scenarios"},s={"Skill Targets":{0:"self",1:"a single enemy",2:"all enemies",3:"a single ally",4:"all allies"},"Skill Damage Types":{0:"physical",1:"magical"},"Skill Signs":{"-1":"down",0:"change",1:"up"},"Skill Verbs":{"-1":"decrease",0:"change",1:"increase"},"Skill Turn Types":{0:"rounds",1:"turns"},"Skill Types":{0:"Attack",1:"Recover",2:"Status Change",3:"Status Change Reset",4:"Abnormal",5:"Abnormal Recover",6:"Abnormal Disable",7:"Abnormal Additional Probability",8:"Element Resist",9:"Element Change",10:"Weak Element Bonus",11:"Next Attack Up",12:"Next Attack Critical",13:"Barrier",14:"Recast Change",15:"Kirara Jump Gauge Change",16:"Kirara Jump Gauge Coef",17:"Order Change",18:"Hate Change",19:"Charge Change",20:"Chain Coef Change",21:"Card",22:"Stun Recover",23:"Regene",24:"No Operation",25:"Load Factor Reduce",26:"Critical Damage Change",27:"Attack Self",28:"Random Status Change",29:"Kirara Jump Gauge Up On Damage",30:"Status Change Disable"},"Skill Details":{0:"{amount} {damageType} damage ({power}) to {target}",1:"Heal {target} {amount} ({power})",2:"{amount} {status} {sign} ({power}) on {target} for {turn} {turnType}",3:"Clear all {sign}s of {status} from {target}",4:"{abnormal} on {target} {amount} ({power})",5:"Clear {abnormal} from {target}",6:"Disable abnormals on {target} for {turn} {turnType}",7:"Abnormal resist {sign} ({power}) on {target} for {turn} {turnType}",8:"{amount} {element} resist {sign} ({power}) on {target} for {turn} {turnType}",9:"Change element of {target} to {element}",10:"Elemental advantage damage up ({power}) on {target} for {turn} {turnType}",11:"{amount} {damageType} damage up ({power}) on the next attack of {target}",12:"Critical on the next attack of {target}",13:"Barrier to {target} blocking damage {amount} ({power}) for {turn} times",14:"{verb} the recast of {target} {amount} ({power})",15:"{verb} the totteoki gauge {amount} ({power})",16:"Kirara Jump Gauge Coef",17:"Order Change",18:"{amount} hate {sign} ({power}) on {target} for {turn} {turnType}",19:"{verb} the charge count of {target} ({power})",20:"Chain Coef Change",21:'Place {turn} skill cards as: "{extra}"',22:"Stun Recover",23:"Recovery ({power}) on {target} for {turn} turns",24:"No Operation",25:"Quick Draw (-{power}) on {target} for {turn} {turnType} <small><br>Decrease load factors of skills</small>",26:"Critical damage {sign} ({power}) on {target} for {turn} {turnType}",27:"Decrease HP of {target} ({power})",28:"A specific random status {sign} on {target} for {turn} {turnType}",29:"Endurance ({power}) on {target} for {turn} {turnType} <small><br>Increase totteoki charge on damage</small>",30:"Disable status downs on {target} for {turn} {turnType}"},"Skill Amount Sign":"{amount} {sign}","Skill Amounts":{0:{0:"special",1:"small",2:"medium","3-":"medium large",3:"large",4:"extra large",5:"super large"},1:{1:"for a small amount",2:"for a medium amount",3:"for a large amount",4:"for an extra large amount"},2:{1:"small",2:"medium",3:"large",4:"extra large"},4:{1:"by a low chance",2:"by a medium chance",3:"by a high chance",4:""},8:{1:"small",2:"medium",3:"large"},11:{1:"small",2:"medium",3:"large",4:"extra large"},13:{1:"slightly",2:"",3:"greatly",4:"fully"},14:{1:"slightly",2:"",3:"greatly"},15:{1:"slightly",2:"",3:"greatly"},18:{1:"small",2:"medium",3:"large"},26:{1:"small",2:"medium",3:"large"}},"Skill Powers":{0:{0:"{power}%",1:"{power}% / {power2}% to targets in abnormal",2:"{power}% of max HP",3:"{power}% of current HP",4:"{power} points",5:"{powerA}% / {powerB}% / {powerC}%",100:"{power}% / {power2}% to targets in {abnormal}"},27:{0:"{power}% of max HP",1:"{power}% of current HP",2:"{power} points"},28:{Power:"{prob}%: {power}","Status Change":"{amount} {status} {sign} ({power})"}},"Passive Triggers":{0:"",1:"Every time self is damaged, ",2:"Every time self kills an enemy, "},"Passive Details":{0:"{amount} {status} {sign} ({power}) on self",1:"{amount} hate {sign} ({power}) on self",2:"Disable abnormals on self",3:"Disable stun on self",4:"Stun amount up ({power}) on self's attacks <br><small>Attacks increase enemy's stun gauge for an extra amount</small>",5:"{verb} the totteoki gauge {amount} ({power})",6:"Totteoki gauge coef {sign} ({power}) on self <br><small>Actions increase totteoki gauge for an extra amount</small>",7:"Critical damage {sign} ({power}) on {target}",8:"Self's skills change",9:"Self can heal over max HP ({power})",10:"Recover HP based on damage dealt to enemies",11:"Self can revive ({power}) <br><small>Recover for only once when HP drops to 0</small>",12:"{verb} turns of skill cards of self ({power})",13:"{status} change on self based on HP",14:"{amount} {status} {sign} ({power}) on {target} for {turn} {turnType}"},"Passive Powers":{10:{0:"Normal Attacks",1:"Class Skills",2:"Weapon Skills",3:"Totteoki"},11:{0:"{0}% of HP",1:"{0} points"},13:{"Status Change":"{amount} {status} {sign} ({power})"}}},o={"Sale Amount":"Ask Price","Item Type":{0:"Level Up Materials",1:"Evolution Materials",2:"Limit Break Materials",3:"Weapon Materials",4:"Others",10:"Event Materials"},"Item Category Event":"Items from event {event}","Item Category":{0:"Small Seeds",1:"Seeds",2:"Large Seeds",3:"Sprout",4:"Star Flowers by titles",100:"Small Evolution Beads",101:"Evolution Beads",102:"Large Evolution Beads",103:"Extra Large Evolution Beads",104:"Super Evolution Beads",112:"Bronze Statues",113:"Silver Statues",114:"Golden Statues",124:"Super Evolution Beads by titles",202:"Buds",203:"Fruits",204:"Star Crystals",214:"Star Crystals by titles",300:"Symbols",301:"Crests",311:"Weapon Materials in Chapter 1",312:"Weapon Materials in Chapter 2",313:"Weapon Materials in Chapter 3",314:"Weapon Materials in Chapter 4",315:"Weapon Materials in Chapter 5",316:"Weapon Materials in Chapter 6",317:"Weapon Materials in Chapter 7",318:"Weapon Materials in Chapter 8",404:"Special",405:"Summon Tickets",406:"Exchange Items",407:"Stamina Recovery Items",408:"Etoilium",409:"Chance Up Key Holder",410:"Skill Up Powder"}},l={"Star 5 Special Weapon":"★5 {0}'s Special {1}"},u={"Master Skill Type":"{class}'s Orb"},c={Section:"Section {0}","Quest Library Categories":{0:"Main Quests",1:"Event Quests",2:"Writer Quests",3:"Daily Quests",4:"Challenge Quests",5:"Memorial Quests",6:"Craft Quests"}},h={"Scenario Library Categories":{5:"Characters' Scenario",1:"Main Scenario",2:"Event Scenario",3:"Writers' Scenario"}},m={},d={"AI Conditions":{num:"This condition was executed less than {num} times",0:"Self's HP in range {min}% ~ {max}%",1:{0:["Number of enemies with {abnormal} {op} {num}","Number of enemies without {abnormal} {op} {num}"],1:["Number of other enemies with {abnormal} {op} {num}","Number of other enemies without {abnormal} {op} {num}"],2:["Self with {abnormal}","Self without {abnormal}"]},2:{0:["Number of enemies with {statusChange} {op} {num}","Number of enemies without {statusChange} {op} {num}"],1:["Number of other enemies with {statusChange} {op} {num}","Number of other enemies without {statusChange} {op} {num}"],2:["Self with {statusChange}","Self without {statusChange}"]},3:"Self's charge count {op} {num}",21:"Number of enemies {op} {num}",42:"Number of crea-mates {op} {num}",43:["Number of crea-mates with {abnormal} {op} {num}","Number of crea-mates without {abnormal} {op} {num}"],44:"Every time when normal attacks used for {num} times",45:"Every time when skills used for {num} times",46:"Every time when totteoki used for {num} times",47:"Every time when character changed for {num} times",48:"Number of crea-mates of {extra} {class} {op} {num}",49:"Number of crea-mates with {statusChange} {op} {num}",68:{0:"Self's switch {num} is on",1:"Self's switch {num} is off"}},"AI Condition Status Changes":{0:"ATK up",1:"MAT up",2:"DEF up",3:"MDF up",4:"SPD up",5:"LUK up",6:"ATK down",7:"MAT down",8:"DEF down",9:"MDF down",10:"SPD down",11:"LUK down",12:"status up",13:"status down"},"AI Condition Ops":{0:"≥",1:"≤",2:"="},"AI Flags":{0:"Turn on self's switch {num}",1:"Turn off self's switch {num}"},"AI Single Condition":"Target selection: {target} in {sign} priority ({power})","AI Single Condition Signs":{"-1":"low",1:"high"},"AI Single Conditions":{0:"Targets whose HP < 20%",1:"{element} targets",2:"{class}s",3:["Targets with {abnormal}","Targets without {abnormal}"],4:"Targets of weak element",5:"Targets with {statusChange}",6:"Self"}},g={"Buy Amount":"Bid Price","Sell Amount":"Ask Price","Search Points Hint":"The position where the character can act or talk around the room object.","Room Object Action Conditions":{0:"All characters",1:"Limited character cards",2:"Limited characters",3:"Limited title"},"Room Object Categories":{0:"Desk",1:"Chair",2:"Storage",3:"Bedding",4:"Appliances",5:"Goods",6:"Hobby",7:"Wall Decoration",8:"Carpet",9:"Screen",10:"Floor",11:"Wall",12:"Background"}},p={"Page Helps":{"Room Object":"Special thanks to Kousuke (コースケ) for helping to analyze data of room objects. Contact us if you have any questions or advice about room objects."}},v={Calculator:{Title:"Calculator",Subtitle:"Data and values computing"},Assets:{Title:"Assets Browser",Subtitle:"View & download illusts and voices"},"Card Maker":{Title:"Card Maker",Subtitle:"A tool for DIY cards"},Yarudesu:{Title:"Kirarafan (Yarudesu)",Subtitle:"A Japanese KiraFan forum"},Wikiwiki:{Title:"Wikiwiki JP",Subtitle:"A Japanese KiraFan Wiki"},Moegirl:{Title:"MoeGirl",Subtitle:"A Chinese KiraFan Wiki"},Miraheze:{Title:"Miraheze",Subtitle:"An English KiraFan Wiki"},Timers:{Title:"Timer",Subtitle:"Event calendar and countdown"}},f={"Character Show Max Status":"Show max status in list","Character Show Max Status Hint":"Excluding awaken bonus","Character Talent Show Luck":"Show Luck in talent","Character Icon Framed":"Use framed icon","Quest Drops Grouped":"Show drops by number of groups","App Title Show ID":"Show ID in app title","Enemy AI Pattern":"Show enemy AI pattern","Advanced Filter":"Advanced filter","Database Fetch Time":"Database fetch time","Reload Database":"Reload database","Reload Application":"Reload application","Always Show Japanese":"Always show Japanese","Package Fetch Time":"Package fetch time","Reload Language Package":"Reload English translation package","Help Translate Names":"Help translate names","Show Clea On Start":"Clea's Live2D","Show Clea On Start Hint":"High energy consumption","Show Clea In Detail Page":"Permanent in detail page","Show Clea In Detail Page Hint":"Clea-chan KAWAII ( ´▽｀)",Themes:{0:"Red",1:"Blue",2:"Orange",3:"Green",4:"Purple",5:"Yellow",6:"Pink",7:"Dynamic"},Updated:{Database:"Database updated",Application:"Application updated"}},_={"Clea Conversation":{TalkGroupA:["元気が出ない時は、声を出すといいですよ。えいえい、おー！","みなさんを召喚するために必要な\n『鍵』の管理を任せていただいています。","ポルカとコルクちゃんは、\nわたしの大切なお友達です。","元気が出ない時は、声を出すといいですよ。\nえいえい、おー！"]}};t.exports=Object.assign({},a,i,n,l,c,d,u,o,g,h,m,r,s,p,v,f,_)},"0a6d":function(t,e,a){"use strict";a("02d1")},"0b69":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{to:"/character/"+t.character.m_CharaID}},[t.collection?[a("v-list-item-avatar",{attrs:{size:"48"}},[a("CharaIcon",{attrs:{id:t.id,size:48}})],1),a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.$name(t.character.m_Name)))]),t.$s.characterIconFramed?t._e():a("v-list-item-subtitle",{staticClass:"d-flex align-center"},[t._l(t.character.m_Rare+1,(function(e){return a("img",{key:"rare-icon-"+e,staticClass:"d-inline",attrs:{width:12,height:12,src:t.$asset.commonuiatlas.format("RareIcon")+".png"}})})),a("span",{staticClass:"pr-1"}),a("img",{attrs:{width:19.2,height:19.2,src:t.$asset.commonuiatlas.format(t.classIcon)+".png"}}),a("span",{staticClass:"pr-1"}),a("img",{attrs:{width:19.2,height:19.2,src:t.$asset.commonuiatlas.format(t.elementIcon)+".png"}})],2)],1)]:[a("v-list-item-avatar",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{size:t.$size()}},[a("CharaIcon",{attrs:{id:t.id,size:t.$size()}})],1),a("v-list-item-content",{staticClass:"mr-auto ml-0",staticStyle:{"max-width":"384px"}},[a("v-list-item-title",{staticClass:"d-flex align-center"},[t.$s.characterIconFramed?t._e():[t._l(t.character.m_Rare+1,(function(e){return a("img",{key:"rare-icon-"+e,staticClass:"d-inline",attrs:{width:t.$size()/4,height:t.$size()/4,src:t.$asset.commonuiatlas.format("RareIcon")+".png"}})})),a("span",{staticClass:"pr-1"}),a("img",{attrs:{width:t.$size()/2.5,height:t.$size()/2.5,src:t.$asset.commonuiatlas.format(t.classIcon)+".png"}}),a("span",{staticClass:"pr-1"}),a("img",{attrs:{width:t.$size()/2.5,height:t.$size()/2.5,src:t.$asset.commonuiatlas.format(t.elementIcon)+".png"}}),a("span",{staticClass:"pr-1"})],t._v(t._s(t.$name(t.character.m_Name)))],2),a("v-list-item-subtitle",[a("Status",{attrs:{status:t.status,divide:"3"}})],1)],1)]],2)},n=[],r=a("6df9"),s=a("5406"),o={name:"Character",props:{id:{},maxStatus:Boolean,collection:Boolean},computed:{character:function(){return this.$store.state.$db.CharacterList[this.id]},status:function(){if(this.$s.characterShowMaxStatus||this.maxStatus){var t=r["a"].status(this.id,[50,90,100][this.character.m_Rare-2],0,s["a"].maxFriendship||5,10,[10,10,10],0);return{HP:t.HP,ATK:t.ATK,MAT:t.MAT,DEF:t.DEF,MDF:t.MDF,SPD:t.SPD}}return{HP:this.character.m_InitHp,ATK:this.character.m_InitAtk,MAT:this.character.m_InitMgc,DEF:this.character.m_InitDef,MDF:this.character.m_InitMDef,SPD:this.character.m_InitSpd}},classIcon:function(){return{0:"ClassIconFighter",1:"ClassIconMagician",2:"ClassIconPriest",3:"ClassIconKnight",4:"ClassIconAlchemist"}[this.character.m_Class]},elementIcon:function(){return{0:"ElementIconFire",1:"ElementIconWater",2:"ElementIconEarth",3:"ElementIconWind",4:"ElementIconMoon",5:"ElementIconSun"}[this.character.m_Element]}}},l=o,u=a("2877"),c=a("6544"),h=a.n(c),m=a("da13"),d=a("8270"),g=a("5d23"),p=Object(u["a"])(l,i,n,!1,null,null,null);e["a"]=p.exports;h()(p,{VListItem:m["a"],VListItemAvatar:d["a"],VListItemContent:g["b"],VListItemSubtitle:g["c"],VListItemTitle:g["d"]})},"0d8f":function(t,e,a){"use strict";a("99af"),a("4de4"),a("7db0"),a("c740"),a("d81d"),a("fb6a"),a("b0c0"),a("b64b"),a("d3b7"),a("159b"),a("bf19"),a("96cf");var i=a("9ed0"),n=a("bc3a"),r=a.n(n),s=a("2b0e"),o="https://database.kirafan.cn/database",l=[{name:"AbilitySpheres",key:"m_ID"},{name:"AchievementList",key:"id"},{name:"ADVCharacterList",key:"m_ADVCharaID",uri:"../advdatabase/ADVCharacterList"},{name:"ADVLibraryList",key:"m_LibraryListID"},{name:"ADVList",key:"m_AdvID"},{name:"assetBundle",uri:"../assetBundle"},{name:"ArousalLevels"},{name:"BattleStatusRatioByHp",key:"m_ID"},{name:"BattleRandomStatusChange",key:"m_ID"},{name:"BattleAIDataList",key:"m_ID"},{name:"CharacterExp"},{name:"CharacterFlavorText",key:"m_CharaID"},{name:"CharacterList",key:"m_CharaID"},{name:"CharacterParamGrowthList",key:"m_Lv"},{name:"CRIFileVersion",key:"m_FileName"},{name:"EventQuestDropExt"},{name:"Events",key:"m_EventType"},{name:"Flavors",key:"m_Id"},{name:"ItemList",key:"m_ID"},{name:"MasterRank",key:"m_Rank"},{name:"MasterOrbList",key:"m_ID"},{name:"NamedList",key:"m_NamedType"},{name:"NamedFriendshipExp",key:"m_Lv"},{name:"OriginalCharaLibraryList",key:"m_ID"},{name:"PassiveSkillList_ABL",key:"m_ID"},{name:"PassiveSkillList_WPN",key:"m_ID"},{name:"QuestEnemyList",key:"m_ID"},{name:"QuestLibraryList",key:"id"},{name:"QuestList",key:"questID"},{name:"QuestWaveList",key:"m_ID"},{name:"QuestWaveRandomList",key:"m_ID"},{name:"RoomObjectList",key:"m_DBAccessID"},{name:"ScheduleName",key:"m_ID",uri:"../flddb/ScheduleName"},{name:"ScheduleNameReplace",key:"m_CharaID",uri:"../flddb/ScheduleNameReplace"},{name:"SkillContentList_CARD",key:"m_ID"},{name:"SkillContentList_EN",key:"m_ID"},{name:"SkillContentList_MST",key:"m_ID"},{name:"SkillContentList_PL",key:"m_ID"},{name:"SkillContentList_WPN",key:"m_ID"},{name:"SkillExp"},{name:"SkillList_CARD",key:"m_ID"},{name:"SkillList_EN",key:"m_ID"},{name:"SkillList_MST",key:"m_ID"},{name:"SkillList_PL",key:"m_ID"},{name:"SkillList_WPN",key:"m_ID"},{name:"SkillLvCoef",key:"m_LvRangeMin"},{name:"TitleList",key:"m_TitleType"},{name:"TogetherChargeDefine"},{name:"TownObjectList",key:"m_ID"},{name:"TweetList"},{name:"WeaponEvolutionList",key:"m_SrcWeaponID"},{name:"WeaponExp"},{name:"WeaponList",key:"m_ID"},{name:"WeaponRecipeList",key:"m_WeaponID"}],u={},c=0;function h(t){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(r.a.all(l.map((function(t){return r.a.get("".concat(o,"/").concat(t.uri||t.name,".json?t=").concat((new Date).getTime())).then((function(t){return c+=1,window.vue.$emit("databaseLoading",{loaded:c,total:l.length}),t})).then((function(e){if(e=e.data,t.key){for(var a in u[t.name]={},e)u[t.name][e[a][t.key]]=e[a];window.vue.$store.commit("setdb",[t.name,u[t.name]]),m("".concat(t.name,"Array"),e)}else m(t.name,e)}))}))));case 2:return a.prev=2,e=s["a"].prototype.$time.toJSON(),u.version=t,u.date=e,a.next=8,regeneratorRuntime.awrap(Object(i["c"])("databaseVersion",t));case 8:return a.next=10,regeneratorRuntime.awrap(Object(i["c"])("database",u));case 10:return a.next=12,regeneratorRuntime.awrap(Object(i["c"])("databaseDate",e));case 12:a.next=16;break;case 14:a.prev=14,a.t0=a["catch"](2);case 16:case"end":return a.stop()}}),null,null,[[2,14]])}function m(t,e){u[t]=e,window.vue.$store.commit("setdb",[t,e])}function d(){var t,e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(g());case 3:return t=a.sent,a.next=6,regeneratorRuntime.awrap(Object(i["b"])("database"));case 6:if(e=a.sent,!e){a.next=17;break}return Object.keys(e).forEach((function(t){m(t,e[t]);var a=l.find((function(e){return e.name==t}));a&&(a.ok=!0)})),m("version",t),a.t0=m,a.next=13,regeneratorRuntime.awrap(Object(i["b"])("databaseDate"));case 13:a.t1=a.sent,(0,a.t0)("date",a.t1),a.next=18;break;case 17:throw new Error("no local database");case 18:if(l.map((function(t){return t.ok||!1})).reduce((function(t,e){return t&&e}))){a.next=20;break}return a.abrupt("return",!0);case 20:return a.abrupt("return",t);case 23:a.prev=23,a.t2=a["catch"](0),console.log("Error occurs when accessing indexedDB: "+a.t2);case 26:case"end":return a.stop()}}),null,null,[[0,23]])}function g(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(i["b"])("databaseVersion"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function p(){var t,e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return s["a"].prototype.$time=new Date,a.next=3,regeneratorRuntime.awrap(g());case 3:return t=a.sent,a.next=6,regeneratorRuntime.awrap(fetch("https://database.kirafan.cn/version").then((function(t){return t.text()})).then((function(t){return{data:t}})).catch((function(){return{data:t}})));case 6:if(e=a.sent,t==e.data){a.next=15;break}return window.vue.$emit("databaseLoaded"),a.next=11,regeneratorRuntime.awrap(h(e.data));case 11:v(),window.vue.$emit("allLoaded"),a.next=20;break;case 15:return a.next=17,regeneratorRuntime.awrap(d());case 17:v(),window.vue.$emit("databaseLoaded"),window.vue.$emit("allLoaded");case 20:case"end":return a.stop()}}))}function v(){var t=[],e=u.QuestWaveListArray.filter((function(t){return 4e8<=t.m_ID&&t.m_ID<5e8}));e.forEach((function(e){var a=e.m_ID,i=String(a).slice(1,-1)+"0",n=u.NamedList[u.CharacterList[i].m_NamedType].m_TitleType,r=t.findIndex((function(t){return t.id===5e3+n}));-1===r&&(t.push({badge:null,category:5,icon:"https://texture-asset.kirafan.cn/contenttitlelogo/contentslogo".concat(n,".png"),id:5e3+n,name:u.TitleList[n].m_DisplayName,quests:{}}),r=t.length-1),t[r].quests[i]=(a-a%10)/10}));var a=u.QuestLibraryListArray.filter((function(t){return 5!==t.category})),i=t.concat(a);m("QuestLibraryListArray",i);var n={};i.forEach((function(t){n[t.id]=t})),m("QuestLibraryList",n)}p(),e["a"]=u},1105:function(t,e){var a={Common:"一般",Back:"戻る",Cancel:"キャンセル","Select All":"すべてを選択","Select Reverse":"選択範囲を反転",All:"すべて",Rare:"レア","Star 3":" ★3 ","Star 4":" ★4 ","Star 5":" ★5 ",Rares:{2:" ★3 ",3:" ★4 ",4:" ★5 "},Class:"クラス",Fighter:"せんし",Magician:"まほうつかい",Priest:"そうりょ",Knight:"ナイト",Alchemist:"アルケミスト",Classes:{"-1":"デフォルト",0:"せんし",1:"まほうつかい",2:"そうりょ",3:"ナイト",4:"アルケミスト"},Element:"属性",Fire:"炎",Water:"水",Earth:"土",Wind:"風",Moon:"月",Sun:"陽",Elements:{"-1":"デフォルト",0:"炎",1:"水",2:"土",3:"風",4:"月",5:"陽"},Abnormal:"状態異常",Abnormals:{All:"すべての状態異常",0:"混乱",1:"金縛り",2:"腹ぺこ",3:"弱気",4:"眠り",5:"不幸",6:"沈黙",7:"孤立"},Status:"ステータス",Statuses:{All:"すべてのステータス",0:" ATK ",1:" MAT ",2:" DEF ",3:" MDF ",4:" SPD ",5:" LUK "},Default:"デフォルト",comma:"、",dot:"。",divider:"・",Condition:"条件",Probability:"確率",Filter:"フィルター",Input:{Filter:"フィルターを入力.."},Sort:"ソート",Reverse:"逆順",WIP:"作業中"},i={Home:"ホーム","KiraFan.Moe":"KiraFan.Moe","KiraFan Wiki":"きらファン解析 Wiki","Day Count":"きららファンタジアリリースからの {0} 日目",Version:"バージョン","Version Info":"当バージョン解析 Wiki はメディアが『聖典』を模写したものです",Events:"イベント",Summon:"召喚","Summon 10 Times":"10 回召喚","No Item : Check Config":"アイテムはありません<br>設定で追加することができます"},n={Characters:"キャラクター",Character:"キャラクター","No Character":"キャラクターはありません",Obtainability:"入手方法",Normal:"普通","Distributed Weaken":"配布-",Distributed:"配布","Period Limited":"期間限定",Year:"年",Level:"レベル",Arousal:"覚醒",Facilities:"施設",Friendship:"仲良し度","Title Facility":"作品施設","Class Facility":"クラス訓練所",Orb:"オーブ",Illust:"イラスト",Weapons:"武器","Flavor Text":"召喚セリフ","Creamate Commu Text":"クリエメイトコミュセリフ",Achievements:"称号","Related Characters":"関連するキャラクター","Same Rare Class Element":"同じく{rare}{element}属性の{class}たち","Same Event":"{event}イベントで大活躍","Same Named":"{name}のほかのカード"},r={Names:"キャラクター",Named:"キャラクター","No Named":"キャラクターはありません",Profile:"プロフィール","Nick Name":"ニックネーム","Full Name":"フルネーム","Gift Type":"お土産タイプ","Gift Types":{1e3:"強化素材",2e3:"武器強化素材",3e3:"コイン"},Voice:"ボイス",CV:" CV ","Character Voice Type":{0:"システム",1:"シナリオ",2:"里",3:"バトル",4:"カード"},"Character Voice Category":{"000":"タイトルコール","001":"起動時挨拶・共通","002":"起動時挨拶・朝","003":"起動時挨拶・夜","006":"強化","008":"進化","009":"トレーニング出発","010":"トレーニング完了","012":"ミッション","013":"ミッション完了",400:"クエスト出発",401:"バトル開始時",403:"サクッと攻撃",405:"ガッキリ攻撃",406:"攻撃スキル",409:"補助スキル",411:"応援スキル",412:"とっておき発動",413:"ダメージ",415:"状態異常",416:"戦闘不能",417:"バトル勝利",419:"バトル敗北",420:"タッチボイス",Room1:"ルーム会話１",Room2:"ルーム会話２",RoomAction:"ルームアクション",Town1:"里訪問１",Town2:"里訪問２",TownAction:"里アクション",Home:"ホーム画面会話",Default:"デフォルト"},"Hint:Download audio files directly":"音声ファイルをダウンロードしています","failed download audio data":"音声データの更新が止まっているため一部または全ての音声のダウンロードに失敗しました。設定の[音声をきらファンサーバーからダウンロード]を有効にすると読み込まれます",Talent:"タレント","Adv Standpic":"シナリオ立ち絵","Related Names":"関連するキャラクター","Same Title":"『{title}』より","Same CV":"{name}さんのキャラクター","Cross Adv":"クロスシナリオに登場した仲間","Original Character":"オリジナルキャラクター",Illustrator:"イラスト"},s={Skills:"スキル",Skill:"スキル","Skill Name":"スキル名",Load:"硬直",Recast:"ﾘｷｬｽﾄ",Charge:"ﾁｬｰｼﾞ",Level:"レベル","Stun Gauge":"スタンゲージ","Passive Skill":"自動発動スキル","No Skill":"スキルはありません","No Passive Skill":"自動発動スキルはありません","Skill Selector":"スキルセレクター","Passive Selector":"パッシブセレクター","Skill Target":"ターゲット","Skill Targets":{0:"自身",1:"敵単体",2:"敵全体",3:"味方単体",4:"味方全体"},"Skill Damage Types":{0:"物理",1:"魔法"},"Skill Signs":{"-1":"ダウン",0:"変化",1:"アップ"},"Skill Signs2":{0:"ダウン",1:"アップ"},"Skill Verbs":{"-1":"減らす",0:"変化",1:"増やす"},"Skill Turn Types":{0:"ラウンド",1:"ターン"},"Skill Type":"スキルタイプ","Skill Types":{0:"攻撃",1:"回復",2:"ステータス変化",3:"ステータス変化リセット",4:"状態異常",5:"状態異常回復",6:"状態異常無効",7:"状態異常付与確率補正",8:"属性耐性",9:"属性変化",10:"有利属性ボーナス",11:"次回の攻撃威力アップ",12:"次回の攻撃絶対クリティカル",13:"バリア",14:"リキャスト変化",15:"きららジャンプゲージ量変化",16:"きららジャンプゲージ倍率変化",17:"行動順変化",18:"ヘイト変化",19:"チャージ変化",20:"チェイン倍率変化",21:"スキルカード",22:"スタン回復",23:"リカバリー",24:"何もしない",25:"スキル負荷軽減",26:"クリティカルダメージ量変化",27:"自分自身ダメージ",28:"ランダムステータス変化",29:"被ダメージ時きららジャンプゲージ量上昇",30:"ステータス変化無効"},"Skill Detail":"説明","Skill Details":{0:"{target}に{damageType}の{amount}ダメージ ({power})",1:"{target}を{amount}回復 ({power})",2:"{target}の{status}が {turn} {turnType}{amount}{sign} ({power})",3:"{target}の{status}{sign}をリセット",4:"{target}に{amount}{abnormal}を付与 ({power})",5:"{target}の{abnormal}を解除",6:"{target}の状態異常を {turn} {turnType}無効化",7:"{target}の状態異常抵抗率が {turn} {turnType}{sign} ({power})",8:"{target}の{element}耐性が {turn} {turnType}{amount}{sign} ({power})",9:"{target}が{element}属性になる",10:"{target}の有利属性へのダメージが {turn} {turnType}アップ ({power})",11:"{target}の{damageType}攻撃が一度だけ{amount}アップ ({power})",12:"{target}の攻撃が一度だけクリティカルになる",13:"{target}に {turn} 回だけ攻撃を{amount} ({power}) カットするバリアを張る",14:"{target}のリキャストを{amount}{verb} ({power})",15:"とっておきゲージを{amount}{verb} ({power})",16:"きららジャンプゲージ倍率変化",17:"行動順変化",18:"{target}の狙われやすさが {turn} {turnType}{amount}{sign} ({power})",19:"{target}のチャージカウントを{verb} ({power})",20:"チェイン倍率変化",21:"「{extra}」のスキルカードを {turn} 枚設置",22:"スタン回復",23:"{target}に {turn} ターンのリカバリーを付与 ({power})",24:"何もしない",25:"{target}に {turn} {turnType}クイックドロウを付与 (-{power}) <small><br>スキル硬直がダウン</small>",26:"{target}のクリティカル時ダメージが {turn} {turnType}{amount}{sign} ({power})",27:"{target}の HP が減少する ({power})",28:"{target}のステータスのいずれかが {turn} {turnType}{sign}",29:"{target}に {turn} {turnType}我慢を付与 ({power}) <small><br>ダメージを受けるたびとっておきゲージを増やす</small>",30:"{target}のステータス{sign}を {turn} {turnType}無効化"},"Skill Amount":"量","Skill Amount Sign":"{amount}{sign}","Skill Amounts":{0:{0:"特殊",1:"小",2:"中","3-":"大",3:"大",4:"特大",5:"超特大"},1:{1:"小",2:"中",3:"大",4:"特大"},2:{1:"小",2:"中",3:"大",4:"特大"},4:{1:"低確率で",2:"中確率で",3:"高確率で",4:""},8:{1:"小",2:"中",3:"大"},11:{1:"小",2:"中",3:"大",4:"特大"},13:{1:"すこし",2:"",3:"大きく",4:"完全"},14:{1:"すこし",2:"",3:"かなり"},15:{1:"すこし",2:"",3:"かなり"},18:{1:"小",2:"中",3:"大"},26:{1:"小",2:"中",3:"大"}},"Skill Powers":{0:{0:"{power}%",1:"{power}%・状態異常中の目標には {power2}%",2:"{power}% 最大 HP",3:"{power}% 現在 HP",4:"{power} 点",5:"{powerA}%・{powerB}%・{powerC}%",100:"{power}%・{abnormal}中の目標には {power2}%"},27:{0:"{power}% 最大 HP",1:"{power}% 現在 HP",2:"{power} 点"},28:{Power:"{prob}%: {power}","Status Change":"{status}{amount}{sign} ({power})"}},"Passive Triggers":{0:"",1:"自身が攻撃を受けるたび",2:"自身が敵を倒すたび"},"Passive Type":"パッシブタイプ","Passive Types":{0:"常に/攻撃を受けるたび/倒すたびステータスアップ",1:"ヘイト変化",2:"自身が状態異常にならない",3:"自身がスタンにならない",4:"スタンゲージ上昇量アップ",5:"被ダメ時とっておきゲージアップ",6:"とっておきゲージ係数変化",7:"クリティカル時ダメージアップ",8:"スキル変更",9:"自身の回復スキルが最大 HP を超える",10:"敵に与えたダメージに応じて自身を回復",11:"リバイブ",12:"スキルカード発動回数変化",13:"HPに応じてステータス変化",14:"被ダメ時バフデバフ付与",15:"状態異常付与率増加",16:"属性耐性バフ付与",17:"バフデバフターン延長"},"Passive Details":{0:"自身の{status}が{amount}{sign} ({power})",1:"自身の狙われやすさが{amount}{sign} ({power})",2:"自身が状態異常にならない",3:"自身がスタンにならない",4:"自身の攻撃のスタン量がアップ ({power}) <br><small>攻撃を受けた敵のスタンゲージの上昇量がアップ</small>",5:"とっておきゲージを{amount}{verb} ({power})",6:"自身のとっておきゲージ係数が{sign} ({power}) <br><small>行動によるとっておきゲージの上昇量が変化</small>",7:"自身のクリティカル時ダメージが{amount}{sign} ({power})",8:"自身のスキルを変更",9:"自身の回復スキルが最大 HP を超える ({power})",10:"敵に与えたダメージに応じて自身を回復",11:"自身がリバイブできる ({power}) <br><small>HP が 0 になるダメージを受けた時 1 回だけ回復</small>",12:"自身のスキルカードの発動回数を{verb} ({power})",13:"自身は HP に応じて{status}が変化",14:"{target}の{status}が {turn} {turnType}{amount}{sign} ({power})",15:"自身が付与する{abnomal}の状態異常の付与率を増加 ({amount})",16:"自身に{element}属性耐性バフを付与 ({amount})",17:"自身が付与する{buffType}を{amount}ターン延長"},"Passive Powers":{10:{0:"通常攻撃",1:"クラススキル",2:"武器スキル",3:"とっておき"},11:{0:"{0}% HP",1:"{0} 点"},13:{"Status Change":"{status}{amount}{sign} ({power})"},17:{0:{1:"ステータス変化効果のバフ",2:"ステータス変化効果のデバフ"},1:"状態異常無効",3:"ヘイト",4:"リカバリー",5:"クイックドロウ",6:"クリティカルダメージ量変化",7:"がまん"}},"Ability Tree Status Up":"自身の{status}を{amount}増加"},o={Items:"アイテム",Item:"アイテム","No Item":"アイテムはありません",Type:"タイプ","Item Type":{0:"強化素材",1:"進化素材",2:"限界突破素材",3:"武器素材",4:"その他",10:"イベント素材"},Category:"カテゴリー","Item Category Event":"イベント「{event}」からのアイテム","Item Category":{0:"小種",1:"種",2:"大種",3:"新芽",4:"コンテンツ限定星華",100:"小進化珠",101:"進化珠",102:"大進化珠",103:"特大進化珠",104:"超進化珠",112:"ブロンズスタチュー",113:"シルバースタチュー",114:"ゴールドスタチュー",124:"コンテンツ限定超進化珠",202:"つぼみ",203:"果実",204:"星結晶",214:"コンテンツ限定星結晶",300:"シンボル",301:"クレスト",311:"1 章武器素材",312:"2 章武器素材",313:"3 章武器素材",314:"4 章武器素材",315:"5 章武器素材",316:"6 章武器素材",317:"7 章武器素材",318:"8 章武器素材",404:"特殊",405:"召喚チケット",406:"交換アイテム",407:"スタミナ回復アイテム",408:"エトワリウム",409:"チャンスアップキーホルダー",410:"スキルアップパウダー"},"From Event":"イベント",Experience:"経験値","Sale Amount":"売却単価"},l={Weapons:"武器",Weapon:"武器","No Weapon":"武器はありません",Level:"レベル",Evolution:"進化","Upgrade Bonus Material Items":"強化ボーナス素材",Recipe:"作成に必要な素材","Evolution Recipe":"進化に必要な素材","Equipable Character":"装備できるキャラクター","Star 5 Special Weapon":"★5{0}専用{1}"},u={Master:"きらら",Stamina:"スタミナ","Battle Party Cost":"バトルコスト","Friend Limit":"フレンド数","Support Limit":"サポート数","Weapon Limit":"武器数","Training Slot Num":"トレーニング数","Master Skills":"きららのスキル","Master Orb":"きららオーブ","Master Skill Type":"{class}のオーブ"},c={"Quest Libraries":"クエストライブラリー","Quest Library":"クエストライブラリー",Quests:"クエスト",Quest:"クエスト",Section:"{0} 節","No Quest":"クエストはありません","Quest Library Categories":{0:"メインクエスト",1:"イベントクエスト",2:"作家クエスト",3:"曜日クエスト",4:"チャレンジクエスト",5:"メモリアルクエスト",6:"クラフトクエスト"},QuestFilter:{All:"全て",Date:"年月フィルター",NonCategorized:"日時データを取得できていないクエストのみ表示"},QuestDateFilter:{NoSelect:"(未選択)"},"Event Information":"情報","Event Abstract":"イベント概要","Event Bonus":"イベントボーナス",Enemies:"エネミー",Drops:"ドロップ","User Exp":"きらら経験値","Character Exp":"キャラクター経験値","Friendship Exp":"仲良し度"},h={"Scenario Libraries":"シナリオライブラリー","Scenario Library":"シナリオライブラリー",Scenarios:"シナリオ",Scenario:"シナリオ","No Scenario":"シナリオはありません","Scenario Library Categories":{5:"キャラクターシナリオ",1:"メインシナリオ",2:"イベントシナリオ",3:"作家シナリオ"},"Character Scenario":"キャラクターシナリオ","Cross Scenario":"クロスシナリオ","Memorial Scenario":"メモリアルシナリオ",Standpic:"立ち絵",Pose:"ポーズ",Face:"顔"},m={Titles:"コンテンツ",Title:"コンテンツ","No Title":"コンテンツはありません","Number of ★5":"★5 数","Number of Characters":"キャラクター数","Non-Player Characters":"NPC キャラクター","Event Characters":"イベントキャラクター"},d={Enemy:"エネミー","No Enemy":"エネミーはありません","Resist Abnormals":"状態異常免疫","AI ID":" AI ID ","Charge Max":"チャージ上限","Full Charge":"フルチャージ","Stun Coef":"スタン係数","AI Conditions":{num:"この条件の実行回数が {num} 回未満",0:"自身の HP が {min}% から {max}% の範囲内",1:{0:["エネミーに{abnormal}のある人数 {op} {num}","エネミーに{abnormal}のない人数 {op} {num}"],1:["他のエネミーに{abnormal}のある人数 {op} {num}","他のエネミーに{abnormal}のない人数 {op} {num}"],2:["自身に{abnormal}が存在","自身に{abnormal}が存在しない"]},2:{0:["エネミーに{statusChange}のある人数 {op} {num}","エネミーに{statusChange}のない人数 {op} {num}"],1:["他のエネミーに{statusChange}のある人数 {op} {num}","他のエネミーに{statusChange}のない人数 {op} {num}"],2:["自身に{statusChange}が存在","自身に{statusChange}が存在しない"]},3:"自身のチャージカウント {op} {num}",21:"エネミーの人数 {op} {num}",42:"クリエメイトの人数 {op} {num}",43:["クリエメイトに{abnormal}のある人数 {op} {num}","クリエメイトに{abnormal}のない人数 {op} {num}"],44:"クリエメイトに通常攻撃の使用回数が {num} に達するたび",45:"クリエメイトにスキルの使用回数が {num} に達するたび",46:"クリエメイトにとっておきの使用回数が {num} に達するたび",47:"クリエメイトにキャラ入替えの回数が {num} に達するたび",48:"クリエメイトに{extra}{class}の人数 {op} {num}",49:"クリエメイトに{statusChange}のある人数 {op} {num}",50:"サポートを除くクリエメイトが倒れた人数 {op} {num}",68:{0:"自身のスイッチ {num} がオフ",1:"自身のスイッチ {num} がオン"}},"AI Condition Status Changes":{0:" ATK アップ",1:" MAT アップ",2:" DEF アップ",3:" MDF アップ",4:" SPD アップ",5:" LUK アップ",6:" ATK ダウン",7:" MAT ダウン",8:" DEF ダウン",9:" MDF ダウン",10:" SPD ダウン",11:" LUK ダウン",12:"ステータスアップ",13:"ステータスダウン"},"AI Condition Ops":{0:"≥",1:"≤",2:"="},"AI Flags":{0:"自身のスイッチ {num} をオフにする",1:"自身のスイッチ {num} をオンにする"},"AI Single Condition":"目標選択：{target}は優先度が{sign} ({power})","AI Single Condition Signs":{"-1":"低い",1:"高い"},"AI Single Conditions":{0:"HP < 20% の目標",1:"{element}属性の目標",2:"{class}の目標",3:["{abnormal}のある目標","{abnormal}のない目標"],4:"属性抜群の目標",5:"{statusChange}のある目標",6:"自身"}},g={"Room Objects":"家具","Room Object":"家具","Change Night":"ナイトモードあり","Non-Reverse":"反転不可",Size:"サイズ","Buy Amount":"購入単価","Sell Amount":"売却単価","Max Num":"最大所持数","Search Points":"キャラ反応位置","Search Points Hint":"キャラ反応位置とは、キャラクターが家具の周辺でアクションしたり喋ったりできる地点です。","Character Action":"キャラクターアクション","No Character Action":"キャラクターアクションはありません","Character Tweets":"キャラクターセリフ","No Character Tweets":"キャラクターセリフはありません","Room Object Action Conditions":{0:"誰でも",1:"キャラクターカード限定",2:"キャラクター限定",3:"作品限定"},"Room Object Categories":{0:"机",1:"椅子",2:"収納",3:"寝具",4:"家電",5:"雑貨",6:"ホビー",7:"壁飾り",8:"敷物",9:"衝立",10:"床",11:"壁",12:"背景"}},p={"Town Objects":"里施設","Town Object":"里施設",Schedule:"スケジュール",Text:"テキスト"},v={"Page Help":"ページヘルプ","Page Helps":{"Room Object":"家具のデータを解析する際に協力してくれたコースケさんに感謝します。家具について質問やアドバイスがある場合は、遠慮せずに連絡してください。"}},f={Navigation:"ナビゲーション",Collection:"コレクション",Battle:"バトル",Items:"アイテム",Library:"ライブラリー",Tools:"ツール",Links:"リンク",Others:"その他",Applications:"きらファン解析アプリ","External Links":"外部リンク",Calculator:{Title:"計算機",Subtitle:"数値や確率を計算する"},Assets:{Title:"アセットブラウザ",Subtitle:"イラストとボイスをダウンロード"},"Card Maker":{Title:"カードメーカー",Subtitle:"カード作りツール"},Yarudesu:{Title:"やるデース！速報",Subtitle:"きらファン攻略まとめ BBS"},Wikiwiki:{Title:"きらファン完全攻略 Wiki",Subtitle:"キャラ運用方法・攻略情報・武器評判など"},Moegirl:{Title:"萌えっ娘",Subtitle:"中国語きらファン Wiki"},Miraheze:{Title:"Miraheze",Subtitle:"英語きらファン Wiki"},Timers:{Title:"タイマー",Subtitle:"イベントカレンダーとカウントダウン"}},_={Settings:"設定","Character Show Max Status":"リストで最大ステータスを表示","Character Show Max Status Hint":"覚醒ボーナスは加算しない","Set Max Frendship":"最大仲良し度の変更","Download Audio Files Directly":"音声をきらファンサーバーからダウンロード","Setting Hint:Download Audio Files Directly":"最新の音声が反映されますが時間がかかります","Set Max Frendship Hint":"空欄で5","Character Talent Show Luck":"タレントの LUK を表示","Character Icon Framed":"アイコンの枠を表示","Quest Drops Grouped":"ドロップを「アイテム数×組数」で表示","App Title Show ID":"アプリタイトルで ID を表示","Enemy AI Pattern":"エネミーの AI パタンを表示","Advanced Filter":"高級フィルター",Database:"データベース","Database Fetch Time":"データベース取得時間",Hash:"Hash","Reload Database":"データベースをリロードする","Reload Application":"アプリをリロードする","Show Clea On Start":"クレアの Live2D を有効にする","Show Clea On Start Hint":"エネルギー消費注意","Show Clea In Detail Page":"クレアを常設展示にする","Show Clea In Detail Page Hint":"クレアちゃん超カワイイ( ´▽｀)","Footer Fixed":"ホームのフッターを固定する",QuickJump:{QuickJump:"クイックジャンプ",ShowEvent:"イベントの超強敵や極を表示",ShowChangedWeapons:"変更された武器を表示"},Application:"アプリ",Contact:"連絡",Themes:{0:"レッド",1:"ブルー",2:"オレンジ",3:"グリーン",4:"パープル",5:"イエロー",6:"ピンク",7:"ダイナミック"},Close:"閉じる",Refresh:"再読み込み",Updated:{Database:"データベースアップデート完了",Application:"アプリアップデート完了"}},y={AbilityTreeFruits:"アビリティツリー",AbilityTreeFruit:"ことわりの実","Fruit Name":"名前"},b={Clea:"クレア","Clea Conversation":{TalkGroupA:["元気が出ない時は、声を出すといいですよ。えいえい、おー！","みなさんを召喚するために必要な\n『鍵』の管理を任せていただいています。","ポルカとコルクちゃんは、\nわたしの大切なお友達です。","元気が出ない時は、声を出すといいですよ。\nえいえい、おー！"]}};t.exports=Object.assign({},a,i,n,l,c,d,u,o,g,p,h,m,r,s,v,f,_,y,b)},1715:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{to:"/weapon/"+t.weapon.m_ID}},[t.collection?[a("v-list-item-avatar",{attrs:{size:48,tile:""}},[a("v-img",{attrs:{src:t.$asset.weaponicon.format(t.$store.state.$db.WeaponList[t.id].m_ResourceID_R)+".jpg"}})],1),a("v-list-item-subtitle",[t._v(t._s(t.$name(t.weapon.m_WeaponName)))])]:[a("v-list-item-avatar",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{size:t.$size(),tile:""}},[a("v-img",{attrs:{src:t.$asset.weaponicon.format(t.$store.state.$db.WeaponList[t.id].m_ResourceID_R)+".jpg"}})],1),a("v-list-item-content",{staticClass:"mr-auto ml-0",staticStyle:{"max-width":"384px"}},[a("v-list-item-title",{staticClass:"d-flex align-center"},[t._e(),4!=t.weapon.m_Rare?[a("img",{attrs:{width:t.$size()/2.5,height:t.$size()/2.5,src:t.$asset.commonuiatlas.format(t.classIcon)+".png"}}),a("span",{staticClass:"pr-1"})]:t._e(),t._v(t._s(t.$name(t.weapon.m_WeaponName)))],2),a("v-list-item-subtitle",[a("Status",{attrs:{status:t.status,divide:"3"}})],1)],1)]],2)},n=[],r={name:"Weapon",props:{id:{},collection:Boolean},computed:{weapon:function(){return this.$store.state.$db.WeaponList[this.id]},status:function(){var t={};return this.weapon.m_InitAtk&&(t.ATK=this.weapon.m_InitAtk),this.weapon.m_InitMgc&&(t.MAT=this.weapon.m_InitMgc),this.weapon.m_InitDef&&(t.DEF=this.weapon.m_InitDef),this.weapon.m_InitMDef&&(t.MDF=this.weapon.m_InitMDef),t},classIcon:function(){return{0:"ClassIconFighter",1:"ClassIconMagician",2:"ClassIconPriest",3:"ClassIconKnight",4:"ClassIconAlchemist"}[this.weapon.m_ClassType]}}},s=r,o=a("2877"),l=a("6544"),u=a.n(l),c=a("adda"),h=a("da13"),m=a("8270"),d=a("5d23"),g=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=g.exports;u()(g,{VImg:c["a"],VListItem:h["a"],VListItemAvatar:m["a"],VListItemContent:d["b"],VListItemSubtitle:d["c"],VListItemTitle:d["d"]})},"1e9f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{to:"/masterorb/"+t.id}},[t.collection?[a("v-list-item-avatar",{attrs:{size:48}},[a("v-img",{attrs:{src:t.$asset.orbicon.format(t.id)+".jpg"}})],1),a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.orb.m_Name))]),-1!=t.orb.m_TitleType&&"ja"!=t.$i18n.locale?a("v-list-item-subtitle",[t._v(t._s(t.$name(t.$store.state.$db.TitleList[t.orb.m_TitleType].m_DisplayName)))]):t._e(),-1!=t.orb.m_Class&&"ja"!=t.$i18n.locale?a("v-list-item-subtitle",[t._v(t._s(t.$t("Classes."+t.orb.m_Class)))]):t._e()],1)]:[a("v-list-item-avatar",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{width:t.$size(),height:t.$size()}},[a("v-img",{attrs:{src:t.$asset.orbicon.format(t.id)+".jpg"}})],1),a("v-list-item-content",{staticClass:"ml-0 mr-auto",staticStyle:{"max-width":"384px"}},[a("v-list-item-title",[t._v(t._s(t.orb.m_Name))]),-1!=t.orb.m_TitleType&&"ja"!=t.$i18n.locale?a("v-list-item-subtitle",[t._v(t._s(t.$name(t.$store.state.$db.TitleList[t.orb.m_TitleType].m_DisplayName)))]):t._e(),-1!=t.orb.m_Class&&"ja"!=t.$i18n.locale?a("v-list-item-subtitle",[t._v(t._s(t.$t("Classes."+t.orb.m_Class)))]):t._e()],1)]],2)},n=[],r={name:"Orb",props:{id:{},collection:Boolean},computed:{orb:function(){return this.$store.state.$db.MasterOrbList[this.id]}}},s=r,o=a("2877"),l=a("6544"),u=a.n(l),c=a("adda"),h=a("da13"),m=a("8270"),d=a("5d23"),g=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=g.exports;u()(g,{VImg:c["a"],VListItem:h["a"],VListItemAvatar:m["a"],VListItemContent:d["b"],VListItemSubtitle:d["c"],VListItemTitle:d["d"]})},2643:function(t,e,a){"use strict";a("99af"),a("d81d"),a("b64b"),a("d3b7"),a("159b"),a("bf19"),a("96cf");var i=a("9ed0"),n=a("bc3a"),r=a.n(n),s=a("9225"),o=a("2b0e"),l="https://trans.kirafan.cn",u=["zh","en","ko"],c={};function h(t){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(r.a.all(u.map((function(t){return r.a.get("".concat(l,"/").concat(t,".json?t=").concat((new Date).getTime()))}))).then(r.a.spread((function(){var t=arguments;u.forEach((function(e,a){var i=t[a].data;c[e]=i}))}))));case 2:return e=(new Date).toJSON(),c.version=t,c.date=e,a.next=7,regeneratorRuntime.awrap(Object(i["c"])("translationVersion",t));case 7:return a.next=9,regeneratorRuntime.awrap(Object(i["c"])("translations",c));case 9:return a.next=11,regeneratorRuntime.awrap(Object(i["c"])("translationDate",e));case 11:case"end":return a.stop()}}))}function m(){var t,e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(Object(i["b"])("translationVersion"));case 2:return t=a.sent,a.next=5,regeneratorRuntime.awrap(Object(i["b"])("translations"));case 5:if(e=a.sent,!t||!e){a.next=12;break}return Object.keys(e).forEach((function(t){c[t]=e[t]})),c.version=t,a.next=11,regeneratorRuntime.awrap(Object(i["b"])("translationDate"));case 11:c.date=a.sent;case 12:return a.abrupt("return",t);case 13:case"end":return a.stop()}}))}function d(){var t,e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(m());case 2:return t=a.sent,a.next=5,regeneratorRuntime.awrap(fetch("".concat(l,"/version")).then((function(t){return t.text()})));case 5:if(e=a.sent,t==e){a.next=9;break}return a.next=9,regeneratorRuntime.awrap(h(e));case 9:case"end":return a.stop()}}))}d(),o["a"].prototype.$name=function(t,e){if("ja"==s["a"].locale)return t;var a=/★5(.*)専用(.*)/.exec(t);if(a&&a[1]&&a[2])return this.$t("Star 5 Special Weapon").format(this.$name(a[1]),this.$name(a[2]));var i=c[s["a"].locale]&&c[s["a"].locale][t];return i?this.$s.alwaysShowJapanese&&!e&&i!=t?"".concat(i," / ").concat(t):i:t},e["a"]=c},"2b4e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{to:"/townobject/"+t.id}},[t.collection?[a("v-list-item-avatar",{attrs:{size:48}},[a("v-img",{attrs:{src:t.$asset.townobjecticon.format(t.item.m_ResourceID+"00")+".jpg"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.item.m_ObjName))]),-1!=t.item.m_TitleType?a("v-list-item-subtitle",[t._v(t._s(t.$name(t.$store.state.$db.TitleList[t.item.m_TitleType].m_DisplayName)))]):t._e()],1)]:[a("v-list-item-avatar",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{size:t.$size()}},[a("v-img",{attrs:{src:t.$asset.townobjecticon.format(t.item.m_ResourceID+"00")+".jpg"}})],1),a("v-list-item-content",{staticClass:"mr-auto ml-0",staticStyle:{"max-width":"384px"}},[a("v-list-item-title",[t._v(t._s(t.item.m_ObjName))]),-1!=t.item.m_TitleType?a("v-list-item-subtitle",[t._v(t._s(t.$name(t.$store.state.$db.TitleList[t.item.m_TitleType].m_DisplayName)))]):t._e()],1)]],2)},n=[],r={name:"TownObject",props:{id:{},collection:Boolean},computed:{item:function(){return this.$store.state.$db.TownObjectList[this.id]}}},s=r,o=a("2877"),l=a("6544"),u=a.n(l),c=a("adda"),h=a("da13"),m=a("8270"),d=a("5d23"),g=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=g.exports;u()(g,{VImg:c["a"],VListItem:h["a"],VListItemAvatar:m["a"],VListItemContent:d["b"],VListItemSubtitle:d["c"],VListItemTitle:d["d"]})},3546:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.enemy?a("div",[a("v-list-item",{attrs:{to:"/enemy/"+t.id+"?level="+t.level+"&qid="+t.qid}},[t.collection?[a("v-list-item-avatar",{attrs:{size:48}},[a("v-img",{attrs:{src:t.$asset.ordericon.format(t.enemy.m_ResourceID)+".jpg"}})],1),a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.$name(t.enemy.m_CharaName)))])],1)]:[a("v-list-item-avatar",{staticClass:"mr-2",attrs:{size:t.$size(48)}},[a("v-img",{attrs:{src:t.$asset.ordericon.format(t.enemy.m_ResourceID)+".jpg"}})],1),a("v-list-item-content",{staticClass:"hidden-md-and-up"},[a("v-list-item-title",{staticClass:"d-flex align-center"},[a("img",{staticClass:"d-inline",attrs:{width:t.$size()/3,height:t.$size()/3,src:t.$asset.commonuiatlas.format(t.elementIcon)+".png"}}),a("span",{staticClass:"pl-1"},[t._v(t._s(t.$name(t.enemy.m_CharaName)))]),a("v-list-item-subtitle",{staticClass:"pl-1"},[t._v(t._s(t.$t("Level"))+" "+t._s(t.level))])],1),a("v-list-item-subtitle",[a("Status",{attrs:{status:t.status6,divide:"3",format:""}})],1)],1),a("v-list-item-content",{staticClass:"hidden-sm-and-down"},[a("v-list-item-title",[t._v(t._s(t.$name(t.enemy.m_CharaName)))]),a("v-list-item-subtitle",{staticClass:"d-flex align-center"},[a("img",{staticClass:"d-inline",attrs:{width:t.$size()/3,height:t.$size()/3,src:t.$asset.commonuiatlas.format(t.elementIcon)+".png"}}),a("span",{staticClass:"pl-1"},[t._v(t._s(t.$t("Level"))+" "+t._s(t.level))])])],1)]],2),t.collection?t._e():a("div",{staticClass:"px-2 mb-4 hidden-sm-and-down small"},[a("Status",{attrs:{status:t.status7,divide:"2",format:""}})],1)],1):a("div")},n=[],r=(a("a9e3"),{name:"Enemy",props:{id:{},qid:{},level:Number,collection:Boolean},computed:{enemy:function(){return this.$store.state.$db.QuestEnemyList[this.id]},elementIcon:function(){return{0:"ElementIconFire",1:"ElementIconWater",2:"ElementIconEarth",3:"ElementIconWind",4:"ElementIconMoon",5:"ElementIconSun"}[this.enemy.m_Element]},status7:function(){return{HP:this.f(this.enemy.m_InitHp,this.enemy.m_MaxHp),"":null,ATK:this.f(this.enemy.m_InitAtk,this.enemy.m_MaxAtk),MAT:this.f(this.enemy.m_InitMgc,this.enemy.m_MaxMgc),DEF:this.f(this.enemy.m_InitDef,this.enemy.m_MaxDef),MDF:this.f(this.enemy.m_InitMDef,this.enemy.m_MaxMDef),SPD:this.f(this.enemy.m_InitSpd,this.enemy.m_MaxSpd),LUK:this.f(this.enemy.m_InitLuck,this.enemy.m_MaxLuck)}},status6:function(){return{HP:this.f(this.enemy.m_InitHp,this.enemy.m_MaxHp),ATK:this.f(this.enemy.m_InitAtk,this.enemy.m_MaxAtk),MAT:this.f(this.enemy.m_InitMgc,this.enemy.m_MaxMgc),DEF:this.f(this.enemy.m_InitDef,this.enemy.m_MaxDef),MDF:this.f(this.enemy.m_InitMDef,this.enemy.m_MaxMDef),SPD:this.f(this.enemy.m_InitSpd,this.enemy.m_MaxSpd)}}},methods:{f:function(t,e){if(t==e)return t;var a=(e-t)/(this.enemy.m_MaxLv-this.enemy.m_InitLv);return Math.ceil(t+a*(this.level-this.enemy.m_InitLv))}}}),s=r,o=a("2877"),l=a("6544"),u=a.n(l),c=a("adda"),h=a("da13"),m=a("8270"),d=a("5d23"),g=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=g.exports;u()(g,{VImg:c["a"],VListItem:h["a"],VListItemAvatar:m["a"],VListItemContent:d["b"],VListItemSubtitle:d["c"],VListItemTitle:d["d"]})},"41f5":function(t,e){var a={Common:"일반",Back:"뒤로",Cancel:"취소","Select All":"모두 선택","Select Reverse":"선택 항목 반전",All:"모두",Rare:"레어","Star 3":"★3","Star 4":"★4","Star 5":"★5",Rares:{2:"★3",3:"★4",4:"★5"},Class:"클래스",Fighter:"전사",Magician:"마법사",Priest:"승려",Knight:"나이트",Alchemist:"알케미스트",Classes:{"-1":"기본",0:"전사",1:"마법사",2:"승려",3:"나이트",4:"알케미스트"},Element:"속성",Fire:"화염",Water:"물",Earth:"흙",Wind:"바람",Moon:"달",Sun:"태양",Elements:{"-1":"기본",0:"화염",1:"물",2:"흙",3:"바람",4:"달",5:"태양"},Abnormal:"상태이상",Abnormals:{All:"모든 상태이상",0:"혼란",1:"속박",2:"배고픔",3:"무기력",4:"수면",5:"불행",6:"침묵",7:"고립"},Status:"스테이터스",Statuses:{All:"모든 스테이터스",0:"ATK",1:"MAT",2:"DEF",3:"MDF",4:"SPD",5:"LUK"},Default:"기본",comma:", ",dot:". ",divider:"·",Condition:"조건",Probability:"확률",Filter:"필터",Input:{Filter:"필터를 입력…"},Sort:"정렬",Reverse:"역순"},i={Home:"홈","KiraFan.Moe":"KiraFan.Moe","KiraFan Wiki":"키라판 해석 위키","Day Count":"키라라 판타지아 출시 {0}일째",Version:"Version","Version Info":"",Events:"이벤트",Summon:"소환","Summon 10 Times":"10회 소환"},n={Characters:"캐릭터",Character:"캐릭터","No Character":"캐릭터가 없습니다",Named:"캐릭터",Obtainability:"입수 방법",Normal:"보통","Distributed Weaken":"배포-",Distributed:"배포","Period Limited":"기간 한정",Level:"레벨",Arousal:"각성",Facilities:"시설",Friendship:"친애도","Title Facility":"작품 시설","Class Facility":"클래스 훈련소",Orb:"오브",Illust:"일러스트",Weapons:"무기","Flavor Text":"소환 대사","Creamate Commu Text":"크리에메이트 커뮤 대사",Achievements:"칭호","Related Characters":"관련 캐릭터","Same Rare Class Element":"동일한 {rare} {element} 속성의 {class}들","Same Event":"{event} 이벤트에서 대활약","Same Named":"{name}의 다른 카드"},r={Names:"캐릭터",Named:"캐릭터","No Named":"캐릭터가 없습니다",Profile:"프로필","Nick Name":"닉네임","Full Name":"풀네임","Gift Type":"선물 유형","Gift Types":{1e3:"강화 재료",2e3:"무기 강화 재료",3e3:"코인"},Voice:"보이스",CV:" CV ","Character Voice Type":{0:"시스템",1:"시나리오",2:"마을",3:"배틀"},"Character Voice Category":{"000":"타이틀 콜","001":"실행 시 인사·공통","002":"실행 시 인사·아침","003":"실행 시 인사·밤","006":"강화","008":"진화","009":"트레이닝 출발","010":"트레이닝 완료","012":"미션","013":"미션 완료",400:"퀘스트 출발",401:"배틀 시작 시",403:"가벼운 공격",405:"확실히 공격",406:"공격 스킬",409:"보조 스킬",411:"응원 스킬",412:"톳테오키 발동",413:"대미지",415:"상태이상",416:"전투 불능",417:"배틀 승리",419:"배틀 패배",420:"터치 보이스",Room1:"룸 대화 1",Room2:"룸 대화 2",RoomAction:"룸 액션",Town1:"마을 방문 1",Town2:"마을 방문 2",TownAction:"마을 액션",Home:"홈 화면 대화",Default:"기본"},Talent:"탤런트","Adv Standpic":"시나리오 전신 그림","Related Names":"관련 캐릭터","Same Title":"『{title}』의 캐릭터","Same CV":"{name}이(가) 연기한 캐릭터","Cross Adv":"크로스 시나리오에 등장한 동료","Original Character":"오리지널 캐릭터",Illustrator:"일러스트"},s={Skills:"스킬",Skill:"스킬","Skill Name":"스킬명",Load:"경직",Recast:"리캐스트",Charge:"차지",Level:"레벨","Stun Gauge":"스턴 게이지","Passive Skill":"자동 발동 스킬","No Skill":"스킬이 없습니다","No Passive Skill":"자동 발동 스킬이 없습니다","Skill Selector":"스킬 선택기","Skill Target":"타깃","Skill Targets":{0:"자동",1:"적 단일",2:"적 전체",3:"아군 단일",4:"아군 전체"},"Skill Damage Types":{0:"물리",1:"마법"},"Skill Signs":{"-1":"다운",0:"변화",1:"업"},"Skill Verbs":{"-1":"감소",0:"변화",1:"증가"},"Skill Turn Types":{0:"라운드",1:"턴"},"Skill Type":"스킬 유형","Skill Types":{0:"공격",1:"회복",2:"스테이터스 변화",3:"스테이터스 변화 리셋",4:"상태이상",5:"상태이상 회복",6:"상태이상 무효",7:"상태이상 부여 확률 보정",8:"속성 내성",9:"속성 변화",10:"유리 속성 보너스",11:"다음 공력 위력 업",12:"다음 공격 절대 크리티컬",13:"배리어",14:"리캐스트 변화",15:"키라라 점프 게이지양 변화",16:"키라라 점프 게이지 배율 변화",17:"행동 순서 변화",18:"헤이트 변화",19:"차지 변화",20:"체인 배울 변화",21:"스킬 카드",22:"스턴 회복",23:"부활",24:"아무것도 하지 않음",25:"스킬 부하 감소",26:"크리티컬 대미지양 변화",27:"자기 자신 대미지",28:"무작위 스테이터스 변화",29:"대미지를 받을 때 키라라 점프 게이지양 상승",30:"스테이터스 변화 무효"},"Skill Detail":"설명","Skill Details":{0:"{target}에 {damageType} {amount} 대미지 ({power})",1:"{target}을(를) {amount} 회복 ({power})",2:"{target}의 {status}이(가) {turn}{turnType} {amount} {sign} ({power})",3:"{target}의 {status} {sign}을(를) 리셋",4:"{target}에 {amount}{abnormal}을(를) 부여 ({power})",5:"{target}의 {abnormal}을(를) 해제",6:"{target}의 상태이상을 {turn}{turnType} 무효화",7:"{target}의 상태이상 저항률이 {turn}{turnType} {sign} ({power})",8:"{target}의 {element} 내성이 {turn}{turnType} {amount} {sign} ({power})",9:"{target}이(가) {element} 속성이 됨",10:"{target}의 유리 속성에 대한 대미지가 {turn}{turnType} 업 ({power})",11:"{target}의 {damageType} 공격이 한 번만 {amount} 업 ({power})",12:"{target}의 공격이 한 번만 크리티컬이 됨",13:"{target}에 {turn}회만 공격을 {amount} ({power}) 차단하는 배리어를 침",14:"{target}의 리캐스트를 {amount} {verb} ({power})",15:"톳테오키 게이지를 {amount} {verb} ({power})",16:"키라라 점프 게이지 배율 변화",17:"행동 순서 변화",18:"{target}의 노려지기 쉬운 정도가 {turn}{turnType} {amount} {sign} ({power})",19:"{target}의 차지 카운트를 {verb} ({power})",20:"체인 배율 변화",21:"「{extra}」의 스킬 가드를 {turn}개 설치",22:"스턴 회복",23:"{target}에 {turn}턴의 리커버리를 부여 ({power})",24:"아무것도 하지 않음",25:"{target}에 {turn}{turnType} 퀵드로를 부여 (-{power}) <small><br>스킬 경직이 다운</small>",26:"{target}의 크리티컬 시 대미지가 {turn}{turnType} {amount} {sign} ({power})",27:"{target}의 HP가 감소한다 ({power})",28:"{target}의 스테이터스 중 몇 개가 {turn}{turnType} {sign}",29:"{target}에 {turn}{turnType} 인내를 부여 ({power}) <small><br>대미지를 받을 때마다 톳테오키 게이지가 증가</small>",30:"{target}의 스테이터스 다운을 {turn} {turnType} 무효화"},"Skill Amount":"양","Skill Amount Sign":"{amount} {sign}","Skill Amounts":{0:{0:"특수",1:"소",2:"중","3-":"대",3:"대",4:"특대",5:"초특대"},1:{1:"소",2:"중",3:"대",4:"특대"},2:{1:"소",2:"중",3:"대",4:"특대"},4:{1:"낮은 확률로",2:"중간 확률로",3:"높은 확률로",4:""},8:{1:"소",2:"중",3:"대"},11:{1:"소",2:"중",3:"대",4:"특대"},13:{1:"약간",2:"",3:"크게",4:"완전히"},14:{1:"약간",2:"",3:"상당히"},15:{1:"약간",2:"",3:"상당히"},18:{1:"소",2:"중",3:"대"},26:{1:"소",2:"중",3:"대"}},"Skill Powers":{0:{0:"{power}%",1:"{power}%·상태이상 중인 목표에는 {power2}%",2:"{power}% 최대 HP",3:"{power}% 현재 HP",4:"{power}점",5:"{powerA}%·{powerB}%·{powerC}%",100:"{power}%·{abnormal} 중인 목표에는 {power2}%"},27:{0:"{power}% 최대 HP",1:"{power}% 현재 HP",2:"{power}점"},28:{Power:"{prob}%: {power}","Status Change":"{status} {amount} {sign} ({power})"}},"Passive Triggers":{0:"",1:"자신이 공격을 받을 때마다",2:"자신이 적을 쓰러뜨릴 때마다"},"Passive Details":{0:"자신의 {status}(이)가 {amount} {sign} ({power})",1:"자신의 노려지기 쉬운 정도가 {amount} {sign} ({power})",2:"자신이 상태이상이 되지 않음",3:"자신이 스턴에 걸리지 않음",4:"자신의 공격의 스턴 양이 업 ({power})<br><small>공격받은 적의 스턴 게이지 상승량이 업</small>",5:"톳테오키 게이지를 {amount} {verb} ({power})",6:"자신의 톳테오키 게이지 계수가 {sign} ({power})<br><small>행동에 의한 톳테오키 게이지의 상승량이 변화</small>",7:"자신의 크리티컬 시 대미지가 {amount} {sign} ({power})",8:"자신의 스킬을 변경",9:"자신의 회복 스킬이 최대 HP를 초과 ({power})",10:"적에게 입힌 피해에 따라 자신을 회복",11:"자신이 리바이브할 수 있음 ({power})<br><small>HP가 0이 될 대미지를 받았을 때 1회만 회복</small>",12:"자신의 스킬 가드의 발동 횟수를 {verb} ({power})",13:"자신의 HP에 따라 {status}(이)가 변화",14:"{target}의 {status}(이)가 {turn}{turnType} {amount} {sign} ({power})"},"Passive Powers":{10:{0:"상태이상",1:"클래스 스킬",2:"무기 스킬",3:"톳테오키"},11:{0:"{0}% HP",1:"{0}점"},13:{"Status Change":"{status} {amount} {sign} ({power})"}}},o={Items:"아이템",Item:"아이템","No Item":"아이템이 없습니다",Type:"유형","Item Type":{0:"강화 재료",1:"진화 재료",2:"한계돌파 재료",3:"무기 재료",4:"기타",10:"이벤트 재료"},Category:"카테고리","Item Category Event":"이벤트 「{event}」에 등장하는 아이템","Item Category":{0:"작은 씨앗",1:"씨앗",2:"큰 씨앗",3:"새싹",4:"콘텐츠 한정 성화",100:"소진화주",101:"진화주",102:"대진화주",103:"특대진화주",104:"초진화주",112:"브론즈 스태추",113:"실버 스태추",114:"골드 스태추",124:"콘텐츠 한정 초진화주",202:"꽃봉오리",203:"열매",204:"성결정",214:"콘텐츠 한정 성결정",300:"심벌",301:"크레스트",311:"1장 무기 재료",312:"2장 무기 재료",313:"3장 무기 재료",314:"4장 무기 재료",315:"5장 무기 재료",316:"6장 무기 재료",317:"7장 무기 재료",318:"8장 무기 재료",404:"특수",405:"소환 티켓",406:"교환 아이템",407:"스태미너 회복 아이템",408:"에토와리움",409:"찬스 업 키홀더",410:"스킬 업 파우더"},"From Event":"이벤트",Experience:"경험치","Sale Amount":"판매 단가"},l={Weapons:"무기",Weapon:"무기","No Weapon":"무기가 없습니다",Level:"레벨",Evolution:"진화","Upgrade Bonus Material Items":"강화 보너스 재료",Recipe:"제작에 필요한 재료","Evolution Recipe":"진화에 필요한 재료","Equipable Character":"장비할 수 있는 캐릭터","Star 5 Special Weapon":void 0},u={Master:"키라라",Stamina:"스태미너","Battle Party Cost":"배틀 코스트","Friend Limit":"프렌드 수","Support Limit":"서포트 수","Weapon Limit":"무기 수","Training Slot Num":"트레이닝 수","Master Skills":"키라라 스킬","Master Orb":"키라라 오브","Master Skill Type":"{class}의 오브"},c={"Quest Libraries":"퀘스트 라이브러리","Quest Library":"퀘스트 라이브러리",Quests:"퀘스트",Quest:"퀘스트",Section:"{0}절","No Quest":"퀘스트가 없습니다","Quest Library Categories":{0:"메인 퀘스트",1:"이벤트 퀘스트",2:"작가 퀘스트",3:"요일 퀘스트",4:"챌린지 퀘스트",5:"메모리얼 퀘스트",6:"크래프트 퀘스트"},"Event Information":"정보","Event Abstract":"이벤트 개요","Event Bonus":"이벤트 보너스",Enemies:"에너미",Drops:"드롭","User Exp":"키라라 경험치","Character Exp":"캐릭터 경험치","Friendship Exp":"친애도"},h={"Scenario Libraries":"시나리오 라이브러리","Scenario Library":"시나리오 라이브러리",Scenarios:"시나리오",Scenario:"시나리오","No Scenario":"시나리오가 없습니다","Scenario Library Categories":{5:"캐릭터 시나리오",1:"메인 시나리오",2:"이벤트 시나리오",3:"작가 시나리오"},"Character Scenario":"캐릭터 시나리오","Cross Scenario":"크로스 시나리오","Memorial Scenario":"메모리얼 시나리오",Standpic:"전신 그림",Pose:"포즈",Face:"얼굴"},m={Titles:"콘텐츠",Title:"콘텐츠","No Title":"콘텐츠가 없습니다","Number of ★5":"★5 수","Number of Characters":"캐릭터 수","Non-Player Characters":"NPC 캐릭터","Event Characters":"이벤트 캐릭터"},d={Enemy:"에너미","No Enemy":"에너미가 없습니다","Resist Abnormals":"상태이상 면역","AI ID":"AI ID","Charge Max":"차지 상한","Full Charge":"풀 차지","Stun Coef":"스턴 계수","AI Conditions":{num:"이 조건의 실행 횟수가 {num}회 미만",0:"자신의 HP가 {min}%부터 {max}% 범위 안",1:{0:["에너미에게 {abnormal}인 명수 {op} {num}","에너미에게 {abnormal}이(가) 아닌 명수 {op} {num}"],1:["다른 에너미에게 {abnormal}인 명수 {op} {num}","다른 에너미에게 {abnormal}이(가) 아닌 명수 {op} {num}"],2:["자신에게 {abnormal}이(가) 존재","자신에게 {abnormal}이(가) 존재하지 않음"]},2:{0:["에너미에게 {statusChange}인 명수 {op} {num}","에너미에게 {statusChange}이(가) 아닌 명수 {op} {num}"],1:["다른 에너미에게 {statusChange}인 명수 {op} {num}","다른 에너미에게 {statusChange}이(가) 아닌 명수 {op} {num}"],2:["자신에게 {statusChange}이(가) 존재","자신에게 {statusChange}이(가) 존재하지 않음"]},3:"자신의 차지 카운트 {op} {num}",21:"에너미 명수 {op} {num}",42:"크리에메이트 명수 {op} {num}",43:["크리에메이트에게 {abnormal}인 명수 {op} {num}","크리에메이트에게 {abnormal}이(가) 아닌 명수 {op} {num}"],44:"크리에메이트에게 통상 공격 사용 횟수가 {num}에 도달할 때마다",45:"크리에메이트에게 스킬 사용 횟수가 {num}에 도달할 때마다",46:"크리에메이트에게 톳테오키 사용 횟수가 {num}에 도달할 때마다",47:"크리에메이트에게 캐릭터 교체 횟수가 {num}에 도달할 때마다",48:"크리에메이트에게 {extra} {class}인 명수 {op} {num}",49:"크리에메이트에게 {statusChange}인 명수 {op} {num}",68:{0:"자신의 스위치 {num}이(가) OFF",1:"자신의 스위치 {num}이(가) ON"}},"AI Condition Status Changes":{0:"ATK 업",1:"MAT 업",2:"DEF 업",3:"MDF 업",4:"SPD 업",5:"LUK 업",6:"ATK 다운",7:"MAT 다운",8:"DEF 다운",9:"MDF 다운",10:"SPD 다운",11:"LUK 다운",12:"스테이터스 업",13:"스테이터스 다운"},"AI Condition Ops":{0:"≥",1:"≤",2:"="},"AI Flags":{0:"자신의 스위치 {num}을(를) OFF로 한다",1:"자신의 스위치 {num}을(를) ON으로 한다"},"AI Single Condition":"목표 선택： {target}은(는) 우선도가 {sign} ({power})","AI Single Condition Signs":{"-1":"낮음",1:"높음"},"AI Single Conditions":{0:"HP < 20%인 목표",1:"{element} 속성인 목표",2:"{class}인 목표",3:["{abnormal} 있는 목표","{abnormal} 없는 목표"],4:"속성 발군인 목표",5:"{statusChange} 있는 목표",6:"자신"}},g={"Room Objects":"가구","Room Object":"가구","Change Night":"나이트 모드 있음","Non-Reverse":"반전 불가",Size:"크기","Buy Amount":"구입 단가","Sell Amount":"판매 단가","Max Num":"최대 소지 수","Search Points":"캐릭터 반응 위치","Search Points Hint":"캐릭터 반응 위치란 캐릭터가 가구 주변에서 액션을 하거나 말할 수 있는 지점을 말합니다.","Character Action":"캐릭터 액션","No Character Action":"캐릭터 액션이 없습니다","Character Tweets":"캐릭터 대사","No Character Tweets":"캐릭터 대사가 없습니다","Room Object Action Conditions":{0:"누구나",1:"캐릭터 카드 한정",2:"캐릭터 한정",3:"작품 한정"},"Room Object Categories":{0:"책상",1:"의자",2:"서랍",3:"침구",4:"가전",5:"잡화",6:"취미",7:"벽걸이",8:"카펫",9:"칸막이",10:"바닥",11:"벽",12:"배경"}},p={"Town Objects":"마을 시설","Town Object":"마을 시설",Schedule:"스케줄",Text:"텍스트"},v={"Page Help":"페이지 도움말","Page Helps":{"Room Object":"가구의 데이터를 해석하는 데 협력해 주신 코스케(コースケ) 씨께 감사드립니다. 가구에 대하여 질문이나 조언이 있을 경우에는 사양 말고 연락해 주십시오."}},f={Navigation:"내비게이션",Collection:"콜렉션",Battle:"배틀",Items:"아이템",Library:"라이브러리",Tools:"도구",Links:"링크",Others:"기타",Applications:"키라판 해석 앱","External Links":"외부 링크",Calculator:{Title:"계산기",Subtitle:"수치나 확률을 계산"},Assets:{Title:"에셋 탐색기",Subtitle:"일러스트와 보이스를 다운로드"},"Card Maker":{Title:"카드 메이커",Subtitle:"카드 제작 도구"},Yarudesu:{Title:"야루데스! 정보",Subtitle:"키라판 공략 정리"},Wikiwiki:{Title:"키라판 완전공략 위키",Subtitle:"캐릭터 운용 방법·공략 정보·무기 평판 등"},Moegirl:{Title:"모엣코",Subtitle:"중국어 키라판 위키"},Miraheze:{Title:"미라하제",Subtitle:"영어 키라판 위키"},Timers:{Title:"타이머",Subtitle:"이벤트 캘린더와 카운트다운"}},_={Settings:"설정","Character Show Max Status":"리스트에서 최대 스테이터스를 표시","Character Show Max Status Hint":"각성 보너스를 가산하지 않습니다","Character Talent Show Luck":"탤런트의 LUK를 표시","Character Icon Framed":"아이콘의 테두리를 표시","Quest Drops Grouped":"드롭을 ‘아이템 수 × 그룹 수’로 표시","App Title Show ID":"앱 제목에 ID를 표시","Enemy AI Pattern":"에너미의 AI 패턴을 표시","Advanced Filter":"고급 필터",Database:"데이터베이스","Database Fetch Time":"데이터베이스 동기화 시간",Hash:"Hash","Reload Database":"데이터베이스를 다시 불러오기","Reload Application":"앱을 다시 불러오기",Language:"언어","Always Show Japanese":"항상 일본어로 표시","Package Fetch Time":"패키지 동기화 시간","Reload Language Package":"한국어 번역 패키지 다시 불러오기","Help Translate Names":"이름 번역 돕기","Show Clea On Start":void 0,"Show Clea On Start Hint":void 0,"Show Clea In Detail Page":void 0,"Show Clea In Detail Page Hint":void 0,Application:void 0,Contact:void 0,Themes:{0:"레드",1:"블루",2:"오렌지",3:"그린",4:"퍼플",5:"옐로",6:"핑크",7:"다이내믹"},Close:"닫기",Refresh:"다시 불러오기",Updated:{Database:"데이터베이스 업데이트 완료",Application:"앱 업데이트 완료"}},y={"Clea Conversation":{TalkGroupA:["元気が出ない時は、声を出すといいですよ。えいえい、おー！","みなさんを召喚するために必要な\n『鍵』の管理を任せていただいています。","ポルカとコルクちゃんは、\nわたしの大切なお友達です。","元気が出ない時は、声を出すといいですよ。\nえいえい、おー！"]}};t.exports=Object.assign({},a,i,n,l,c,d,u,o,g,p,h,m,r,s,v,f,_,y)},4790:function(t,e,a){var i={"./en.js":"090b","./ja.js":"1105","./ko.js":"41f5","./ko/extra.js":"cd8d","./zh.js":"abac"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id="4790"},"4e85":function(t,e,a){"use strict";a("7caa")},"512f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.character?a("div",[a("div",{staticClass:"hidden-sm-and-up"},[t.character.isWeaken?a("KeyValue",{staticClass:"pl-4 pr-2 pt-2 float-left",attrs:{k:t.$t("Distributed Weaken")}}):t.character.isDistributed?a("KeyValue",{staticClass:"pl-4 pr-2 pt-2 float-left",attrs:{k:t.$t("Distributed")}}):t.character.isPeriodLimited?a("KeyValue",{staticClass:"pl-4 pr-2 pt-2 float-left",attrs:{k:t.$t("Period Limited")}}):t._e(),a("p",{staticClass:"display px-4 primary--text"},[t._v(t._s(t.$name(t.character.m_Name,!0)))]),a("p",{directives:[{name:"show",rawName:"v-show",value:"ja"!=t.$i18n.locale,expression:"$i18n.locale!='ja'"}],staticClass:"px-4"},[a("span",[t._v("日本語：")]),a("span",{staticClass:"primary--text"},[t._v(t._s(t.character.m_Name))])])],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"8",xl:"6"}},[a("div",{staticClass:"hidden-xs-only"},[t.character.isWeaken?a("KeyValue",{staticClass:"pl-4 pr-2 pt-2 float-left",attrs:{k:t.$t("Distributed Weaken")}}):t.character.isDistributed?a("KeyValue",{staticClass:"pl-4 pr-2 pt-2 float-left",attrs:{k:t.$t("Distributed")}}):t.character.isPeriodLimited?a("KeyValue",{staticClass:"pl-4 pr-2 pt-2 float-left",attrs:{k:t.$t("Period Limited")}}):t._e(),a("p",{staticClass:"display px-4 primary--text"},[t._v(t._s(t.$name(t.character.m_Name,!0)))]),a("p",{directives:[{name:"show",rawName:"v-show",value:"ja"!=t.$i18n.locale,expression:"$i18n.locale!='ja'"}],staticClass:"px-4"},[a("span",[t._v("日本語：")]),a("span",{staticClass:"primary--text"},[t._v(t._s(t.character.m_Name))])])],1),a("Status",{staticClass:"pa-4 pb-8",staticStyle:{"max-width":"320px"},attrs:{status:t.status,divide:"2"}})],1),a("v-col",{staticClass:"hidden-xl-only",attrs:{cols:"4"}},[a("div",{staticClass:"pr-4",attrs:{align:"right"}},[a("a",{attrs:{href:t.$asset.characard.format(t.evolvedID(t.evolution))+".png",target:"_blank"}},[a("v-img",{attrs:{"min-width":"100","max-width":"187.5","aspect-ratio":.75,src:t.$asset.characard.format(t.evolvedID(t.evolution))+".jpg"}})],1)])]),a("v-col",{staticClass:"hidden-lg-and-down",attrs:{cols:"3"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:2!=t.character.m_Rare,expression:"character.m_Rare!=2"}],staticClass:"pr-4"},[a("a",{attrs:{href:t.$asset.characard.format(t.evolvedID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"min-width":"100","max-width":"187.5","aspect-ratio":.75,src:t.$asset.characard.format(t.evolvedID(0))+".jpg"}})],1)])]),a("v-col",{staticClass:"hidden-lg-and-down",attrs:{cols:"3"}},[a("div",{staticClass:"pr-4"},[a("a",{attrs:{href:t.$asset.characard.format(t.evolvedID(t.maxEvolution))+".png",target:"_blank"}},[a("v-img",{attrs:{"min-width":"100","max-width":"187.5","aspect-ratio":.75,src:t.$asset.characard.format(t.evolvedID(t.maxEvolution))+".jpg"}})],1)])])],1),a("div",{staticClass:"px-4"},[a("v-slider",{attrs:{min:"1",max:t.maxLevel},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label"},[a("span",[t._v(t._s(t.$t("Level"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.level))])])]},proxy:!0},{key:"append",fn:function(){return[a("v-icon",{on:{click:t.clickMax}},[t._v("mdi-chevron-double-up")])]},proxy:!0},{key:"thumb-label",fn:function(e){return[t._v(t._s(t.exp))]}}]),model:{value:t.level,callback:function(e){t.level=e},expression:"level"}}),a("v-slider",{attrs:{min:"0",max:t.maxFacilities},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label"},[a("span",[t._v(t._s(t.$t("Facilities"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.facilitiesManual?"…":t.facilities))])])]},proxy:!0},{key:"append",fn:function(){return[a("v-icon",{on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("mdi-dots-horizontal")])]},proxy:!0}]),model:{value:t.facilities,callback:function(e){t.facilities=e},expression:"facilities"}}),a("v-slider",{attrs:{min:"0",max:"10"},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label"},[a("span",[t._v(t._s(t.$t("Orb"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.orb))])])]},proxy:!0},{key:"append",fn:function(){return[a("v-icon",{on:{click:function(e){t.orb=10}}},[t._v("mdi-chevron-double-up")])]},proxy:!0}]),model:{value:t.orb,callback:function(e){t.orb=e},expression:"orb"}}),a("v-slider",{attrs:{min:"0",max:t.maxArousal},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label"},[a("span",[t._v(t._s(t.$t("Arousal"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.arousal))])])]},proxy:!0},{key:"append",fn:function(){return[a("v-icon",{on:{click:t.clickMin}},[t._v("mdi-delete")])]},proxy:!0},{key:"thumb-label",fn:function(e){return[t._v(t._s(t.arousalExp))]}}]),model:{value:t.arousal,callback:function(e){t.arousal=e},expression:"arousal"}})],1),a("v-dialog",{attrs:{"max-width":"512"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("Facilities")))]),a("v-card-text",[a("v-slider",{attrs:{max:t.maxFriendship},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label",staticStyle:{width:"128px"}},[a("span",[t._v(t._s(t.$t("Friendship"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.friendship))])])]},proxy:!0}]),model:{value:t.friendship,callback:function(e){t.friendship=e},expression:"friendship"}}),a("v-slider",{attrs:{max:"10"},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label",staticStyle:{width:"128px"}},[a("span",[t._v(t._s(t.$t("Title Facility"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.titleFacility))])])]},proxy:!0}]),model:{value:t.titleFacility,callback:function(e){t.titleFacility=e},expression:"titleFacility"}}),a("v-slider",{attrs:{max:"10"},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label",staticStyle:{width:"128px"}},[a("span",[t._v(t._s(t.$t("Class Facility"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.classFacilities[0]))])])]},proxy:!0}]),model:{value:t.classFacilities[0],callback:function(e){t.$set(t.classFacilities,0,e)},expression:"classFacilities[0]"}}),a("v-slider",{attrs:{max:"10"},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label",staticStyle:{width:"128px"}},[a("span",[t._v(t._s(t.$t("Class Facility"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.classFacilities[1]))])])]},proxy:!0}]),model:{value:t.classFacilities[1],callback:function(e){t.$set(t.classFacilities,1,e)},expression:"classFacilities[1]"}}),a("v-slider",{attrs:{max:"10"},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label",staticStyle:{width:"128px"}},[a("span",[t._v(t._s(t.$t("Class Facility"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.classFacilities[2]))])])]},proxy:!0}]),model:{value:t.classFacilities[2],callback:function(e){t.$set(t.classFacilities,2,e)},expression:"classFacilities[2]"}})],1)],1)],1),a("v-list-item",{attrs:{to:"/named/"+this.character.m_NamedType}},[a("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s(t.$t("Profile")))]),a("v-list-item-action",{staticClass:"ma-0"},[a("v-icon",[t._v("mdi-chevron-right")])],1)],1),a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:"ja"==t.$i18n.locale,expression:"$i18n.locale=='ja'"}],attrs:{target:"_blank",href:t.$const.wikiwiki.character.format(t.$store.state.$db.NamedList[this.character.m_NamedType].m_FullName)}},[a("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s(t.$store.state.$db.NamedList[this.character.m_NamedType].m_FullName)+" - "+t._s(t.$t("Wikiwiki.Title")))]),a("v-list-item-action",{staticClass:"ma-0"},[a("v-icon",[t._v("mdi-open-in-new")])],1)],1),t.character.isDistributed?a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:"ja"==t.$i18n.locale,expression:"$i18n.locale=='ja'"}],attrs:{target:"_blank",href:t.$const.wikiwiki._.format("配布キャラについて")}},[a("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s("配布キャラについて")+" - "+t._s(t.$t("Wikiwiki.Title")))]),a("v-list-item-action",{staticClass:"ma-0"},[a("v-icon",[t._v("mdi-open-in-new")])],1)],1):t._e(),a("v-divider"),a("Ad",{key:"character-ad-"+t.id}),a("Illust",{attrs:{id:t.id}}),a("v-divider",{staticClass:"mb-4"}),a("p",{staticClass:"title px-4 primary--text"},[t._v(t._s(t.$t("Skills")))]),a("Skill",{key:"character-unique-skill",attrs:{sp:"",id:t.evolvedCharacter.m_CharaSkillID,owner:"PL",element:t.character.m_Element,max:t.maxSkillLevel+t.arousalLevel.m_SkillLvLimit}}),t._l(t.evolvedCharacter.m_ClassSkillIDs,(function(e,i){return a("Skill",{key:"character-class-skill-"+i,attrs:{id:e,owner:"PL",element:t.character.m_Element,max:t.maxSkillLevel}})})),a("Skill",{attrs:{id:t.character.m_Class+1,owner:"PL",element:t.character.m_Element,max:"1"}}),a("Weapons",{attrs:{id:t.evolvedID(t.maxEvolution)}}),a("v-divider"),a("Ad",{key:"character-ad-"+t.id+"-1"}),a("Achievements",{attrs:{id:t.id}}),a("Flavor",{attrs:{id:t.id}}),a("Related",{attrs:{id:t.id}}),a("RelatedNamed",{attrs:{id:t.character.m_NamedType,hideTitle:""}})],2):a("div",{staticClass:"pa-4"},[a("KeyValue",{attrs:{k:t.$t("No Character")}})],1)},n=[],r=(a("4de4"),a("fb6a"),a("b0c0"),a("5849")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-divider",{staticClass:"mb-4"}),a("div",{staticClass:"float-right pr-4"},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.show=!t.show}}},[t.show?a("v-icon",[t._v("mdi-chevron-up")]):a("v-icon",[t._v("mdi-chevron-down")])],1)],1),a("p",{staticClass:"title px-4 primary--text",on:{click:function(e){t.show=!0}}},[t._v(t._s(t.$t("Illust")))]),a("v-expand-transition",[a("v-row",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"px-2 mt-n2 mb-2",attrs:{"no-gutters":""}},[2==t.character.m_Rare?[a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.characard.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.characard.format(t.evolutionID(0))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.charaillustchara.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.charaillustchara.format(t.evolutionID(0))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"4"}}),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.mergedcharaicon.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.mergedcharaicon.format(t.evolutionID(0))+".png"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.charaicon.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.charaicon.format(t.evolutionID(0))+".png"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"4"}})]:3==t.character.m_Rare?[a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.characard.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.characard.format(t.evolutionID(0))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.characard.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.characard.format(t.evolutionID(1))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.charaillustchara.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.charaillustchara.format(t.evolutionID(0))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.charaillustchara.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.charaillustchara.format(t.evolutionID(1))+".jpg"}})],1)]),a("v-col",{attrs:{cols:"0",sm:"2"}}),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.mergedcharaicon.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.mergedcharaicon.format(t.evolutionID(0))+".png"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.charaicon.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.charaicon.format(t.evolutionID(0))+".png"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.mergedcharaicon.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.mergedcharaicon.format(t.evolutionID(1))+".png"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.charaicon.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.charaicon.format(t.evolutionID(1))+".png"}})],1)]),a("v-col",{attrs:{cols:"0",sm:"2"}})]:4==t.character.m_Rare?[a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.characard.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.characard.format(t.evolutionID(0))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.characard.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.characard.format(t.evolutionID(1))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.charaillustfull.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.charaillustfull.format(t.evolutionID(0))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.charaillustfull.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.charaillustfull.format(t.evolutionID(1))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.charaillustchara.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.charaillustchara.format(t.evolutionID(0))+".jpg"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[a("a",{attrs:{href:t.$asset.charaillustchara.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":.75,src:t.$asset.charaillustchara.format(t.evolutionID(1))+".jpg"}})],1)]),a("v-col",{attrs:{cols:"0",sm:"2"}}),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.mergedcharaicon.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.mergedcharaicon.format(t.evolutionID(0))+".png"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.charaicon.format(t.evolutionID(0))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.charaicon.format(t.evolutionID(0))+".png"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.mergedcharaicon.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.mergedcharaicon.format(t.evolutionID(1))+".png"}})],1)]),a("v-col",{staticClass:"pa-2",attrs:{cols:"3",sm:"2"}},[a("a",{attrs:{href:t.$asset.charaicon.format(t.evolutionID(1))+".png",target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.$asset.charaicon.format(t.evolutionID(1))+".png"}})],1)]),a("v-col",{attrs:{cols:"0",sm:"2"}})]:t._e()],2)],1)],1)},o=[],l={name:"Illust",props:["id"],data:function(){return{show:!1}},computed:{character:function(){return this.$store.state.$db.CharacterList[this.id]}},methods:{evolutionID:function(t){return this.id-this.id%10+t}}},u=l,c=a("2877"),h=a("6544"),m=a.n(h),d=a("8336"),g=a("62ad"),p=a("ce7e"),v=a("0789"),f=a("132d"),_=a("adda"),y=a("0fd9"),b=Object(c["a"])(u,s,o,!1,null,null,null),k=b.exports;m()(b,{VBtn:d["a"],VCol:g["a"],VDivider:p["a"],VExpandTransition:v["a"],VIcon:f["a"],VImg:_["a"],VRow:y["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.achievements.length?a("div",[a("v-divider",{staticClass:"mb-4"}),a("p",{staticClass:"px-4 title primary--text"},[t._v(t._s(t.$t("Achievements")))]),a("div",{staticClass:"px-2 mb-2"},[a("v-row",{attrs:{"no-gutters":""}},t._l(t.achievements,(function(e){return a("v-col",{key:"achievement-"+e.id,attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"px-2 mb-2"},[a("a",{attrs:{href:t.$asset.achievement.format(e.id)+".png",target:"_blank"}},[a("v-img",{attrs:{src:t.$asset.achievement.format(e.id)+".png",height:"60",contain:"","lazy-src":t.$asset.achievement.format(0)+".png"}})],1)])])})),1)],1)],1):t._e()},C=[],x={name:"Achievements",props:["id"],computed:{achievements:function(){var t=this;return this.$store.state.$db.AchievementListArray.filter((function(e){return(1==e.type||3==e.type)&&e.trigger==t.id}))}}},w=x,I=Object(c["a"])(w,S,C,!1,null,null,null),T=I.exports;m()(I,{VCol:g["a"],VDivider:p["a"],VImg:_["a"],VRow:y["a"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-divider",{staticClass:"mb-4"}),a("p",{staticClass:"title px-4 primary--text"},[t._v(t._s(t.$t("Flavor Text")))]),a("v-list-item",[a("Voice",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{name:t.name,cue:"voice_flavor_0"}}),a("v-list-item-content",{staticClass:"mr-auto ml-0",staticStyle:{"max-width":"384px"}},[a("div",{style:{"line-height":1.5,"font-size":t.$vuetify.breakpoint.xsOnly?"70%":null},domProps:{innerHTML:t._s(t.text(t.flavor.m_FlavorText))}})])],1),t.flavors.length?[a("v-divider",{staticClass:"mb-4"}),a("div",{staticClass:"float-right pr-4"},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.show=!t.show}}},[t.show?a("v-icon",[t._v("mdi-chevron-up")]):a("v-icon",[t._v("mdi-chevron-down")])],1)],1),a("p",{staticClass:"title px-4 primary--text",on:{click:function(e){t.show=!0}}},[t._v(t._s(t.$t("Creamate Commu Text")))]),a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},t._l(t.flavors,(function(e,i){return a("v-list-item",{key:"character-flavor-"+i},[a("v-list-item-avatar",{staticClass:"mx-auto mr-0",attrs:{size:t.$size(32),color:"primary"}},[a("span",{staticClass:"white--text"},[t._v(t._s(e.m_ConditionId%10))])]),a("v-list-item-avatar",{staticClass:"mx-2 mr-md-4",attrs:{size:t.$size(32)}},[a("span",{staticClass:"primary--text"},[t._v(t._s(t.$t("Flavor Condition Types."+e.m_ConditionType)))])]),a("v-list-item-content",{staticClass:"mr-auto ml-0",staticStyle:{"max-width":"384px"}},[a("div",{style:{"line-height":1.5,"font-size":t.$vuetify.breakpoint.xsOnly?"70%":null},domProps:{innerHTML:t._s(t.text(e.m_Body))}})])],1)})),1)])]:t._e()],2)},P=[],A=(a("99af"),a("c975"),a("d81d"),a("5319"),{name:"Flavor",props:["id"],data:function(){return{show:!1}},methods:{text:function(t){return t.replace(/<wait=.*?>/g,"").replace(/<page>/g,"").replace(/\n/g,"<br>")}},computed:{flavor:function(){return this.$store.state.$db.CharacterFlavorText[this.id]},flavors:function(){var t=this;return this.$store.state.$db.FlavorsArray.filter((function(e){return e.m_CharaID==t.id}))},character:function(){return this.$store.state.$db.CharacterList[this.id]},index:function(){var t=this;return"ABCDEFG"[this.$store.state.$db.CharacterListArray.filter((function(e){return e.m_CharaID%10==0&&e.m_NamedType==t.character.m_NamedType&&e.m_Rare==t.character.m_Rare&&e.m_Class==t.character.m_Class})).map((function(t){return t.m_CharaID})).indexOf(this.character.m_CharaID)]},class:function(){return["Fighter","Magician","Priest","Knight","Alchemist"][this.character.m_Class]},name:function(){return"".concat(this.$store.state.$db.NamedList[this.character.m_NamedType].m_ResouceBaseName,"_").concat(this.class).concat(this.character.m_Rare+1,"_").concat(this.index)}}}),D=A,V=a("da13"),L=a("8270"),B=a("5d23"),E=Object(c["a"])(D,M,P,!1,null,null,null),F=E.exports;m()(E,{VBtn:d["a"],VDivider:p["a"],VExpandTransition:v["a"],VIcon:f["a"],VListItem:V["a"],VListItemAvatar:L["a"],VListItemContent:B["b"]});var R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-divider",{staticClass:"mb-4"}),a("p",{staticClass:"px-4 title primary--text"},[t._v(t._s(t.$t("Related Characters")))]),t._l(t.related,(function(e){return e.items.length?a("div",{key:"characters-related-"+t.id+"-"+e.name},[a("p",{staticClass:"px-4 subtitle-1"},[t._v(t._s(e.name))]),a("Scroller",{attrs:{icon:t.$size(64)}},[t._l(e.items,(function(i){return a("div",{key:"characters-related-"+t.id+"-"+e.name+"-"+i.m_CharaID,staticClass:"ml-4",style:{width:t.$size(64)+"px"}},[a("router-link",{attrs:{to:"/character/"+i.m_CharaID+"#app"}},[a("CharaIcon",{attrs:{id:i.m_CharaID,size:t.$size(64)}}),a("div",{staticClass:"caption text-center two-lines"},[t._v(t._s(t.$name(i.m_Name)))])],1)],1)})),a("div",{staticClass:"pl-4"})],2)],1):t._e()}))],2)},$=[],N=(a("4d63"),a("25f0"),a("466d"),{name:"Related",props:["id"],computed:{character:function(){return this.$store.state.$db.CharacterList[this.id]},named:function(){return this.$store.state.$db.NamedList[this.character.m_NamedType]},event:function(){return this.character.m_Name.match(/【.*】/)},characterList:function(){return this.$store.state.$db.CharacterListArray.filter((function(t){return t.m_CharaID%10==0}))},sameRareClassElement:function(){var t=this;return this.characterList.filter((function(e){return e.m_CharaID!=t.character.m_CharaID&&e.m_Rare==t.character.m_Rare&&e.m_Class==t.character.m_Class&&e.m_Element==t.character.m_Element}))},sameEvent:function(){var t=this;return this.event?this.characterList.filter((function(e){return e.m_CharaID!=t.character.m_CharaID&&e.m_Name.match(new RegExp(t.event))})):[]},sameNamed:function(){var t=this;return this.characterList.filter((function(e){return e.m_CharaID!=t.character.m_CharaID&&e.m_NamedType==t.character.m_NamedType}))},sameTitle:function(){var t=this;return this.$store.state.$db.NamedListArray.filter((function(e){return e.m_NamedType!=t.named.m_NamedType&&e.m_TitleType==t.named.m_TitleType})).map((function(e){return t.$store.state.$db.CharacterList[e.primaryCharacterID]}))},sameCV:function(){var t=this;return this.$store.state.$db.NamedListArray.filter((function(e){return e.m_NamedType!=t.named.m_NamedType&&e.m_CVText==t.named.m_CVText})).map((function(e){return t.$store.state.$db.CharacterList[e.primaryCharacterID]}))},related:function(){return[{name:this.$t("Same Rare Class Element").format({rare:this.$t("Rares.".concat(this.character.m_Rare)),class:this.$t("Classes.".concat(this.character.m_Class)),element:this.$t("Elements.".concat(this.character.m_Element))}),items:this.sameRareClassElement},{name:this.$t("Same Event").format({event:this.event}),items:this.sameEvent},{name:this.$t("Same Named").format({name:this.$name(this.named.fullName)}),items:this.sameNamed}]}}}),O=N,j=Object(c["a"])(O,R,$,!1,null,null,null),z=j.exports;m()(j,{VDivider:p["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.weapons.length?a("div",[a("v-divider",{staticClass:"mb-4"}),a("p",{staticClass:"px-4 title primary--text"},[t._v(t._s(t.$t("Weapons")))]),t._l(t.weapons,(function(t){return[a("Weapon",{attrs:{id:t.m_ID}})]}))],2):t._e()},H=[],W=a("1715"),q={name:"Weapons",props:["id"],components:{Weapon:W["a"]},computed:{character:function(){return this.$store.state.$db.CharacterList[this.id]},weapons:function(){var t=this;return this.$store.state.$db.WeaponListArray.filter((function(e){return 0==e.m_EvolvedCount&&e.m_EquipableCharaID==t.id||!1}))}}},X=q,Y=Object(c["a"])(X,U,H,!1,null,null,null),G=Y.exports;m()(Y,{VDivider:p["a"]});var K=a("6df9"),Q=a("5406"),J={name:"Character",props:["id"],components:{Flavor:F,Related:z,Illust:k,Weapons:G,RelatedNamed:r["a"],Achievements:T},data:function(){return{level:1,arousal:0,facilities:0,friendship:0,titleFacility:0,classFacilities:[0,0,0],orb:0,dialog:!1,maxFriendship:Q["a"].maxFriendship}},computed:{character:function(){return this.$store.state.$db.CharacterList[this.id]},evolvedCharacter:function(){return this.$store.state.$db.CharacterList[this.evolvedID(this.evolution)]},evolution:function(){return this.level>=[void 0,60,70][this.character.m_Rare-2]},arousalLevel:function(){var t=this;return this.$store.state.$db.ArousalLevels.filter((function(e){return e.m_Rare==t.character.m_Rare&&e.m_Lv==t.arousal}))[0]||{}},arousalExp:function(){var t=this;return this.$store.state.$db.ArousalLevels.filter((function(e){return e.m_Rare==t.character.m_Rare&&e.m_Lv<t.arousal})).reduce((function(t,e){return t+e.m_DuplicatedCountForNextLv}),0)},status:function(){var t=K["a"].status(this.id,this.level,this.arousal,this.friendship,this.titleFacility,this.classFacilities,this.orb);return{HP:t.HP,"-":null,ATK:t.ATK,MAT:t.MAT,DEF:t.DEF,MDF:t.MDF,SPD:t.SPD,LUK:t.LUK}},maxLevel:function(){return[50,90,100][this.character.m_Rare-2]},maxSkillLevel:function(){return[15,25,25][this.character.m_Rare-2]},maxEvolution:function(){return 2==this.character.m_Rare?0:1},maxArousal:function(){return this.character.m_Rare+1},maxFacilities:function(){return 10},exp:function(){return this.$4(this.$store.state.$db.CharacterExp.slice(0,this.level-1).reduce((function(t,e){return t+e.m_NextExp}),0))},facilitiesManual:function(){return!(this.friendship==Math.ceil(this.maxFriendship/10*this.facilities)&&this.titleFacility==this.facilities&&this.classFacilities[0]==this.facilities&&this.classFacilities[1]==this.facilities&&this.classFacilities[2]==this.facilities)}},methods:{evolvedID:function(t){return this.id-this.id%10+t},clickMax:function(){this.level=this.maxLevel,this.facilities=this.maxFacilities},clickMin:function(){this.level=1,this.facilities=0,this.orb=0,this.arousal=0}},mounted:function(){"Character"==this.$route.name&&this.$root.$emit("theme",this.character.m_Element)},watch:{$route:function(t){"Character"==t.name&&this.$root.$emit("theme",this.character.m_Element)},facilities:function(t){this.friendship=Math.ceil(this.maxFriendship/10*t),this.titleFacility=t,this.classFacilities[0]=t,this.classFacilities[1]=t,this.classFacilities[2]=t}}},Z=J,tt=a("b0af"),et=a("99d9"),at=a("169a"),it=a("1800"),nt=a("ba0d"),rt=Object(c["a"])(Z,i,n,!1,null,null,null);e["default"]=rt.exports;m()(rt,{VCard:tt["a"],VCardText:et["b"],VCardTitle:et["c"],VCol:g["a"],VDialog:at["a"],VDivider:p["a"],VIcon:f["a"],VImg:_["a"],VListItem:V["a"],VListItemAction:it["a"],VListItemTitle:B["d"],VRow:y["a"],VSlider:nt["a"]})},5406:function(t,e,a){"use strict";var i=a("d4ec"),n=a("bee2"),r=a("ade3"),s=function(){function t(){Object(i["a"])(this,t),Object(r["a"])(this,"cri_key","51408295487268137"),Object(r["a"])(this,"cri_class",["Fighter","Magician","Priest","Knight","Alchemist"]),Object(r["a"])(this,"roomIDtoStr",{0:"Desk",1:"Chair",2:"Storage",3:"Bedding",4:"Appliances",5:"Goods",6:"Hobby",7:"WallDecoration",8:"Carpet",9:"Screen",10:"Floor",11:"Wall",12:"Background"})}return Object(n["a"])(t,[{key:"maxFriendship",get:function(){return window.vue.$store.state.$db.NamedFriendshipExpArray.length}}]),t}(),o=new s;e["a"]=o},"56d7":function(t,e,a){"use strict";a.r(e);a("fb6a"),a("b0c0"),a("d3b7"),a("25f0"),a("5319"),a("498a"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=a("eed9"),r=a("cd8d"),s=a("487a"),o=a.n(s),l=a("119b"),u=a("8c4f"),c=a("3384"),h=a.n(c),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-bottom":"-80px"}},[i("v-img",{staticClass:"mx-auto",attrs:{src:a("8567"),"aspect-ratio":"1","max-width":"384",contain:""},on:{click:t.onCleaClick}}),i("v-expand-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("div",{staticClass:"py-4 text-center"},[i("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:function(e){return t.summon(1)}}},[t._v(t._s(t.$t("Summon")))]),i("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:function(e){return t.summon(10)}}},[t._v(t._s(t.$t("Summon 10 Times")))])],1),i("v-slide-y-transition",{attrs:{group:""}},[t._l(t.summons.slice().reverse(),(function(e){return[i("v-card",{key:"home-summon-"+e.id,staticClass:"ma-4"},[i("div",{staticClass:"pa-1"},[i("div",{staticClass:"d-flex justify-center"},[t._l(e.characterIDs.slice(0,5),(function(e){return[i("router-link",{attrs:{to:"/character/"+e}},[i("CharaIcon",{staticClass:"ma-1",attrs:{id:e,size:t.$size(),frame:!0}})],1)]}))],2),i("div",{staticClass:"d-flex justify-center"},[t._l(e.characterIDs.slice(5,10),(function(e){return[i("router-link",{attrs:{to:"/character/"+e}},[i("CharaIcon",{staticClass:"ma-1",attrs:{id:e,size:t.$size(),frame:!0}})],1)]}))],2)]),i("div",{staticClass:"text-center primary--text pb-2",domProps:{innerHTML:t._s(t.$t("Summon Text."+(e.maxRare<4?"Failure":"Success")))}})])]}))],2),i("v-divider")],1)]),i("div",{staticClass:"my-6 text-center"},[i("p",{staticClass:"display-1 primary--text mb-2"},[t._v(t._s(t.$t("KiraFan.Moe")))]),i("p",{staticClass:"title primary--text"},[t._v(t._s(t.$t("KiraFan Wiki")))])]),i("QuickJump"),i("Media"),i("v-divider",{staticClass:"mb-4"}),i("p",{staticClass:"text-center"},[t._v(t._s(t.$t("Day Count").format(t.dayCount)))]),i("v-bottom-navigation",{staticClass:"hidden-sm-and-up",attrs:{fixed:t.$s.isHomePageFooterFixed}},[i("v-btn",{attrs:{to:"/characters"}},[t._v(t._s(t.$t("Character"))),i("v-icon",[t._v("mdi-cards")])],1),i("v-btn",{attrs:{to:"/weapons"}},[t._v(t._s(t.$t("Weapons"))),i("v-icon",[t._v("mdi-sword")])],1),i("v-btn",{attrs:{to:"/questlibraries"}},[t._v(t._s(t.$t("Quests"))),i("v-icon",[t._v("mdi-sword-cross")])],1),i("v-btn",{attrs:{to:"/settings"}},[t._v(t._s(t.$t("Settings"))),i("v-icon",[t._v("mdi-cog")])],1)],1)],1)},d=[],g=(a("4de4"),a("e25e"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("div",{staticClass:"text-center"},[a("v-divider"),a("v-progress-circular",{staticClass:"my-4",attrs:{indeterminate:"",color:"primary"}})],1):[t._l(t.characterIDs,(function(t){return[a("v-divider"),a("Character",{key:"home-character-"+t,attrs:{id:t}})]}))]],2)}),p=[],v=(a("d81d"),a("0b69")),f=a("bc3a"),_=a.n(f),y={name:"Characters",components:{Character:v["a"]},data:function(){return{loading:!1,characterIDs:[]}},methods:{load:function(){var t=this;this.loading=!0,_.a.get(this.$asset.characard.format("/../index.json")).then((function(e){t.characterIDs=e.data.filter((function(t){return t.new})).map((function(t){return parseInt(t.name.slice(10))})).filter((function(t){return t%10==0})),t.loading=!1}))}},mounted:function(){this.load()}},b=y,k=a("2877"),S=a("6544"),C=a.n(S),x=a("ce7e"),w=a("490a"),I=Object(k["a"])(b,g,p,!1,null,null,null),T=I.exports;C()(I,{VDivider:x["a"],VProgressCircular:w["a"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("div",{staticClass:"text-center"},[a("v-divider"),a("v-progress-circular",{staticClass:"my-4",attrs:{indeterminate:"",color:"primary"}})],1):[t._l(t.weaponIDs,(function(t){return[a("v-divider"),a("Weapon",{key:"home-weapon-"+t,attrs:{id:t}})]}))]],2)},P=[],A=a("1715"),D={name:"Weapons",components:{Weapon:A["a"]},data:function(){return{loading:!1,weaponIDs:[]}},methods:{load:function(){var t=this;this.loading=!0,_.a.get(this.$asset.weaponicon.format("/../index.json")).then((function(e){t.weaponIDs=e.data.filter((function(t){return t.new})).map((function(t){return parseInt(t.name.slice(15))})),t.loading=!1}))}},mounted:function(){this.load()}},V=D,L=Object(k["a"])(V,M,P,!1,null,null,null),B=L.exports;C()(L,{VDivider:x["a"],VProgressCircular:w["a"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("div",{staticClass:"text-center"},[a("v-divider"),a("v-progress-circular",{staticClass:"my-4",attrs:{indeterminate:"",color:"primary"}})],1):[t._l(t.questLibraryIDs,(function(t){return[a("v-divider"),a("QuestLibrary",{key:"home-questLibrary-"+t,attrs:{id:t}})]}))]],2)},F=[],R=a("f6de"),$={name:"QuestLibraries",components:{QuestLibrary:R["a"]},data:function(){return{loading:!1,questLibraryIDs:[]}},methods:{load:function(){var t=this;this.loading=!0,_.a.get(this.$asset.advlibraryicon.format("/../index.json")).then((function(e){t.questLibraryIDs=e.data.filter((function(t){return t.new})).map((function(t){return parseInt(t.name.slice(15))})).map((function(t){if(t>=0&&t<3e3)return t;if(t>=2e7&&t<3e7){var e=Math.floor(t/1e4),a=Math.floor(t/100)%100;return 4e3+12*(e-2018)+a-2}})).filter((function(t){return t})),t.loading=!1}))}},mounted:function(){this.load()}},N=$,O=Object(k["a"])(N,E,F,!1,null,null,null),j=O.exports;C()(O,{VDivider:x["a"],VProgressCircular:w["a"]});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Character",{attrs:{id:t.character.m_CharaID}})},U=[],H=a("512f"),W={name:"RandomCharacter",components:{Character:H["default"]},computed:{character:function(){var t=Math.floor(Math.random()*this.$store.state.$db.CharacterListArray.length);return this.$store.state.$db.CharacterListArray[t]}}},q=W,X=Object(k["a"])(q,z,U,!1,null,null,null),Y=X.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-divider"),i("div",{staticClass:"mx-auto my-4 d-flex",staticStyle:{"max-width":"360px"}},[i("div",{staticClass:"mx-2 my-auto",staticStyle:{width:"25%"}},[i("v-img",{attrs:{src:a("0681")}})],1),i("div",{staticClass:"mx-2 my-auto",staticStyle:{width:"75%"}},[i("p",[t._v(t._s(t.$t("Version"))+" "+t._s(t.$version))]),i("p",{staticClass:"small"},[t._v(t._s(t.$t("Version Info")))])])])],1)},K=[],Q={name:"Media"},J=Q,Z=a("adda"),tt=Object(k["a"])(J,G,K,!1,null,null,null),et=tt.exports;C()(tt,{VDivider:x["a"],VImg:Z["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"mb-3"},[a("div",{staticClass:"text-h6 mx-3 my-2"},[t._v(t._s(t.$t("QuickJump.QuickJump")))]),t.$s.QuickJump_ShowChangedWeapons||t.$s.QuickJump_ShowEvent?t._e():a("span",[a("v-divider"),a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-content",[a("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.$t("No Item : Check Config"))}})],1)],1)],1),t.$s.QuickJump_ShowEvent?a("span",[a("v-divider"),a("div",{staticClass:"text-subtitle-1 mx-5 my-2"},[t._v(t._s(t.$t("Quest")))]),t.quests.length>0?a("span",t._l(t.quests,(function(t){return a("span",[a("v-divider"),a("Quest",{key:"home-quest-"+t,attrs:{id:t}})],1)})),0):a("span",[a("NoItem")],1)],1):t._e(),t.$s.QuickJump_ShowChangedWeapons?a("span",[a("v-divider"),a("div",{staticClass:"text-subtitle-1 mx-5 my-2"},[t._v(t._s(t.$t("Weapon")))]),t.loading?a("div",{staticClass:"text-center"},[a("v-divider"),a("v-progress-circular",{staticClass:"my-4",attrs:{indeterminate:"",color:"primary"}})],1):a("span",[t.weapons.length>0?a("span",t._l(t.weapons,(function(t){return a("span",[a("v-divider"),a("Weapon",{key:"home-weapon-"+t,attrs:{id:t}})],1)})),0):a("span",[a("NoItem")],1)])],1):t._e(),a("div",{staticClass:"mb-10"})])},it=[],nt=(a("4e827"),a("b64b"),a("159b"),a("ddb0"),a("96cf"),a("c437")),rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("v-divider"),a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.$t("No Item")))])],1)],1)],1)},st=[],ot={},lt=ot,ut=a("da13"),ct=a("5d23"),ht=Object(k["a"])(lt,rt,st,!1,null,null,null),mt=ht.exports;C()(ht,{VDivider:x["a"],VListItem:ut["a"],VListItemContent:ct["b"],VListItemSubtitle:ct["c"]});var dt={components:{Weapon:A["a"],Quest:nt["a"],NoItem:mt},data:function(){return{loading:!1,weapons:[]}},computed:{quests:function(){var t=this;if(!this.$s.QuickJump_ShowEvent)return[];var e=[],a=this.$store.state.$db.EventsArray.filter((function(t){if(t.startTimes.length&&t.endTimes.length){var e=t.startTimes.map((function(t){return new Date(t)})).sort((function(t,e){return t-e}))[0],a=t.endTimes.map((function(t){return new Date(t)})).sort((function(t,e){return t-e}))[0];return e<=new Date&&new Date<=a}}));return a.forEach((function(a){var i=t.$store.state.$db.QuestLibraryList[a.m_EventType];Object.keys(i.quests).forEach((function(t){t>90&&e.push(i.quests[t])}))})),e}},mounted:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$s.QuickJump_ShowChangedWeapons){e.next=2;break}return e.abrupt("return",[]);case 2:return this.loading=!0,e.next=5,regeneratorRuntime.awrap(fetch("https://y52en.github.io/test/diff_weapon.json").then((function(t){return t.json()})));case 5:if(t=e.sent,t.keyLength===this.$store.state.$db.WeaponList.length){e.next=9;break}return this.loading=!1,e.abrupt("return",[]);case 9:this.weapons=t.keys,this.loading=!1;case 11:case"end":return e.stop()}}),null,this)}},gt=dt,pt=Object(k["a"])(gt,at,it,!1,null,null,null),vt=pt.exports;C()(pt,{VDivider:x["a"],VListItem:ut["a"],VListItemContent:ct["b"],VListItemSubtitle:ct["c"],VProgressCircular:w["a"]});var ft={name:"Home",components:{Characters:T,Weapons:B,QuestLibraries:j,RandomCharacter:Y,Media:et,QuickJump:vt},data:function(){return{show:!1,cleaClickTime:0,summons:[]}},computed:{p:function(){var t=1*(.03*Math.random()+.01),e=(.05*Math.random()+.1)*(1-t),a=(0*Math.random()+1)*(1-t-e);return[a,e,t]},dayCount:function(){return Math.floor(((new Date).getTime()-new Date("2017/12/11 00:00:00 +0900").getTime())/864e5)}},methods:{onCleaClick:function(){this.show=!0,this.cleaClickTime++},summon:function(t){for(var e=this,a=[],i=0,n=function(t){var n=Math.random(),r=2;for(var s in e.p)if(n-=e.p[s],n<0){r=parseInt(s)+2;break}i=Math.max(i,r),9==t&&2==i&&(r=3);var o=e.$store.state.$db.CharacterListArray.filter((function(t){return t.m_CharaID%10==0&&t.m_Rare==r})),l=o[Math.floor(Math.random()*o.length)].m_CharaID;a.push(l)},r=0;r<t;r++)n(r);this.summons.push({id:this.summons.length,maxRare:i,characterIDs:a})}}},_t=ft,yt=a("b81c"),bt=a("8336"),kt=a("b0af"),St=a("0789"),Ct=a("132d"),xt=Object(k["a"])(_t,m,d,!1,null,null,null),wt=xt.exports;C()(xt,{VBottomNavigation:yt["a"],VBtn:bt["a"],VCard:kt["a"],VDivider:x["a"],VExpandTransition:St["a"],VIcon:Ct["a"],VImg:Z["a"],VSlideYTransition:St["g"]}),i["a"].use(u["a"]);var It=[{path:"/",name:"Home",component:wt},{path:"/abilitytreefruit/:id",name:"AbilityTreeFruit",props:!0,component:function(){return a.e("chunk-2d0b325f").then(a.bind(null,"26af"))}},{path:"/abilitytreefruits",name:"AbilityTreeFruits",props:!0,component:function(){return a.e("chunk-2d0a3d45").then(a.bind(null,"049d"))}},{path:"/character/:id",name:"Character",props:!0,component:function(){return Promise.resolve().then(a.bind(null,"512f"))}},{path:"/characters",name:"Characters",props:!0,component:function(){return a.e("chunk-eaa27c2a").then(a.bind(null,"31d0"))}},{path:"/item/:id",name:"Item",props:!0,component:function(){return a.e("chunk-2d20e7b6").then(a.bind(null,"b00b"))}},{path:"/items",name:"Items",props:!0,component:function(){return a.e("chunk-3abcb72c").then(a.bind(null,"e081"))}},{path:"/weapon/:id",name:"Weapon",props:!0,component:function(){return a.e("chunk-2d0c9af8").then(a.bind(null,"59ca"))}},{path:"/weapons",name:"Weapons",props:!0,component:function(){return a.e("chunk-95e1c0a4").then(a.bind(null,"73e5"))}},{path:"/master",name:"Master",props:!0,component:function(){return a.e("chunk-2d21a034").then(a.bind(null,"ba65"))}},{path:"/masterorb/:id",name:"Master Orb",props:!0,component:function(){return a.e("chunk-2d0e51ef").then(a.bind(null,"92aa"))}},{path:"/questlibraries",name:"Quest Libraries",props:!0,component:function(){return a.e("chunk-bf8baa2e").then(a.bind(null,"83be"))}},{path:"/questlibrary/:id",name:"Quest Library",props:!0,component:function(){return a.e("chunk-3aa5da79").then(a.bind(null,"1e52"))}},{path:"/quest/:id",name:"Quest",props:!0,component:function(){return a.e("chunk-2d0d7629").then(a.bind(null,"771d"))}},{path:"/enemy/:id",name:"Enemy",props:!0,component:function(){return a.e("chunk-2d0c46c2").then(a.bind(null,"3b85"))}},{path:"/roomobject/:id",name:"Room Object",props:!0,component:function(){return a.e("chunk-4434c85c").then(a.bind(null,"b0a0"))}},{path:"/roomobjects",name:"Room Objects",props:!0,component:function(){return a.e("chunk-2d210a38").then(a.bind(null,"b96a"))}},{path:"/townobject/:id",name:"Town Object",props:!0,component:function(){return a.e("chunk-0e4dcd5d").then(a.bind(null,"cfbf"))}},{path:"/townobjects",name:"Town Objects",props:!0,component:function(){return a.e("chunk-2d2266dd").then(a.bind(null,"e92e"))}},{path:"/scenario/:id",name:"Scenario",props:!0,component:function(){return Promise.all([a.e("chunk-2c1d74fc"),a.e("chunk-53ca060b")]).then(a.bind(null,"1664"))}},{path:"/scenarioLibraries",name:"Scenario Libraries",props:!0,component:function(){return a.e("chunk-2d217ffe").then(a.bind(null,"c8b5"))}},{path:"/scenarioLibrary/:id",name:"Scenario Library",props:!0,component:function(){return a.e("chunk-9df3d952").then(a.bind(null,"f338"))}},{path:"/standpic/:id",name:"Standpic",props:!0,component:function(){return a.e("chunk-854b32ce").then(a.bind(null,"462c"))}},{path:"/named/:id",name:"Named",props:!0,component:function(){return Promise.all([a.e("chunk-2c1d74fc"),a.e("chunk-f063fc5c")]).then(a.bind(null,"6f55"))}},{path:"/title/:id",name:"Title",props:!0,component:function(){return a.e("chunk-2d2079af").then(a.bind(null,"a0f0"))}},{path:"/titles",name:"Titles",props:!0,component:function(){return a.e("chunk-63b3eea6").then(a.bind(null,"773b"))}},{path:"/originalcharacter/:id",name:"Original Character",props:!0,component:function(){return a.e("chunk-2d0b726d").then(a.bind(null,"1fce"))}},{path:"/settings",name:"Settings",props:!0,component:function(){return Promise.resolve().then(a.bind(null,"c110"))}}],Tt=new u["a"]({scrollBehavior:function(t,e,a){var i=0;return t.hash?i=t.hash:a&&(i=a.y),h()(i,{duration:0})},routes:It}),Mt=Tt,Pt=a("9225"),At=a("9483");Object(At["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),window.vue.$emit("applicationUpdated")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Dt=a("f309"),Vt=a("fcf4");i["a"].use(Dt["a"]);var Lt=new Dt["a"]({breakpoint:{thresholds:{xs:512,sm:768,md:1024,lg:1280},scrollBarWidth:0},theme:{themes:{light:{primary:Vt["a"].pink.lighten3,secondary:Vt["a"].pink.lighten4},dark:{primary:Vt["a"].pink.lighten3,secondary:Vt["a"].black}},options:{customProperties:!0},dark:!1}}),Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"hidden-sm-only"},[a("v-tabs",{attrs:{"background-color":"transparent",grow:"","mobile-breakpoint":"9999"},model:{value:t.c.current,callback:function(e){t.$set(t.c,"current",e)},expression:"c.current"}},t._l(3,(function(e){return a("v-tab",{key:"collection-tab-"+e,staticClass:"px-0"},[t._v(t._s(e))])})),1)],1),a("div",{staticClass:"hidden-xs-only hidden-md-and-up"},[a("v-list-item",{on:{click:function(e){t.c.current=(t.c.current+1)%3}}},[a("v-list-item-content",[a("div",{staticClass:"text-center primary--text",staticStyle:{"font-size":"14px","font-weight":"500"}},[t._v(t._s(t.c.current+1))])])],1)],1),a("v-divider"),a("v-tabs-items",{model:{value:t.c.current,callback:function(e){t.$set(t.c,"current",e)},expression:"c.current"}},t._l(3,(function(e){return a("v-tab-item",{key:"collection-tab-item-"+e},[a("v-list",{staticClass:"overflow-y-auto py-0",staticStyle:{height:"calc(100vh - 56px - 48px - 2px - 52px)"}},[t._l(t.c.collections[e-1].slice().reverse(),(function(i,n){return[n?a("v-divider"):t._e(),"Character"==i.name?a("Character",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{id:i.id,collection:""}}):"Weapon"==i.name?a("Weapon",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{id:i.id,collection:""}}):"Quest Library"==i.name?a("QuestLibrary",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{id:i.id,collection:""}}):"Enemy"==i.name?a("Enemy",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{level:parseInt(i.level),qid:i.qid,id:i.id,collection:""}}):"Item"==i.name?a("Item",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{id:i.id,collection:""}}):"Room Object"==i.name?a("RoomObject",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{id:i.id,collection:""}}):"Town Object"==i.name?a("TownObject",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{id:i.id,collection:""}}):"Master Orb"==i.name?a("Orb",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{id:i.id,collection:""}}):a("v-list-item",{key:"collection-"+e+"-"+i.name+"-"+i.id,attrs:{to:{name:i.name,params:{id:i.id}}}},[a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.$t(i.name)))]),a("v-list-item-subtitle",[t._v(t._s(i.id))])],1)],1)]}))],2),a("v-divider"),a("v-list-item",[a("v-list-item-icon",{staticClass:"ma-2 ml-0"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.c.collections[e-1].length)+" "+t._s(t.$t("Pages")))])],1),a("v-list-item-action",{staticClass:"ma-2 mr-0"},[a("v-btn",{attrs:{icon:""},on:{click:function(a){t.c.collections[e-1].splice(0)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)],1)})),1)],1)},Et=[],Ft=(a("a434"),a("9ed0")),Rt={current:0,max:3,collections:[[],[],[]]};function $t(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Object(Ft["b"])("collections"));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,t.forEach((function(t,e){return t.forEach((function(t){return Rt.collections[e].push(t)}))})),setInterval((function(){Object(Ft["c"])("collections",Rt.collections)}),5e3);case 8:case"end":return e.stop()}}))}i["a"].prototype.$c={set:function(t){var e=t.name,a=t.id||t.params.id,i=t.level||t.query.level,n=t.qid||t.query.qid,r=Rt.collections[Rt.current];for(var s in r)if(r[s].name==e&&r[s].id==a)return void r.splice(s,1);var o={name:e,id:a};void 0!=i&&(o.level=i),void 0!=n&&(o.qid=n),r.push(o)},get:function(t){var e=t.name,a=t.id||t.params.id,i=Rt.collections[Rt.current];for(var n in i)if(i[n].name==e&&i[n].id==a)return!0;return!1}},$t();var Nt=Rt,Ot=a("3546"),jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{to:"/item/"+t.id}},[a("v-list-item-avatar",{attrs:{size:48}},[a("v-img",{attrs:{src:t.$asset.itemicon.format(t.item.m_ID)+".jpg"}})],1),a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.$name(t.item.m_Name)))])],1)],1)},zt=[],Ut={name:"Item",props:{id:{},collection:Boolean},computed:{item:function(){return this.$store.state.$db.ItemList[this.id]}}},Ht=Ut,Wt=a("8270"),qt=Object(k["a"])(Ht,jt,zt,!1,null,null,null),Xt=qt.exports;C()(qt,{VImg:Z["a"],VListItem:ut["a"],VListItemAvatar:Wt["a"],VListItemContent:ct["b"],VListItemSubtitle:ct["c"]});var Yt=a("ed99"),Gt=a("2b4e"),Kt=a("1e9f"),Qt={name:"Collection",components:{Character:v["a"],Weapon:A["a"],QuestLibrary:R["a"],Enemy:Ot["a"],Item:Xt,RoomObject:Yt["a"],TownObject:Gt["a"],Orb:Kt["a"]},data:function(){return{c:Nt}}},Jt=Qt,Zt=a("8860"),te=a("1800"),ee=a("34c3"),ae=a("71a3"),ie=a("c671"),ne=a("fe57"),re=a("aac8"),se=Object(k["a"])(Jt,Bt,Et,!1,null,null,null),oe=se.exports;C()(se,{VBtn:bt["a"],VDivider:x["a"],VIcon:Ct["a"],VList:Zt["a"],VListItem:ut["a"],VListItemAction:te["a"],VListItemContent:ct["b"],VListItemIcon:ee["a"],VListItemSubtitle:ct["c"],VListItemTitle:ct["d"],VTab:ae["a"],VTabItem:ie["a"],VTabs:ne["a"],VTabsItems:re["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.items.length||t.gold?a("div",[a("Scroller",{staticClass:"text-center",attrs:{icon:t.$size()}},[a("div",{staticClass:"pl-2 pl-md-0"}),t._l(t.items,(function(e,i){return a("div",{key:"itemlist-item-"+e,staticClass:"ml-2 ml-md-4"},[a("router-link",{attrs:{to:"/item/"+e}},[a("v-avatar",{attrs:{size:t.$size()}},[a("v-img",{attrs:{src:t.$asset.itemicon.format(e)+".jpg"}})],1)],1),t.amounts[i]?a("div",{staticClass:"caption",staticStyle:{"line-height":"1rem"},domProps:{innerHTML:t._s(t.amounts[i])}}):t._e()],1)})),t.gold?a("div",{key:"items-item-key",staticClass:"ml-2 ml-md-4"},[a("v-avatar",{attrs:{size:t.$size()}},[a("v-img",{attrs:{src:t.$asset.commonuiatlas.format("GoldIcon")+".jpg"}})],1),a("div",{staticClass:"caption",staticStyle:{"line-height":"1rem"},domProps:{innerHTML:t._s(t.gold)}})],1):t._e(),a("div",{staticClass:"pl-4"})],2)],1):a("div",{staticClass:"px-4"},[a("KeyValue",{attrs:{k:t.$t("No Item")}})],1)},ue=[],ce={name:"ItemList",props:{items:{default:function(){return[]}},amounts:{default:function(){return[]}},gold:{}}},he=ce,me=a("8212"),de=Object(k["a"])(he,le,ue,!1,null,null,null),ge=de.exports;C()(de,{VAvatar:me["a"],VImg:Z["a"]});var pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-1"},[void 0==t.v?a("div",{staticClass:"d-flex"},[a("div",{staticClass:"key-only key value",domProps:{innerHTML:t._s(t.k)}})]):void 0==t.k?a("div",{staticClass:"d-flex"},[a("div",{staticClass:"value-only value",class:{disabled:t.disabled||null===t.disabled},domProps:{innerHTML:t._s(t.v)}})]):a("div",{staticClass:"d-flex"},[a("div",{staticClass:"key",style:{width:t.width?t.width:void 0},domProps:{innerHTML:t._s(t.k)}}),a("div",{staticClass:"value",style:{width:t.width?"calc(100% - "+t.width+")":void 0},domProps:{innerHTML:t._s(t.v)}})])])},ve=[],fe={name:"KeyValue",props:["k","v","width","disabled"]},_e=fe,ye=(a("b088"),Object(k["a"])(_e,pe,ve,!1,null,"2e4c2bcc",null)),be=ye.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{staticClass:"overflow-y-auto"},[a("v-list-item",{attrs:{to:"/"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Home")))])],1)],1),a("v-divider"),a("v-subheader",{staticClass:"hidden-md-and-down"},[t._v(t._s(t.$t("Battle")))]),a("v-list-item",{attrs:{to:"/characters"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-cards")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Characters")))])],1)],1),a("v-list-item",{attrs:{to:"/weapons"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-sword")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Weapons")))])],1)],1),a("v-list-item",{attrs:{to:"/questlibraries"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-sword-cross")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Quests")))])],1)],1),a("v-list-item",{attrs:{to:"/master"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-chess-queen")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Master"))+" ")])],1)],1),a("v-list-item",{attrs:{to:"/abilitytreefruits"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-food-apple")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("AbilityTreeFruits"))+" ")])],1)],1),a("v-divider"),a("v-subheader",{staticClass:"hidden-md-and-down"},[t._v(t._s(t.$t("Items")))]),a("v-list-item",{attrs:{to:"/items"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-flower-poppy")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Items")))])],1)],1),a("v-list-item",{attrs:{to:"/roomobjects"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-seat")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Room Objects")))])],1)],1),a("v-list-item",{attrs:{to:"/townobjects"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-castle")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Town Objects")))])],1)],1),a("v-divider"),a("v-subheader",{staticClass:"hidden-md-and-down"},[t._v(t._s(t.$t("Library")))]),a("v-list-item",{attrs:{to:"/titles"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-book")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Titles")))])],1)],1),a("v-list-item",{attrs:{to:"/scenariolibraries"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-book-open-page-variant")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Scenarios")))])],1)],1),a("v-divider"),a("v-subheader",{staticClass:"hidden-md-and-down"},[t._v(t._s(t.$t("Others")))]),a("v-menu",{attrs:{top:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-list-item",t._g({},i),[a("v-list-item-icon",[a("v-icon",[t._v("mdi-link")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Tools")))])],1),a("v-list-item-action",[a("v-icon",[t._v("mdi-chevron-right")])],1)],1)]}}])},[a("v-list",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"calc(100vh - 24px)"}},[a("v-subheader",[t._v(t._s(t.$t("Applications")))]),a("v-list-item",{attrs:{href:t.$const.sites.calculator,target:"_blank"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-calculator")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Calculator.Title")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Calculator.Subtitle")))])],1)],1),a("v-list-item",{attrs:{href:t.$const.sites.assets,target:"_blank"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-image")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Assets.Title")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Assets.Subtitle")))])],1)],1),a("v-list-item",{attrs:{href:t.$const.sites.cardmaker,target:"_blank"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-cards-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Card Maker.Title")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Card Maker.Subtitle")))])],1)],1),a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("External Links")))]),a("v-list-item",{attrs:{href:t.$const.sites.yarudesu,target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Yarudesu.Title")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Yarudesu.Subtitle")))])],1)],1),a("v-list-item",{attrs:{href:t.$const.sites.wikiwiki,target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Wikiwiki.Title")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Wikiwiki.Subtitle")))])],1)],1),a("v-list-item",{attrs:{href:t.$const.sites.moegirl,target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Moegirl.Title")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Moegirl.Subtitle")))])],1)],1),a("v-list-item",{attrs:{href:t.$const.sites.miraheze,target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Miraheze.Title")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Miraheze.Subtitle")))])],1)],1),a("v-list-item",{attrs:{href:t.$const.sites.timer,target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Timers.Title")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Timers.Subtitle")))])],1)],1)],1)],1),a("v-list-item",{staticClass:"hidden-sm-and-up",attrs:{to:"/settings"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-cog")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Settings")))])],1)],1),a("v-menu",{attrs:{top:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-list-item",t._g({staticClass:"hidden-xs-only"},i),[a("v-list-item-icon",[a("v-icon",[t._v("mdi-cog")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Settings")))])],1),a("v-list-item-action",[a("v-icon",[t._v("mdi-chevron-right")])],1)],1)]}}])},[a("v-list",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"calc(100vh - 24px)"}},[a("Settings")],1)],1)],1)},Se=[],Ce=a("c110"),xe={name:"Navigation",components:{Settings:Ce["default"]}},we=xe,Ie=a("e449"),Te=a("e0c7"),Me=Object(k["a"])(we,ke,Se,!1,null,null,null),Pe=Me.exports;C()(Me,{VDivider:x["a"],VIcon:Ct["a"],VList:Zt["a"],VListItem:ut["a"],VListItemAction:te["a"],VListItemContent:ct["b"],VListItemIcon:ee["a"],VListItemSubtitle:ct["c"],VListItemTitle:ct["d"],VMenu:Ie["a"],VSubheader:Te["a"]});var Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.skill?a("div",[a("div",{staticClass:"px-4 mb-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",xl:"9"}},[a("KeyValue",{attrs:{k:t.$t("Skill Name"),v:t.skill.m_SkillName||t.$t("Passive Skill"),width:"33%"}}),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-2 d-flex justify-center flex-column"},[a("v-img",{attrs:{width:t.$size(),contain:"",src:t.icon}})],1),a("div",{staticClass:"d-flex justify-center flex-column small",style:{width:"calc(100% - "+t.$size()+"px)","min-height":t.$size()+"px"}},t._l(t.contents,(function(e,i){return a("div",{key:"passive-skill-"+t.id+"-content-"+i,staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[t._v("・")]),a("div",t._l(e,(function(e,n){return a("div",{key:"passive-skill-"+t.id+"-content-"+i+"-item-"+n,domProps:{innerHTML:t._s(e)}})})),0)])})),0)])],1),a("v-col",{staticClass:"py-0 hidden-lg-and-down",attrs:{cols:"3"}},[a("KeyValue",{attrs:{k:t.$t("Load"),v:"-"}}),a("KeyValue",{attrs:{k:t.$t("Recast"),v:"-"}}),a("KeyValue",{attrs:{k:t.$t("Charge"),v:"-"}})],1)],1)],1),-1!=t.skillChangeIDs[1]?a("Skill",{key:"passive-skill-"+t.id+"-skill-change-1",attrs:{id:t.skillChangeIDs[1],from:t.characterSkillIDs[1],owner:"PL",max:"25"}}):t._e(),-1!=t.skillChangeIDs[2]?a("Skill",{key:"passive-skill-"+t.id+"-skill-change-2",attrs:{id:t.skillChangeIDs[2],from:t.characterSkillIDs[2],owner:"PL",max:"25"}}):t._e(),-1!=t.skillChangeIDs[0]?a("Skill",{key:"passive-skill-"+t.id+"-skill-change-0",attrs:{id:t.skillChangeIDs[0],from:t.characterSkillIDs[0],owner:"PL"}}):t._e()],1):a("div",{staticClass:"px-4"},[a("KeyValue",{attrs:{k:t.$t("No Passive Skill")}})],1)},De=[],Ve=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("2af1"),a("b680"),a("3ca3"),a("0d8f")),Le=a("eb1a");function Be(t,e){var a=Ve["a"]["PassiveSkillList_".concat(e)][t],i=[];function n(t){t&&t.constructor==Object?i[i.length-1].push(Pt["a"].t("Passive Details.".concat(t.type)).format(t)):i[i.length-1].push(t)}var r=!0,s=!1,o=void 0;try{for(var l,u=function(){var t=l.value;i.push([]);var e=void 0;switch(t.m_Trigger){case 0:break;case 1:case 2:default:e=Pt["a"].t("Passive Triggers.".concat(t.m_Trigger)),e='<span class="">'.concat(e,"</span>"),n(e)}e={type:t.m_Type};var r=function(){n(a.m_SkillDetail),n("m_Type:"+t.m_Type),n("m_Args:"+JSON.stringify(t.m_Args))};switch(t.m_Type){case 0:for(var s=0;s<6;s++)0!=t.m_Args[s]&&(e={type:t.m_Type},e.amount=Le["a"].amount(t.m_Args[s],Le["a"].amounts[2][s]),e.amount=Pt["a"].t("Skill Amounts.".concat(2,".",e.amount)),4==s?(e.power=(100*(1-t.m_Args[s])).toFixed(1)+"%",e.sign=Math.sign(1-t.m_Args[s])):(e.power=t.m_Args[s].toFixed(1)+"%",e.sign=Math.sign(t.m_Args[s])),e.sign=Pt["a"].t("Skill Signs.".concat(e.sign)),e.status=Pt["a"].t("Statuses.".concat(s)),n(e));return"continue";case 1:e.amount=Le["a"].amount(t.m_Args[0],Le["a"].amounts[18]),e.amount=Pt["a"].t("Skill Amounts.".concat(18,".",e.amount)),e.power=t.m_Args[0].toFixed(1)+"%",e.sign=Pt["a"].t("Skill Signs.".concat(Math.sign(t.m_Args[0])));break;case 2:break;case 3:break;case 4:e.power=(100*t.m_Args[0]).toFixed(1)+"%";break;case 5:e.power=(100*t.m_Args[0]).toFixed(0)+"%",e.verb=Pt["a"].t("Skill Verbs.".concat(Math.sign(t.m_Args[0])));break;case 6:e.power=(100*t.m_Args[0]).toFixed(0)+"%",e.sign=Pt["a"].t("Skill Signs.".concat(Math.sign(t.m_Args[0])));break;case 7:e.amount=Le["a"].amount(100*t.m_Args[0],Le["a"].amounts[26]),e.amount=Pt["a"].t("Skill Amounts.".concat(26,".",e.amount)),e.power=(100*t.m_Args[0]).toFixed(0)+"%",e.sign=Pt["a"].t("Skill Signs.".concat(Math.sign(t.m_Args[0])));break;case 8:break;case 9:e.power=t.m_Args[0].toFixed(0)+"%";break;case 10:n(e);for(var o=0;o<4;o++){var u=Pt["a"].t("Passive Powers.".concat(10,".",o)),c=t.m_Args[o].toFixed(2)+"%";n("".concat(u,": ").concat(c))}return"continue";case 11:e.power=Pt["a"].t("Passive Powers.".concat(11,".",t.m_Args[0])).format(t.m_Args[1].toFixed(0));break;case 12:e.power=t.m_Args[0].toFixed(0),e.verb=Pt["a"].t("Skill Verbs.".concat(Math.sign(t.m_Args[0])));break;case 13:for(var m in e.status=Pt["a"].t("Statuses.".concat(t.m_Args[0])),n(e),e.args=Ve["a"].BattleStatusRatioByHp[t.m_Args[1]].m_Datas,e.args){var d=m!=e.args.length-1?"".concat(e.args[m].m_HPThreshold,"% ≤ HP < ").concat(e.args[parseInt(m)+1].m_HPThreshold,"%"):"HP = ".concat(e.args[m].m_HPThreshold,"%"),g={};g.amount=Le["a"].amount(e.args[m].m_Ratio,Le["a"].amounts[2][t.m_Args[0]]),g.amount=Pt["a"].t("Skill Amounts.".concat(2,".",g.amount)),4==t.m_Args[0]?(g.power=(100*(1-e.args[m].m_Ratio)).toFixed(1)+"%",g.sign=Math.sign(1-e.args[m].m_Ratio)):(g.power=e.args[m].m_Ratio.toFixed(1)+"%",g.sign=Math.sign(e.args[m].m_Ratio)),g.sign=Pt["a"].t("Skill Signs.".concat(g.sign)),g.status=e.status,g=Pt["a"].t("Passive Powers.".concat(13,".Status Change")).format(g),n("".concat(d,": ").concat(g.upper()))}return"continue";case 14:for(var p=0;p<6;p++)0!=t.m_Args[p+3]&&(e={type:t.m_Type,target:Pt["a"].t("Skill Targets.".concat(t.m_Args[0])),turnType:Pt["a"].t("Skill Turn Types.".concat(t.m_Args[1])),turn:t.m_Args[2]},e.amount=Le["a"].amount(t.m_Args[p+3],Le["a"].amounts[2][p]),e.amount=Pt["a"].t("Skill Amounts.".concat(2,".",e.amount)),4==p?(e.power=(100*(1-t.m_Args[p+3])).toFixed(1)+"%",e.sign=Math.sign(1-t.m_Args[p+3])):(e.power=t.m_Args[p+3].toFixed(1)+"%",e.sign=Math.sign(t.m_Args[p+3])),e.sign=Pt["a"].t("Skill Signs.".concat(e.sign)),e.status=Pt["a"].t("Statuses.".concat(p)),n(e));return"continue";case 15:for(var v=0;v<t.m_Args.length;v++){var f=t.m_Args[v];0!==f&&(e.abnomal=Pt["a"].t("Abnormals.".concat(v)),e.amount=f+"%",n(e))}return"continue";case 16:for(var _=0;_<t.m_Args.length;_++){var y=t.m_Args[_];0!==y&&(e.element=Pt["a"].t("Elements.".concat(_)),e.amount=y+"%",n(e))}return"continue";case 17:if(0===t.m_Args[0])e.buffType=Pt["a"].t("Passive Powers.".concat(t.m_Type,".").concat(t.m_Args[0],".").concat(t.m_Args[1])),e.amount=t.m_Args[2];else{if(0!==t.m_Args[1]&&(1!==t.m_Args[1]||6!==t.m_Args[0]))return r(),"continue";if(h=Pt["a"].t("Passive Powers.".concat(t.m_Type,".").concat(t.m_Args[0])),!h)return r(),"continue";e.buffType=h,e.amount=t.m_Args[2]}break;default:return r(),"continue"}n(e)},c=a.m_Datas[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h;u()}}catch(m){s=!0,o=m}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}return i.map((function(t){return t.map((function(t){return t.upper()}))}))}function Ee(t,e){var a=Ve["a"]["PassiveSkillList_".concat(e)][t],i=!0,n=!1,r=void 0;try{for(var s,o=a.m_Datas[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value;if(8==l.m_Type)return l.m_Args}}catch(u){n=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return[-1,-1,-1]}var Fe={parse:Be,skillChangeIDs:Ee},Re={name:"PassiveSkill",props:["id","owner","characterSkillIDs"],computed:{skill:function(){return this.$store.state.$db["PassiveSkillList_".concat(this.owner)][this.id]},contents:function(){return Fe.parse(this.id,this.owner)},skillChangeIDs:function(){return Fe.skillChangeIDs(this.id,this.owner)},icon:function(){return"ABL"===this.owner?this.$asset.itemicon.format(this.id.replace(/00$/,""))+".png":this.$asset.commonuiatlas.format("CMD_SkillPassive")+".png"}}},$e=Re,Ne=a("62ad"),Oe=a("0fd9"),je=Object(k["a"])($e,Ae,De,!1,null,null,null),ze=je.exports;C()(je,{VCol:Ne["a"],VImg:Z["a"],VRow:Oe["a"]});var Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-4"},[a("div",{staticClass:"hidden-xs-only",staticStyle:{position:"relative"}},[a("v-fade-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showLeft,expression:"showLeft"}],style:t.chevron(!1),attrs:{fab:"",small:"",icon:"",color:"primary"},on:{click:function(e){return t.scroll(!1)}}},[a("v-icon",[t._v("mdi-chevron-left")])],1)],1),a("v-fade-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showRight,expression:"showRight"}],style:t.chevron(!0),attrs:{fab:"",small:"",icon:"",color:"primary"},on:{click:function(e){return t.scroll(!0)}}},[a("v-icon",[t._v("mdi-chevron-right")])],1)],1)],1),a("div",{ref:"scroller",staticClass:"d-flex flex-row scroll-x",class:t.scrollClass,on:{scroll:t.onScroll}},[t._t("default")],2)])},He=[],We={name:"Scroller",props:["icon"],data:function(){return{showLeft:!1,showRight:!1}},computed:{scrollClass:function(){return this.$vuetify.breakpoint.xsOnly?{}:{"scroll-x-left-button":this.showLeft&&!this.showRight,"scroll-x-right-button":!this.showLeft&&this.showRight,"scroll-x-left-right-button":this.showLeft&&this.showRight}}},methods:{chevron:function(t){return{position:"absolute","z-index":1,right:t?"0px":null,left:t?null:"0px",top:(this.icon-40)/2+"px"}},onScroll:function(){this.showLeft=this.$refs.scroller.scrollLeft>0,this.showRight=this.$refs.scroller.scrollLeft<this.$refs.scroller.scrollWidth-this.$refs.scroller.clientWidth},scroll:function(t){var e=this.$refs.scroller.clientWidth-this.icon-16;t||(e=-e),e>this.$refs.scroller.scrollWidth-this.$refs.scroller.scrollLeft-this.$refs.scroller.clientWidth&&(e=this.$refs.scroller.scrollWidth-this.$refs.scroller.scrollLeft-this.$refs.scroller.clientWidth),e<-this.$refs.scroller.scrollLeft&&(e=-this.$refs.scroller.scrollLeft),this._scroll(e,300)},_scroll:function(t,e){var a=this,i=1e3/120,n=e/i<=0?1:e/i,r=Math.round(t/n*2);this.$refs.scroller.scrollLeft+=r,Math.abs(t)>Math.abs(r)&&setTimeout((function(){return a._scroll(t-r,e-i)}),i)}},mounted:function(){this.onScroll()},watch:{$route:function(){var t=this;this.$nextTick((function(){return t.onScroll()}))},"$vuetify.breakpoint.width":function(){var t=this;this.$nextTick((function(){return t.onScroll()}))}}},qe=We,Xe=(a("0a6d"),Object(k["a"])(qe,Ue,He,!1,null,"59a88432",null)),Ye=Xe.exports;C()(Xe,{VBtn:bt["a"],VFadeTransition:St["d"],VIcon:Ct["a"]});var Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0==Object.keys(t.skill)?a("div",{staticClass:"px-4"},[a("KeyValue",{attrs:{k:t.$t("No Skill")}})],1):a("div",{staticClass:"px-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",xl:"9"}},[a("KeyValue",{attrs:{k:t.$t("Skill Name"),v:t.skill.m_SkillName,width:"33%"}}),a("v-row",{staticClass:"primary--text text-center hidden-xl-only small",attrs:{"no-gutters":""}},[a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.showLoad,expression:"showLoad"}]},[t._v(t._s(t.$t("Load"))+": "+t._s(t.load))]),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.showRecast,expression:"showRecast"}]},[t._v(t._s(t.$t("Recast"))+": "+t._s(t.recast))]),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.showCharge,expression:"showCharge"}]},[t._v(t._s(t.$t("Charge"))+": "+t._s(t.charge))]),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.showRatio,expression:"showRatio"}]},[t._v(t._s(t.$t("Probability"))+": "+t._s(t.ratio)+"%")])],1),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-2 d-flex justify-center flex-column"},[a("v-img",{style:{filter:t.isSkillSpriteFilter?t.skillSpriteFilter:void 0},attrs:{width:t.$size(),contain:"",src:t.skillSpriteName+".png"}})],1),a("div",{staticClass:"d-flex justify-center flex-column small",style:{width:"calc(100% - "+t.$size()+"px)","min-height":t.$size()+"px"}},[t.from?"xs"==t.$vuetify.breakpoint.name?[t._l(t.fromContents,(function(e,i){return a("div",{key:"skill-"+t.id+"-from-content-"+i,staticClass:"d-flex grey--text"},[a("div",{staticClass:"pr-1"},[t._v("・")]),a("div",t._l(e,(function(e,n){return a("div",{key:"skill-"+t.id+"-content-"+i+"-item-"+n},[a("span",{domProps:{innerHTML:t._s(e)}})])})),0)])})),a("div",{staticClass:"text-center my-n1"},[a("v-icon",[t._v("mdi-chevron-down")])],1),t._l(t.contents,(function(e,i){return a("div",{key:"skill-"+t.id+"-content-"+i,staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[t._v("・")]),a("div",t._l(e,(function(e,n){return a("div",{key:"skill-"+t.id+"-content-"+i+"-item-"+n},[a("span",{domProps:{innerHTML:t._s(e)}})])})),0)])}))]:a("div",{staticClass:"d-flex"},[a("div",t._l(t.fromContents,(function(e,i){return a("div",{key:"skill-"+t.id+"-from-content-"+i,staticClass:"d-flex grey--text"},[a("div",{staticClass:"pr-1"},[t._v("・")]),a("div",t._l(e,(function(e,n){return a("div",{key:"skill-"+t.id+"-content-"+i+"-item-"+n},[a("span",{domProps:{innerHTML:t._s(e)}})])})),0)])})),0),a("div",{staticClass:"text-center mx-1 my-auto"},[a("v-icon",[t._v("mdi-arrow-right")])],1),a("div",t._l(t.contents,(function(e,i){return a("div",{key:"skill-"+t.id+"-content-"+i,staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[t._v("・")]),a("div",t._l(e,(function(e,n){return a("div",{key:"skill-"+t.id+"-content-"+i+"-item-"+n},[a("span",{domProps:{innerHTML:t._s(e)}})])})),0)])})),0)]):[t._t("prepend"),t._l(t.contents,(function(e,i){return a("div",{key:"skill-"+t.id+"-content-"+i,staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[t._v("・")]),a("div",t._l(e,(function(e,n){return a("div",{key:"skill-"+t.id+"-content-"+i+"-item-"+n},[a("span",{domProps:{innerHTML:t._s(e)}})])})),0)])})),t._t("append")]],2)])],1),a("v-col",{staticClass:"py-0 hidden-lg-and-down",attrs:{cols:"3"}},[a("KeyValue",{attrs:{k:t.$t("Load"),v:t.load}}),a("KeyValue",{directives:[{name:"show",rawName:"v-show",value:t.showRecast,expression:"showRecast"}],attrs:{k:t.$t("Recast"),v:t.recast}}),a("KeyValue",{directives:[{name:"show",rawName:"v-show",value:t.showCharge,expression:"showCharge"}],attrs:{k:t.$t("Charge"),v:""+t.charge}}),a("KeyValue",{directives:[{name:"show",rawName:"v-show",value:t.showRatio,expression:"showRatio"}],attrs:{k:t.$t("Probability"),v:t.ratio+"%"}})],1)],1),t.min!=t.max?a("v-slider",{ref:"slider",attrs:{min:t.min,max:t.max},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"d-inline-block slider-label"},[a("span",[t._v(t._s(t.$t("Level"))+":")]),a("div",{staticClass:"float-right"},[t._v(t._s(t.level))])])]},proxy:!0},{key:"append",fn:function(){return[a("v-icon",{on:{click:t.clickMax}},[t._v("mdi-chevron-double-up")])]},proxy:!0},{key:"thumb-label",fn:function(e){return[t._v(t._s(t.exp))]}}],null,!1,3617296557),model:{value:t.level,callback:function(e){t.level=e},expression:"level"}}):a("div",{staticClass:"mb-4"})],1)},Ke=[],Qe=(a("f664"),{name:"Skill",props:{id:{},from:{},owner:{},element:{default:function(){}},sp:Boolean,exptable:{default:function(){return 0}},min:{default:function(){return 1}},max:{default:function(){return 1}},ratio:{default:function(){}}},data:function(){return{level:1}},computed:{showLoad:function(){return"MST"!=this.owner},showRecast:function(){return"PL"==this.owner||"WPN"==this.owner||"CARD"==this.owner},showCharge:function(){return"PL"==this.owner||"WPN"==this.owner||"CARD"==this.owner},showRatio:function(){return"EN"==this.owner&&void 0!==this.ratio&&100!=this.ratio},skill:function(){return Object.assign({},this.$store.state.$db["SkillList_".concat(this.owner)][this.id],this.$store.state.$db["SkillContentList_".concat(this.owner)][this.id])},fromSkill:function(){return this.from?Object.assign({},this.$store.state.$db["SkillList_".concat(this.owner)][this.from],this.$store.state.$db["SkillContentList_".concat(this.owner)][this.from]):{}},skillSpriteFilter:function(){return{undefined:"grayscale(100%) brightness(50%) saturate(1000%) contrast(100%)",0:"grayscale(100%) brightness(50%) sepia(100%) hue-rotate(-30deg) saturate(1000%) contrast(100%)",1:"grayscale(100%) brightness(50%) sepia(100%) hue-rotate(195deg) saturate(1000%) contrast(100%)",2:"grayscale(100%) brightness(50%) sepia(100%) hue-rotate(  0deg) saturate(1000%) contrast(100%)",3:"grayscale(100%) brightness(45%) sepia(100%) hue-rotate( 45deg) saturate(1000%) contrast(100%)",4:"grayscale(100%) brightness(25%) sepia(100%) hue-rotate(245deg) saturate(1000%) contrast(100%)",5:"grayscale(100%) brightness(57%) sepia(100%) hue-rotate( 20deg) saturate(1000%) contrast(100%)"}[this.element]},isSkillSpriteFilter:function(){return!this.sp&&"EN"!=this.owner&&!this.skill.m_IsCharaCutIn&&this.skill.m_SkillType<5},skillSpriteName:function(){return this.sp?this.$asset.commonuiatlas.format("CMD_SkillSP"):"EN"==this.owner?this.$asset.battleuiatlas.format("CMD_Blank"):this.skill.m_IsCharaCutIn?{0:this.$asset.battleuiatlas.format("CMD_ActiveAttack"),1:this.$asset.battleuiatlas.format("CMD_ActiveAttack"),3:this.$asset.commonuiatlas.format("CMD_ActiveAttack"),4:this.$asset.commonuiatlas.format("CMD_ActiveAttack"),5:this.$asset.commonuiatlas.format("CMD_ActiveRecovery"),6:this.$asset.commonuiatlas.format("CMD_ActiveBuff"),7:this.$asset.commonuiatlas.format("CMD_ActiveBuff")}[this.skill.m_SkillType]:{0:this.$asset.battleuiatlas.format("CMD_NormalAttack"),1:this.$asset.battleuiatlas.format("CMD_NormalMagicAttack"),3:this.$asset.commonuiatlas.format("CMD_SkillAttack"),4:this.$asset.commonuiatlas.format("CMD_SkillMagic"),5:this.$asset.commonuiatlas.format("CMD_SkillRecovery"),6:this.$asset.commonuiatlas.format("CMD_SkillBuff"),7:this.$asset.commonuiatlas.format("CMD_SkillDeBuff")}[this.skill.m_SkillType]},charge:function(){var t=this;if("MST"==this.owner)return 0;var e=100*(this.sp?-1:this.skill.m_Datas.map((function(e){return t.$store.state.$db.TogetherChargeDefine[e.m_Type].m_Value})).reduce((function(t,e){return t>e?t:e}))),a=this.from&&100*(this.sp?-1:this.fromSkill.m_Datas.map((function(e){return t.$store.state.$db.TogetherChargeDefine[e.m_Type].m_Value})).reduce((function(t,e){return t>e?t:e}))),i={"-1":"↓",0:"",1:"↑"}[Math.sign(e-a)];return"".concat(e,"%").concat(this.from?i:"")},load:function(){var t=this.level<15?0:this.level<25?1:2,e=Math.fround(100*this.skill.m_LoadFactors[t]),a=this.from&&Math.fround(100*this.fromSkill.m_LoadFactors[t]),i={"-1":"↓",0:"",1:"↑"}[Math.sign(e-a)];return"".concat(e,"%").concat(this.from?i:"")},recast:function(){if(this.sp)return 0;var t=this.level<15?0:this.level<25?1:2,e=this.skill.m_Recasts[t],a=this.from&&this.fromSkill.m_Recasts[t],i={"-1":"↓",0:"",1:"↑"}[Math.sign(e-a)];return"".concat(e).concat(this.from?i:"")},contents:function(){return Le["a"].parse(this.id,this.owner,this.level,this.sp)},fromContents:function(){return this.from?Le["a"].parse(this.from,this.owner,this.level,this.sp):[]},exp:function(){var t=this;return this.$4(this.$store.state.$db.SkillExp.filter((function(e){return e.m_ID==(t.exptable||0)&&e.m_Lv<t.level})).reduce((function(t,e){return t+e.m_NextExp}),0))}},methods:{clickMax:function(){this.level=this.max}}}),Je=Qe,Ze=a("ba0d"),ta=Object(k["a"])(Je,Ge,Ke,!1,null,null,null),ea=ta.exports;C()(ta,{VCol:Ne["a"],VIcon:Ct["a"],VImg:Z["a"],VRow:Oe["a"],VSlider:Ze["a"]});var aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.$t("Skill Selector")))]),a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{dense:"",label:t.$t("Skill Type"),items:t.types},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-select",{attrs:{dense:"",label:t.$t("Skill Target"),items:t.targets},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-select",{attrs:{dense:"",label:t.$t("Skill Detail"),items:t.attributes},model:{value:t.attribute,callback:function(e){t.attribute=e},expression:"attribute"}})],1),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-select",{attrs:{dense:"",label:t.$t("Skill Amount"),items:t.values},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.push(t.evals)}}},[t._v("OK")])],1)],1)},ia=[],na=(a("7db0"),a("a15b"),{name:"SkillSelector",props:["push"],data:function(){return{type:2,target:null,attribute:null,value:0}},computed:{types:function(){var t=this.$t("Skill Types");return Object.keys(t).map((function(e){return{text:t[e],value:parseInt(e),eval:"data.m_Type==".concat(e)}}))},targets:function(){var t=this.$t("Skill Targets");return Object.keys(t).map((function(e){return{text:t[e],value:parseInt(e),eval:"data.m_Target==".concat(e)}})).concat({text:this.$t("All"),value:null,eval:null})},attributes:function(){var t=this;switch(this.type){case 2:return Object.keys(this.$t("Statuses")).filter((function(t){return!isNaN(parseInt(t))})).map((function(e){return{text:t.$t("Statuses")[e],value:parseInt(e),eval:"data.m_Args[".concat(parseInt(e)+2,"]")}})).concat({text:this.$t("All"),value:null,eval:null});case 4:case 5:return Object.keys(this.$t("Abnormals")).filter((function(t){return!isNaN(parseInt(t))})).map((function(e){return{text:t.$t("Abnormals")[e],value:parseInt(e),eval:"data.m_Args[".concat(parseInt(e)+0,"]")}})).concat({text:this.$t("All"),value:null,eval:null});case 8:return Object.keys(this.$t("Elements")).filter((function(t){return t>=0})).map((function(e){return{text:t.$t("Elements")[e],value:parseInt(e),eval:"data.m_Args[".concat(parseInt(e)+2,"]")}})).concat({text:this.$t("All"),value:null,eval:null});case 11:return Object.keys(this.$t("Skill Damage Types")).map((function(e){return{text:t.$t("Skill Damage Types")[e],value:parseInt(e),eval:"data.m_Args[0]==".concat(e)}})).concat({text:this.$t("All"),value:null,eval:null});default:return[]}},values:function(){var t=this,e=this.attributes.find((function(e){return e.value==t.attribute}));switch(this.type){case 1:return[0,1,2,3,4].map((function(e){return{text:0==e?t.$t("All"):t.$t("Skill Amounts.1.".concat(e)),value:e,eval:e&&"amount(data.m_Args[0], amounts[1][isTargetAll(data.m_Target)?1:0], true)==".concat(e)}}));case 2:return e&&e.eval?[0,1,2,3,4,-1,-2,-3].map((function(a){return{text:0==a?t.$t("All"):t.$t("Skill Amount Sign").format({amount:t.$t("Skill Amounts.2.".concat(Math.abs(a))),sign:t.$t("Skill Signs.".concat(Math.sign(a)))}),value:a,eval:a&&"amount(".concat(e.eval,", amounts[2][").concat(t.attribute,"], true)==").concat(a)}})):[];case 11:return[0,1,2,3,4].map((function(e){return{text:0==e?t.$t("All"):t.$t("Skill Amounts.11.".concat(e)),value:e,eval:e&&"amount(data.m_Args[1], amounts[11], true)==".concat(e)}}));case 18:return[0,1,2,3,-1,-2,-3].map((function(e){return{text:0==e?t.$t("All"):t.$t("Skill Amount Sign").format({amount:t.$t("Skill Amounts.18.".concat(Math.abs(e))),sign:t.$t("Skill Signs.".concat(Math.sign(e)))}),value:e,eval:e&&"amount(data.m_Args[2], amounts[18], true)==".concat(e)}}));default:return[]}},evals:function(){var t=this;return[(this.types.find((function(e){return e.value==t.type}))||{}).eval,(this.targets.find((function(e){return e.value==t.target}))||{}).eval,(this.attributes.find((function(e){return e.value==t.attribute}))||{}).eval,(this.values.find((function(e){return e.value==t.value}))||{}).eval].filter((function(t){return t})).join(" && ")}}}),ra=na,sa=a("99d9"),oa=a("b974"),la=a("2fa4"),ua=Object(k["a"])(ra,aa,ia,!1,null,null,null),ca=ua.exports;C()(ua,{VBtn:bt["a"],VCard:kt["a"],VCardActions:sa["a"],VCardText:sa["b"],VCardTitle:sa["c"],VCol:Ne["a"],VRow:Oe["a"],VSelect:oa["a"],VSpacer:la["a"]});var ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.$t("Passive Selector")))]),a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{dense:"",label:t.$t("Passive Type"),items:t.types},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.push(t.output)}}},[t._v("OK")])],1)],1)},ma=[],da={name:"PassiveSelector",props:["push"],data:function(){return{type:0,target:null,attribute:null,value:0}},computed:{types:function(){var t=this.$t("Passive Types");return Object.keys(t).map((function(e){return{text:t[e],value:parseInt(e)}}))},output:function(){return JSON.stringify({type:this.type,target:this.target,attribute:this.attribute,value:this.value})}}},ga=da,pa=Object(k["a"])(ga,ha,ma,!1,null,null,null),va=pa.exports;C()(pa,{VBtn:bt["a"],VCard:kt["a"],VCardActions:sa["a"],VCardText:sa["b"],VCardTitle:sa["c"],VCol:Ne["a"],VRow:Oe["a"],VSelect:oa["a"],VSpacer:la["a"]});var fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"white-space":"normal"}},[t._l(t.status,(function(e,i,n){return[null!==e?a("KeyValue",{staticClass:"d-inline-block",style:{width:t.width},attrs:{k:i,v:t.formatValue(e)}}):a("div",{staticClass:"d-inline-block",style:{width:t.width}}),(n+1)%t.divide!=0?a("div",{staticClass:"d-inline-block",staticStyle:{width:"8px"}}):t._e()]}))],2)},_a=[],ya={name:"Status",props:["status","divide","format"],computed:{width:function(){return"calc((100% - 8px * (".concat(this.divide," - 1)) / ").concat(this.divide,")")}},methods:{formatValue:function(t){return void 0===this.format?t:this.$4(t)}}},ba=ya,ka=Object(k["a"])(ba,fa,_a,!1,null,null,null),Sa=ka.exports,Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{icon:""}},i),[a("v-icon",[t._v("mdi-palette")])],1)]}}])},[a("v-list",[a("v-list-item-group",{model:{value:t.$s.theme,callback:function(e){t.$set(t.$s,"theme",e)},expression:"$s.theme"}},t._l(t.themes,(function(e,i){return a("v-list-item",{key:"theme-"+i,on:{click:t.setTheme}},[a("v-list-item-avatar",[e?a("v-icon",{style:{color:t.$vuetify.theme.isDark?e.dark.primary:e.light.primary}},[t._v("mdi-checkbox-blank-circle")]):a("v-icon",[t._v("mdi-autorenew")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Themes."+i)))])],1)],1)})),1)],1)],1)},xa=[],wa=(a("c975"),{name:"Theme",data:function(){return{dynamic:6}},computed:{themes:function(){return[{light:{primary:Vt["a"].red.lighten2,secondary:Vt["a"].red.lighten3},dark:{primary:Vt["a"].red.lighten2,secondary:Vt["a"].grey.darken3}},{light:{primary:Vt["a"].blue.lighten2,secondary:Vt["a"].blue.lighten3},dark:{primary:Vt["a"].blue.lighten2,secondary:Vt["a"].grey.darken3}},{light:{primary:Vt["a"].deepOrange.lighten1,secondary:Vt["a"].deepOrange.lighten2},dark:{primary:Vt["a"].deepOrange.lighten1,secondary:Vt["a"].grey.darken3}},{light:{primary:Vt["a"].green.lighten2,secondary:Vt["a"].green.lighten3},dark:{primary:Vt["a"].green.lighten2,secondary:Vt["a"].grey.darken3}},{light:{primary:Vt["a"].purple.lighten3,secondary:Vt["a"].purple.lighten4},dark:{primary:Vt["a"].purple.lighten3,secondary:Vt["a"].grey.darken3}},{light:{primary:Vt["a"].amber.darken1,secondary:Vt["a"].amber.base},dark:{primary:Vt["a"].amber.darken1,secondary:Vt["a"].grey.darken3}},{light:{primary:Vt["a"].pink.lighten3,secondary:Vt["a"].pink.lighten4},dark:{primary:Vt["a"].pink.lighten3,secondary:Vt["a"].grey.darken3}},null]}},methods:{setTheme:function(){var t=this;this.$nextTick((function(){var e=t.themes[t.$s.theme]?t.$s.theme:t.dynamic;t.themes[e]&&(t.$vuetify.theme.themes.light.primary=t.themes[e].light.primary,t.$vuetify.theme.themes.light.secondary=t.themes[e].light.secondary,t.$vuetify.theme.themes.dark.primary=t.themes[e].dark.primary,t.$vuetify.theme.themes.dark.secondary=t.themes[e].dark.secondary),t.setAppColor()}))},setAppColor:function(){var t=this;setTimeout((function(){var e=t.themes[t.$s.theme]?t.$s.theme:t.dynamic,a=t.$vuetify.theme.dark?t.themes[e].dark.secondary:t.themes[e].light.secondary;document.querySelector("meta[name=theme-color]").setAttribute("content",a)}),100)}},mounted:function(){var t=this;this.$root.$off("theme"),this.$root.$on("theme",(function(e){t.dynamic=e>=0&&e<=5?e:6,t.setTheme()})),this.$root.$off("dark"),this.$root.$on("dark",(function(e){t.$vuetify.theme.dark=void 0===e?!t.$vuetify.theme.dark:e,t.setAppColor(),t.$s.dark=t.$vuetify.theme.dark}))},watch:{$route:function(t){-1==["Character","Weapon","Enemy"].indexOf(t.name)&&this.$root.$emit("theme")}}}),Ia=wa,Ta=a("1baa"),Ma=Object(k["a"])(Ia,Ca,xa,!1,null,null,null),Pa=Ma.exports;C()(Ma,{VBtn:bt["a"],VIcon:Ct["a"],VList:Zt["a"],VListItem:ut["a"],VListItemAvatar:Wt["a"],VListItemContent:ct["b"],VListItemGroup:Ta["a"],VListItemTitle:ct["d"],VMenu:Ie["a"]});var Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-avatar",{attrs:{size:t.$size()}},[a("v-img",{attrs:{src:t.credit.icon}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.credit.name))])],1),t.credit.gitlab?a("v-list-item-action",{staticClass:"ml-2 my-1"},[a("v-btn",{attrs:{icon:"",href:t.credit.gitlab,target:"_blank"}},[a("v-icon",[t._v("mdi-gitlab")])],1)],1):t._e(),t.credit.qq?a("v-list-item-action",{staticClass:"ml-2 my-1"},[a("v-btn",{attrs:{icon:"",href:t.credit.qq,target:"_blank"}},[a("v-icon",[t._v("mdi-qqchat")])],1)],1):t._e(),t.credit.twitter?a("v-list-item-action",{staticClass:"ml-2 my-1"},[a("v-btn",{attrs:{icon:"",href:t.credit.twitter,target:"_blank"}},[a("v-icon",[t._v("mdi-twitter")])],1)],1):t._e()],1)},Da=[],Va={"コースケ":{name:"コースケ",icon:"https://texture-asset.kirafan.cn/originalcharactericon/originalcharactericon_2.png",twitter:"https://twitter.com/koucoc_kirafan"},"林檎アメ":{name:"林檎アメ",icon:"https://card-asset.kirafan.cn/charaicon/charaicon_30041000.png",twitter:"https://twitter.com/nilcric",gitlab:"https://gitlab.com/circlelin"}},La={name:"Credit",props:["name"],computed:{credit:function(){return Va[this.name]}}},Ba=La,Ea=Object(k["a"])(Ba,Aa,Da,!1,null,null,null),Fa=Ea.exports;C()(Ea,{VBtn:bt["a"],VIcon:Ct["a"],VImg:Z["a"],VListItem:ut["a"],VListItemAction:te["a"],VListItemAvatar:Wt["a"],VListItemContent:ct["b"],VListItemTitle:ct["d"]});var Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{attrs:{fab:"",outlined:"",color:"primary"},on:{click:t.play}},[t.name!=t.voice.name||t.cue!=t.voice.cue?a("v-icon",[t._v("mdi-play")]):t.voice.loading?a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):t.voice.playing?a("v-icon",[t._v("mdi-volume-high")]):a("v-icon",[t._v("mdi-play")])],1)},$a=[],Na=(a("1276"),{audio:null,name:null,cue:null,loading:null,playing:null}),Oa={name:"Voice",props:["name","cue","override_url"],data:function(){return{voice:Na}},methods:{url:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.override_url){t.next=10;break}if(!("promise"in this.override_url&&this.override_url.promise)){t.next=7;break}return t.next=4,regeneratorRuntime.awrap(this.override_url.url());case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,regeneratorRuntime.awrap(this.override_url.url);case 9:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",this.$asset.voice.format(this.name,this.cue)+".mp3");case 11:case"end":return t.stop()}}),null,this)},play:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.url());case 2:t=e.sent,Na.audio&&Na.audio.pause(),Na.name==this.name&&Na.cue==this.cue&&(Na.loading||Na.playing)?(Na.loading=!1,Na.playing=!1,this.fileDownload(t,"".concat(this.name,"_").concat(this.cue,".").concat(this.override_url?"wav":t.split(".").pop()))):(Na.name=this.name,Na.cue=this.cue,Na.audio=new Audio(t),Na.audio.oncanplay=function(){Na.loading&&(Na.loading=!1,Na.playing=!0)},Na.audio.onended=function(){Na.playing=!1},Na.loading=!0,Na.playing=!1,Na.audio.play());case 5:case"end":return e.stop()}}),null,this)},fileDownload:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download.wav",a=document.createElement("a");a.href=t,a.download=e,a.click()}}},ja=Oa,za=Object(k["a"])(ja,Ra,$a,!1,null,null,null),Ua=za.exports;C()(za,{VBtn:bt["a"],VIcon:Ct["a"],VProgressCircular:w["a"]});var Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.named?a("div",[t.namedCharacter.originalCharaID?a("v-avatar",{attrs:{size:t.size,tile:""}},[a("v-img",{attrs:{src:t.$asset.originalcharactericon.format(t.namedCharacter.originalCharaID)+".jpg"}})],1):a("v-avatar",{attrs:{size:t.size}},[a("v-img",{attrs:{src:t.$asset.charaicon.format(t.namedCharacter.primaryCharacterID)+".jpg"}})],1)],1):t.original?a("div",[a("v-avatar",{attrs:{size:t.size,tile:""}},[a("v-img",{attrs:{src:t.$asset.originalcharactericon.format(t.id)+".jpg"}})],1)],1):a("div",[t.frame||t.$s.characterIconFramed?a("div",{style:t.style}):a("v-avatar",{attrs:{size:t.size}},[a("v-img",{attrs:{src:t.$asset.charaicon.format(this.id)+".jpg"}})],1)],1)},Wa=[],qa={name:"CharaIcon",props:{id:{},size:{},named:Boolean,original:Boolean,frame:Boolean},computed:{style:function(){return{width:this.size+"px",height:this.size+"px","background-image":"\n          url(".concat(this.$asset.commonuiatlas.format(this.elementIcon),".png),\n          url(").concat(this.$asset.commonuiatlas.format(this.classIcon),".png),\n          url(").concat(this.$asset.commonuiatlas.format(this.frameIcon),".png),\n          url(").concat(this.$asset.charaicon.format(this.id),".jpg)\n        "),"background-size":"\n          25%,\n          25%,\n          100%,\n          100%\n        ","background-position":"\n          3% 3%,\n          97% 97%,\n          0%,\n          0%\n        "}},character:function(){return this.$store.state.$db.CharacterList[this.id]},namedCharacter:function(){return this.$store.state.$db.NamedList[this.id]},frameIcon:function(){return{2:"CharaIconFrame03",3:"CharaIconFrame04",4:"CharaIconFrame05"}[this.character.m_Rare]},classIcon:function(){return{0:"ClassIconFighter",1:"ClassIconMagician",2:"ClassIconPriest",3:"ClassIconKnight",4:"ClassIconAlchemist"}[this.character.m_Class]},elementIcon:function(){return{0:"ElementIconFire",1:"ElementIconWater",2:"ElementIconEarth",3:"ElementIconWind",4:"ElementIconMoon",5:"ElementIconSun"}[this.character.m_Element]}}},Xa=qa,Ya=Object(k["a"])(Xa,Ha,Wa,!1,null,null,null),Ga=Ya.exports;C()(Ya,{VAvatar:me["a"],VImg:Z["a"]});var Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$showAd()&&t.$isMoe()?a("div",["feed"==t.type?a("InFeedAdsense",{attrs:{"data-ad-layout-key":"-fg+6d-1m-er+wm","data-ad-client":"ca-pub-7892650861805139","data-ad-slot":"3136351268"}}):t._e(),"display"==t.type?a("Adsense",{attrs:{"data-ad-layout-key":"auto","data-ad-client":"ca-pub-7892650861805139","data-ad-slot":"9264653959"}}):t._e()],1):t.$isDev()?a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-content",[a("v-list-item-subtitle",{staticClass:"text-center my-8"},[t._v("Ad: "+t._s(t.type))])],1)],1):t._e()},Qa=[],Ja={name:"Ad",props:{type:{default:"feed"}}},Za=Ja,ti=Object(k["a"])(Za,Ka,Qa,!1,null,null,null),ei=ti.exports;C()(ti,{VListItem:ut["a"],VListItemContent:ct["b"],VListItemSubtitle:ct["c"]});var ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"cleaContainer",staticClass:"clea-container"},[a("canvas",{ref:"cleaCanvas",staticClass:"clea-canvas"}),a("CleaDialog",{ref:"cleaDialog",attrs:{show:t.dialogManager.dialogOpen,message:t.dialogManager.dialogText,optionList:t.dialogManager.dialogOptionList,autoDismiss:t.dialogManager.dialogAutoDismiss},on:{change:function(e){return t.dialogManager.onSelection(e)},show:function(e){return t.dialogManager.onShowChange(e)}}})],1)},ii=[],ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{ref:"dialog",staticClass:"clea-dialog",class:[t.show?"clea-dialog--open":"clea-dialog--close"]},[a("v-card-text",[t._v(t._s(t.message))]),a("v-card-actions",[null!=t.optionList&&t.optionList.length>0?a("v-btn",{attrs:{icon:""},on:{click:t.onShowOptionClick}},[a("v-icon",[t._v(t._s(t.showOption?"mdi-chevron-up":"mdi-chevron-down"))])],1):t._e(),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.onDismissClick}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-expand-transition",[a("v-list",{directives:[{name:"show",rawName:"v-show",value:t.showOption,expression:"showOption"}]},t._l(t.optionList,(function(e,i){return a("v-list-item",{key:i,on:{click:function(e){return t.$emit("change",i)}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e))])],1)],1)})),1)],1)],1)},ri=[],si=(a("a9e3"),{name:"CleaDialog",model:{prop:"show",event:"show"},props:{message:{type:String,default:""},title:{type:String,default:"Clea"},autoDismiss:{type:Boolean,default:!0},dismissTime:{type:Number,default:4e3},show:{type:Boolean,default:!1},optionList:{type:Array,default:function(){return[]}}},mounted:function(){this.changeVisibility()},watch:{show:function(){this.changeVisibility()}},beforeDestroy:function(){},data:function(){return{showOption:!1,interacted:!1}},methods:{onShowOptionClick:function(){this.showOption=!this.showOption,this.interacted=!0},onDismissClick:function(){this.show&&this.$emit("show",!1)},changeVisibility:function(){var t=this;this.show?(this.$el.style.display="block",this.interacted=!1,this.calculatePosition(),this.autoDismiss&&this.dismissTime>0&&setTimeout((function(){t.interacted||t.$emit("show",!1)}),this.dismissTime)):(this.showOption=!1,this.$el.style.display="none")},calculatePosition:function(){var t=this.$el.getBoundingClientRect(),e=this.$el.parentElement.getBoundingClientRect(),a=0,i=0;e.bottom+t.height<window.innerHeight?a=e.height:e.top-t.height>0?a=-t.height:e.right+t.width<window.innerWidth?i=e.width:e.left-t.width>0&&(i=-t.width),this.$el.style.left=i+"px",this.$el.style.top=a+"px"}}}),oi=si,li=(a("8942"),Object(k["a"])(oi,ni,ri,!1,null,"faea5564",null)),ui=li.exports;C()(li,{VBtn:bt["a"],VCard:kt["a"],VCardActions:sa["a"],VCardText:sa["b"],VExpandTransition:St["a"],VIcon:Ct["a"],VList:Zt["a"],VListItem:ut["a"],VListItemContent:ct["b"],VListItemTitle:ct["d"],VSpacer:la["a"]});var ci=a("9010"),hi=a("d4ec"),mi=a("bee2"),di=function t(e,a,i,n,r,s){Object(hi["a"])(this,t),this.text=e,this.autoDismiss=a,this.optionList=i,this.dismissCallback=r,this.selectOptionCallback=s,this.priority=n},gi=function(){function t(){Object(hi["a"])(this,t),this.dialogOpen=!1,this.dialogAutoDismiss=!0,this.dialogQueue=[],this.dialogText="",this.dialogOptionList=[],this.dialogDismissCallback=null,this.dialogSlectOptionCallback=null,this.dialogPriority=vi.None}return Object(mi["a"])(t,[{key:"pushDialog",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vi.Normal,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this.dialogOpen&&a==vi.Idle&&this.dialogPriority>a?pi(n)&&n():(this.dialogQueue.push(new di(t,i,e,a,n,r)),1==this.dialogQueue.length?this.dialogOpen?(a==vi.Force||a>this.dialogPriority||a==vi.Idle&&this.dialogPriority==a)&&(this.onShowChange(!1),this.applyDialog()):this.applyDialog():a==vi.Force&&(this.onShowChange(!1),this.applyDialog()))}},{key:"clearDialog",value:function(){this.dialogQueue=[]}},{key:"applyDialog",value:function(){if(this.dialogQueue.length>0){var t=this.dialogQueue.pop();this.dialogText=t.text,this.dialogOptionList=t.optionList,this.dialogPriority=t.priority,this.dialogAutoDismiss=t.autoDismiss,this.dialogDismissCallback=t.dismissCallback,this.dialogSlectOptionCallback=t.selectOptionCallback,this.dialogOpen=!0}}},{key:"onShowChange",value:function(t){t||(this.dialogOpen=!1,pi(this.dialogDismissCallback)&&this.dialogDismissCallback(),this.applyDialog())}},{key:"onSelection",value:function(t){pi(this.dialogSlectOptionCallback)&&this.dialogSlectOptionCallback(t),this.onShowChange(!1)}}]),t}();function pi(t){return t&&"[object Function]"==={}.toString.call(t)}var vi={None:0,Idle:1,Normal:2,Force:3},fi=new gi,_i=[{name:"タイトルコール",type:"システム",contents:[{text:"きららファンタジア、本日もよろしくお願いします",voice:""}]},{name:"起動時挨拶・朝",type:"システム",contents:[{text:"おはようございます、今日も無理なく頑張りましょうね",voice:""},{text:"朝顔ってお花は、とても早起きさんなんですよ",voice:""}]},{name:"起動時挨拶・夜",type:"システム",contents:[{text:"遅くまでお疲れ様です、明日も頑張りましょうね",voice:""},{text:"つい夜更かししてしまう気持ち、私もわかります",voice:""}]},{name:"ホーム画面会話",type:"里",contents:[{text:"クレアです。召喚のお手伝いを\nさせてもらっています！",voice:""},{text:"みなさんを召喚するために必要な\n『鍵』の管理を任せていただいています。",voice:""},{text:"ポルカとコルクちゃんは、\nわたしの大切なお友達です。",voice:""},{text:"元気が出ない時は、声を出すといいですよ。\nえいえい、おー！",voice:""}]}],yi="cleaMemory",bi="1.0.0",ki=[300,2500,15e3,3e4];function Si(t,e){var a=864e5,i=Math.abs(new Date(e)-new Date(t));return Math.floor(i/a)}var Ci={_:{dataVersion:bi,init:!0,firstMet:(new Date).toDateString(),dayMetTotal:0,lastMet:(new Date).toDateString(),lastInteractInMilli:(new Date).getTime(),headTouchedTime:0,faceTouchedTime:0,breastTouchedTime:0,bodyTouchedTime:0,experience:0,friendship:0},get talkData(){return _i},get friendshipLevel(){if(0==this.friendship)return 0;for(var t=Math.abs(this.friendship),e=0;e<ki.length&&t>ki[e];++e);return Math.sign(this.friendship)*(e+1)},get daysBetweenLastMet(){return this._daysBetweenLastMet||(this._daysBetweenLastMet=Si((new Date).toDateString(),Ci.lastMet)),this._daysBetweenLastMet},get daysBetweenFirstMet(){return this._daysBetweenFirstMet||(this._daysBetweenFirstMet=Si((new Date).toDateString(),Ci.firstMet)),this._daysBetweenFirstMet},load:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Object(Ft["b"])(yi));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:t=e.t0,Object.keys(t).forEach((function(e){Ci._[e]=t[e]}));case 7:case"end":return e.stop()}}))},save:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(Ft["c"])(yi,this._));case 2:case"end":return t.stop()}}),null,this)}};Object.keys(Ci._).forEach((function(t){Object.defineProperty(Ci,t,{get:function(){return this._[t]},set:function(e){this._[t]=e,this.save()}})}));var xi=!0,wi=2e3,Ii=6e4,Ti={None:0,Idle:1,Normal:2,Force:3},Mi=function(){function t(){Object(hi["a"])(this,t),ci["CleaPlayer"].getInstance()}return Object(mi["a"])(t,[{key:"onCreate",value:function(){var t=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Ci.load());case 2:Ci.init&&this.init(),this.processFirstMeetOfDay(),Ci.lastMet=(new Date).toDateString(),setInterval((function(){Ci.friendship>=0&&(Ci.friendship+=1),t.sayHello()}),Ii),xi&&(window.CleaData=Ci);case 7:case"end":return e.stop()}}),null,this)}},{key:"onDestroy",value:function(){Ci.save()}},{key:"onTouchClea",value:function(t){if(!this.isInteractInCoolDown())switch(t){case"head":Ci.headTouchedTime+=1,ci["CleaLive2DManager"].getInstance().getClea().startRandomMotion("Head",Ti.Normal),fi.pushDialog(Ai(),null,vi.Force);break;case"face":Ci.faceTouchedTime+=1,fi.pushDialog(Ai(),null,vi.Force);break;case"oppai":Ci.breastTouchedTime+=1,ci["CleaLive2DManager"].getInstance().getClea().startRandomMotion("Shy",Ti.Normal),fi.pushDialog("恥ずかしいです",null,vi.Idle);break;case"body":Ci.bodyTouchedTime+=1,fi.pushDialog(Ai(),null,vi.Force);break;default:break}}},{key:"isInteractInCoolDown",value:function(){var t=Date.now();return t-Ci.lastInteractInMilli<wi||(Ci.lastInteractInMilli=t,!1)}},{key:"init",value:function(){Ci.init=!1}},{key:"sayHello",value:function(){var t=new Date,e=t.getHours();e>=18||e<6?fi.pushDialog(Ai("起動時挨拶・夜"),null,vi.Idle):fi.pushDialog(Ai("起動時挨拶・朝"),null,vi.Idle)}},{key:"processFirstMeetOfDay",value:function(){Ci.daysBetweenLastMet<2?fi.pushDialog(Ai("タイトルコール"),null,vi.Idle):fi.pushDialog(Ai(null,null,"久しぶりですね"),null,vi.Idle),Ci.dayMetTotal+=1,this.processAnniversary()}},{key:"processAnniversary",value:function(){var t=new Date,e=new Date(t.getUTCFullYear()+"-12-11T00:00:00+09:00"),a=new Date(t.getFullYear()+"-01-01T00:00:00"),i=Pi(t,e);e<=t&&t<e.getTime()+864e5?fi.pushDialog(Ai(null,null,"今日はきららファンタジア"+(t.getFullYear()-2017)+"周年いつもありがとうございます！"),null,vi.Normal):a<=t&&t<a.getTime()+864e5?fi.pushDialog(Ai(null,null,"あけましておめでとうございます、今年もよろしくお願いします！"),null,vi.Normal):t<e&&i<6&&fi.pushDialog(Ai(null,null,"きららファンタジア"+(t.getFullYear()-2017)+"周年あと"+(i+1)+"日"),null,vi.Normal)}}]),t}();function Pi(t,e){var a=864e5,i=Math.abs(new Date(e)-new Date(t));return Math.floor(i/a)}function Ai(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=(new Date).getHours();t=n>=18||n<6?"起動時挨拶・朝":"起動時挨拶・夜";var r=Ci.talkData.filter((function(e){return e.name!==t}));if(i)return i;if(!e){if(a){for(var s=[],o=0;o<r.length;o++)a===r[o].type&&s.concat(r[o].contants);var l=Math.floor(Math.random()*Math.floor(s)),u=s[l];return u.text}var c=Math.floor(Math.random()*Math.floor(r.length)),h=Math.floor(Math.random()*Math.floor(r[c].contents.length)),m=r[c].contents[h];return m.text}for(var d=0;d<r.length;d++)if(e===r[d].name){var g=Math.floor(Math.random()*Math.floor(r[d].contents.length)),p=r[d].contents[g];return p.text}return"(ˇωˇ)<Zzz"}var Di=new Mi,Vi={name:"Clea",components:{CleaDialog:ui},props:{show:{type:Boolean,default:!1}},mounted:function(){this.$el.style.display="none",this.show&&(this.$el.style.display="block",this.init())},beforeDestroy:function(){this.inited&&(ci["CleaPlayer"].releaseInstance(),Di.onDestroy())},data:function(){return{cleaManager:Di,dialogManager:fi,inited:!1}},watch:{show:function(t){t?(this.$el.style.display="block",this.inited||this.init(),ci["CleaPlayer"].getInstance().run()):(this.$el.style.display="none",ci["CleaPlayer"].getInstance().pause())},$route:function(t){var e=["Character","Weapon","Enemy","Quest Library","Room Object","Scenario","Master Orb","Named","item","Town Object"];e.indexOf(t.name)<0?this.$s.showCleaOnStart&&this.$root.$emit("cleaVisibility",!0):this.$s.showCleaInDetailPage||this.$root.$emit("cleaVisibility",!1)}},methods:{init:function(){var t=this;this.inited||(ci["CleaPlayer"].getInstance().initialize(this.$refs.cleaContainer,this.$refs.cleaCanvas),ci["CleaPlayer"].getInstance().run(),this.$refs.cleaCanvas.addEventListener("cleadragend",(function(){t.$refs.cleaDialog.calculatePosition()})),this.$refs.cleaCanvas.addEventListener("cleatouch",(function(t){Di.onTouchClea(t.touchPart)})),Di.onCreate(),this.inited=!0)}}},Li=Vi,Bi=(a("4e85"),Object(k["a"])(Li,ai,ii,!1,null,"27bb1927",null)),Ei=Bi.exports,Fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-3"},[a("v-alert",{attrs:{color:"red lighten-2",dark:""}},[t._v(t._s(t.$t("WIP")))])],1)},Ri=[],$i={name:"WIP"},Ni=$i,Oi=a("0798"),ji=Object(k["a"])(Ni,Fi,Ri,!1,null,null,null),zi=ji.exports;C()(ji,{VAlert:Oi["a"]});var Ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{"font-family":t.font},attrs:{color:"secondary"}},[a("script2",{attrs:{src:"./js/live2dcubismcore.min.js"}}),a("v-app-bar",{attrs:{app:"","clipped-left":"","clipped-right":"",color:"secondary",height:"56",elevation:"0"}},[a("v-btn",{staticClass:"hidden-sm-and-up",attrs:{icon:""},on:{click:function(e){t.navigation=!t.navigation}}},[a("v-icon",[t._v("mdi-menu")])],1),!t.allLoaded&&t.databaseProgress.total>0?a("v-toolbar-title",{staticStyle:{"font-size":"1rem"}},[t._v(" "+t._s(t.databaseProgress.loaded)+" / "+t._s(t.databaseProgress.total)+" Loading...")]):t._e(),a("v-toolbar-title",{staticClass:"px-2 px-sm-4"},[t._v(t._s(t.title)+" ")]),a("v-spacer"),a("div",{staticClass:"hidden-xs-only"},[a("Theme"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$root.$emit("dark")}}},[a("v-icon",[t._v("mdi-theme-light-dark")])],1),a("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{icon:""}},i),[a("v-icon",[t._v("mdi-translate")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(e){return t.setLocale("ja")}}},[t._v("日本語")]),a("v-list-item",{on:{click:function(e){return t.setLocale("zh")}}},[t._v("中文")]),a("v-list-item",{on:{click:function(e){return t.setLocale("en")}}},[t._v("English")]),a("v-list-item",{on:{click:function(e){return t.setLocale("ko")}}},[t._v("한국어")])],1)],1)],1),a("v-btn",{staticClass:"hidden-sm-and-up",attrs:{icon:""},on:{click:function(e){t.collection=!t.collection}}},[a("v-icon",[t._v("mdi-star")])],1)],1),a("v-navigation-drawer",{attrs:{app:"",clipped:"","mobile-breakpoint":"512","mini-variant":t.$vuetify.breakpoint.smOnly||t.$vuetify.breakpoint.mdOnly,"mini-variant-width":"64"},model:{value:t.navigation,callback:function(e){t.navigation=e},expression:"navigation"}},[a("v-toolbar",{staticClass:"hidden-sm-and-up",attrs:{color:"secondary",elevation:"0"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.navigation=!t.navigation}}},[a("v-icon",[t._v("mdi-chevron-left")])],1),a("v-spacer"),a("Theme"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$root.$emit("dark")}}},[a("v-icon",[t._v("mdi-theme-light-dark")])],1),a("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{icon:""}},i),[a("v-icon",[t._v("mdi-translate")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(e){return t.setLocale("ja")}}},[t._v("日本語")]),a("v-list-item",{on:{click:function(e){return t.setLocale("zh")}}},[t._v("中文")]),a("v-list-item",{on:{click:function(e){return t.setLocale("en")}}},[t._v("English")]),a("v-list-item",{on:{click:function(e){return t.setLocale("ko")}}},[t._v("한국어")])],1)],1)],1),a("Navigation",{style:{height:"calc(100vh - 56px)"}})],1),a("v-navigation-drawer",{attrs:{app:"",clipped:"",right:"","mobile-breakpoint":"512",touchless:"","mini-variant":t.$vuetify.breakpoint.smOnly,"mini-variant-width":"64"},model:{value:t.collection,callback:function(e){t.collection=e},expression:"collection"}},[a("v-toolbar",{staticClass:"hidden-sm-and-up",attrs:{color:"secondary",elevation:"0"}},[a("v-toolbar-title",[t._v(t._s(t.$t("Collection")))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.collection=!t.collection}}},[a("v-icon",[t._v("mdi-chevron-right")])],1)],1),t.databaseStatus?a("Collection"):a("div",[a("div",{staticClass:"pa-8 text-center"},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)])],1),a("v-main",[0==t.databaseStatus?a("div",{staticClass:"pa-8 text-center"},[a("v-progress-circular",{attrs:{color:"primary",rotate:"-90",indeterminate:!t.databaseProgress,value:t.databaseProgress.loaded/t.databaseProgress.total*100}}),a("div",{staticClass:"pa-2 caption"},[a("span",[t._v("Loading Database...")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.databaseProgress,expression:"databaseProgress"}]},[t._v(" "+t._s(t.databaseProgress.loaded)+" / "+t._s(t.databaseProgress.total))])])],1):a("div",{staticStyle:{"max-width":"768px",margin:"auto",padding:"32px 0 80px 0"}},[t.allLoaded||t.reRendering?a("span",[a("keep-alive",[a("router-view")],1)],1):a("span",[a("router-view")],1)])]),a("v-fade-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:this.$route.params.id,expression:"this.$route.params.id"}],staticStyle:{position:"fixed",bottom:"16px"},style:{left:t.fixedPosition(!1)+"px"},attrs:{fab:"",color:"primary"},on:{click:t.setCollection}},[t.getCollection(t.magic)?a("v-icon",[t._v("mdi-heart")]):a("v-icon",[t._v("mdi-heart-outline")])],1)],1),a("v-fade-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"Home"!=this.$route.name,expression:"this.$route.name!='Home'"}],staticStyle:{position:"fixed",bottom:"16px"},style:{right:t.fixedPosition(!0)+"px"},attrs:{fab:"",color:"primary"},on:{click:function(e){return t.$vuetify.goTo(0)}}},[a("v-icon",[t._v("mdi-chevron-up")])],1)],1),a("v-snackbar",{attrs:{timeout:-1},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("div",{staticClass:"d-block py-2",staticStyle:{width:"100%"}},[2==t.databaseStatus?a("div",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{color:"primary",rotate:"-90",indeterminate:!t.databaseProgress,value:t.databaseProgress.loaded/t.databaseProgress.total*100}}),a("div",{staticClass:"pa-2 caption"},[a("span",[t._v("Loading Database...")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.databaseProgress,expression:"databaseProgress"}]},[t._v(" "+t._s(t.databaseProgress.loaded)+" / "+t._s(t.databaseProgress.total))])])],1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.databaseStatus,expression:"databaseStatus==3"}],staticClass:"text-center mb-2"},[t._v(t._s(t.$t("Updated.Database")))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.applicationStatus,expression:"applicationStatus"}],staticClass:"text-center mb-2"},[t._v(t._s(t.$t("Updated.Application")))]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.refresh,expression:"refresh"}],staticClass:"mx-0",attrs:{text:"",block:""},on:{click:function(e){return t.reload()}}},[t._v(t._s(t.$t("Refresh")))]),a("v-btn",{staticClass:"mx-0",attrs:{text:"",block:""},on:{click:function(e){t.snackbar=!1}}},[t._v(t._s(t.$t("Close")))])],1)]),a("Clea",{attrs:{show:t.cleaVisibility}})],1)},Hi=[],Wi={name:"App",data:function(){return{refresh:!1,snackbar:!1,databaseStatus:0,databaseProgress:0,applicationStatus:!1,allLoaded:!1,navigationMini:!0,navigation:this.$vuetify.breakpoint.smAndUp,collection:this.$vuetify.breakpoint.smAndUp,cleaVisibility:!1,magic:0,reRendering:!1}},computed:{title:function(){return[this.$s.appTitleShowID&&this.$route.params.id,this.$t(this.$route.name),this.$vuetify.breakpoint.mdAndUp&&this.$t("KiraFan Wiki")+" Forked"].filter((function(t){return t})).join(" — ")},font:function(){return{ja:["Avenir","Verdana","Helvetica","ヒラギノ角ゴシック","Hiragino Sans","ヒラギノ角ゴ ProN W3","Hiragino Kaku Gothic ProN","メイリオ","Meiryo","ＭＳ Ｐゴシック","MS PGothic","sans-serif"].join(),zh:["Avenir","Verdana","Helvetica","Hiragino Sans GB","Source Han Sans CN","WenQuanYi Micro Hei","Microsoft Yahei","sans-serif"].join(),en:["Avenir","Verdana","Helvetica","Verdana","Arial","sans-serif"].join()}[this.$i18n.locale]}},methods:{setLocale:function(t){this.$i18n.locale=t,this.$s.locale=t},setCollection:function(){return this.magic+=1,this.$c.set(this.$route)},getCollection:function(t){return this.$c.get(this.$route,t)},fixedPosition:function(t){switch(this.$vuetify.breakpoint.name){case"xs":return 16;case"sm":return 80;case"md":return t?272:80;case"lg":return 272;case"xl":return 272}return 0},reload:function(){return window.location.reload(!0)}},mounted:function(){var t=this;this.$root.$on("databaseLoading",(function(e){t.databaseProgress=e})),this.$root.$on("databaseLoaded",(function(){t.databaseStatus=1})),this.$root.$on("databaseUpdating",(function(){t.databaseStatus=2,t.snackbar=!0})),this.$root.$on("databaseUpdated",(function(){t.databaseStatus=3,t.snackbar=!0,t.refresh=!0})),this.$root.$on("applicationUpdated",(function(){t.applicationStatus=!0,t.snackbar=!0,t.refresh=!0})),this.$root.$on("allLoaded",(function(){t.allLoaded=!0})),this.$root.$on("cleaVisibility",(function(e){t.cleaVisibility=e}))},watch:{$route:function(){this.errorHasOccured=!1},"databaseProgress.loaded":function(){var t=this;this.$root.$errorHasOccured&&!this.allLoaded&&(this.reRendering=!0,this.$nextTick((function(){t.reRendering=!1})),this.$root.$errorHasOccured=!1)}}},qi=Wi,Xi=(a("034f"),a("7496")),Yi=a("40dc"),Gi=a("f6c4"),Ki=a("f774"),Qi=a("2db4"),Ji=a("71d9"),Zi=a("2a7f"),tn=Object(k["a"])(qi,Ui,Hi,!1,null,null,null),en=tn.exports;C()(tn,{VApp:Xi["a"],VAppBar:Yi["a"],VBtn:bt["a"],VFadeTransition:St["d"],VIcon:Ct["a"],VList:Zt["a"],VListItem:ut["a"],VMain:Gi["a"],VMenu:Ie["a"],VNavigationDrawer:Ki["a"],VProgressCircular:w["a"],VSnackbar:Qi["a"],VSpacer:la["a"],VToolbar:Ji["a"],VToolbarTitle:Zi["a"]});var an=a("3835"),nn=a("2f62");i["a"].use(nn["a"]);var rn=new nn["a"].Store({state:{message:"Hello Vuex",$db:{}},actions:{},mutations:{setdb:function(t,e){var a=Object(an["a"])(e,2),i=a[0],n=a[1];t.$db[i]=n}}});a("6b93");i["a"].prototype.$size=function(t){return{xs:0,sm:4,md:8,lg:12,xl:16}[this.$vuetify.breakpoint.name]+(t||48)},i["a"].prototype.$asset={achievement:"https://asset.kirafan.cn/texture/achievement/achievement_{0}",advlibraryicon:"https://asset.kirafan.cn/texture/advlibraryicon/advlibraryicon_{0}",advscript:"https://advscript-asset.kirafan.cn/{0}/ADVScriptText_{1}_{2}",battleai:"https://database.kirafan.cn/database/battleai/BattleAIData_{0}",battleuiatlas:"https://asset.kirafan.cn/uiatlas/battleuiatlas.muast?name={0}",characard:"https://asset.kirafan.cn/texture/charauiresource/characard/characard_{0}",charaicon:"https://asset.kirafan.cn/texture/charauiresource/charaicon/charaicon_{0}",charaillustchara:"https://asset.kirafan.cn/texture/charauiresource/charaillustchara/charaillust_chara_{0}",charaillustfull:"https://asset.kirafan.cn/texture/charauiresource/charaillustfull/charaillust_full_{0}",commonuiatlas:"https://asset.kirafan.cn/uiatlas/commonuiatlas.muast?name={0}",contentslogo:"https://asset.kirafan.cn/texture/contenttitlelogo/contentslogo{0}",itemicon:"https://asset.kirafan.cn/texture/itemicon/itemicon_{0}",mergedcharaicon:"https://mergedcharaicon-asset.kirafan.cn/charaicon_{0}",orbicon:"https://asset.kirafan.cn/texture/orbicon/orbicon_{0}",ordericon:"https://asset.kirafan.cn/texture/charauiresource/ordericon/en_ordericon_{0}",originalcharacterillust:"https://asset.kirafan.cn/texture/originalcharacterillust/originalcharacterillust_{0}",originalcharactericon:"https://asset.kirafan.cn/texture/originalcharactericon/originalcharactericon_{0}",roomobjecticon:"https://asset.kirafan.cn/texture/roomobjecticon/roomobjecticon_{_0}_{1}",standpic:"https://asset.kirafan.cn/adv/standpic/{0}/{1}",townobjecticon:"https://asset.kirafan.cn/texture/townobjecticon/townobjecticon_bld_{1}",voice:"https://voice-cri.kirafan.cn/Voice_{0}/{1}",weaponicon:"https://asset.kirafan.cn/texture/weaponicon/weaponicon_wpn_{0}"},i["a"].prototype.$4=function(t){switch(Math.floor(Math.log10(t))){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return(t/1e3).toFixed(0)+"K";case 5:return(t/1e3).toFixed(0)+"K";case 6:return(t/1e6).toFixed(1)+"M";case 7:return(t/1e6).toFixed(0)+"M";case 8:return(t/1e6).toFixed(0)+"M";case 9:return(t/1e9).toFixed(1)+"G";case 10:return(t/1e9).toFixed(0)+"G";case 11:return(t/1e9).toFixed(0)+"G";default:return t>1e12?"∞":t}},i["a"].prototype.$const={sites:{calculator:"https://calc.kirafan.moe/",assets:"https://asset.kirafan.moe/",standpic:"https://asset.kirafan.moe/#/adv/standpic/{0}",cardmaker:"https://kirafanautodec.github.io/CharaCardCreater/",yarudesu:"http://kirarafan.com/",wikiwiki:"https://wikiwiki.jp/kirarafan/",moegirl:"https://zh.moegirl.org/%E9%97%AA%E8%80%80%E5%B9%BB%E6%83%B3%E6%9B%B2",miraheze:"https://kirarafantasia.miraheze.org/",timer:"https://icekirby.github.io/kirafan-timer/",translations:"https://gitlab.com/kirafan/translations"},wikiwiki:{_:"https://wikiwiki.jp/kirarafan/{0}",character:"https://wikiwiki.jp/kirarafan/クリエメイト/{0}",quest:"https://wikiwiki.jp/kirarafan/クエスト/{0}"}},i["a"].prototype.$isMoe=function(){return"wiki.kirafan.moe"==window.location.host},i["a"].prototype.$isDev=function(){return!1},i["a"].prototype.$showAd=function(){return!1},i["a"].prototype.$ad=function(t){return t&&t%12==0},i["a"].prototype.$zoom=function(){return document.body.clientWidth<=320?.8:document.body.clientWidth<=360&&document.body.clientHeight/document.body.clientWidth<2?.9:1},i["a"].prototype.$questLock=function(){return!1},i["a"].prototype.$version="Forked-version-0.0.2 Media 4.1.3",Object.defineProperty(i["a"].prototype,"$db",{get:function(){return window.vue.$store.state.$db}});a("83d6"),a("2643");i["a"].config.productionTip=!1,i["a"].config.errorHandler=function(t,e,a){window.vue.$errorHasOccured=!0,console.error("Captured in Vue.config.errorHandler: ".concat(a),t)},i["a"].prototype.$errorHasOccured=!1,i["a"].use(o.a),i["a"].use(a("395c")),i["a"].use(l["a"].Adsense),i["a"].use(l["a"].InFeedAdsense),i["a"].component(oe.name,oe),i["a"].component(ge.name,ge),i["a"].component(be.name,be),i["a"].component(Pe.name,Pe),i["a"].component(ze.name,ze),i["a"].component(Ye.name,Ye),i["a"].component(ea.name,ea),i["a"].component(ca.name,ca),i["a"].component(va.name,va),i["a"].component(Sa.name,Sa),i["a"].component(Pa.name,Pa),i["a"].component(Fa.name,Fa),i["a"].component(Ua.name,Ua),i["a"].component(Ga.name,Ga),i["a"].component(ei.name,ei),i["a"].component(Ei.name,Ei),i["a"].component(zi.name,zi);var sn=new i["a"]({vuetify:Lt,router:Mt,i18n:Pt["a"],store:rn,render:function(t){return t(en)}}).$mount("#app");window.vue=sn,String.prototype.format=function(t){arguments.length>1&&(t=arguments);var e=this;return e=e.replace(/\{(_|\^)?([A-Za-z0-9]*)\}/g,(function(e,a,i){var r=Object(n["isArray"])(t)||Object(n["isObject"])(t)?void 0===t[i]?"":t[i]:t;return"_"==a?r.toLowerCase():r})),Object(r["default"])(e)},String.prototype.upper=function(){var t=this.toString().trim();return t[0].toUpperCase()+t.slice(1)}},5849:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-divider",{staticClass:"mb-4"}),t.hideTitle?t._e():[a("p",{staticClass:"px-4 title primary--text"},[t._v(t._s(t.$t("Related Names")))])],t._l(t.related,(function(e){return e.items.length?a("div",{key:"named-related-"+t.id+"-"+e.name},[a("p",{staticClass:"px-4 subtitle-1"},[t._v(t._s(e.name))]),a("Scroller",{attrs:{icon:t.$size(64)}},[t._l(e.items,(function(i){return a("div",{key:"named-related-"+t.id+"-"+e.name+"-"+i.m_NamedType,staticClass:"ml-4",style:{width:t.$size(64)+"px"}},[a("router-link",{attrs:{to:"/named/"+i.m_NamedType}},[a("CharaIcon",{attrs:{named:"",id:i.m_NamedType,size:t.$size(64)}}),a("div",{staticClass:"caption text-center two-lines"},[t._v(t._s(t.$name(i.fullName)))])],1)],1)})),a("div",{staticClass:"pl-4"})],2)],1):t._e()}))],2)},n=[],r=(a("4de4"),a("d81d"),a("5319"),{name:"Related",props:{id:{},hideTitle:Boolean},computed:{named:function(){return this.$store.state.$db.NamedList[this.id]},sameTitle:function(){var t=this;return this.$store.state.$db.NamedListArray.filter((function(e){return e.m_NamedType!=t.named.m_NamedType&&e.m_TitleType==t.named.m_TitleType}))},sameCV:function(){var t=this;return this.$store.state.$db.NamedListArray.filter((function(e){return e.m_NamedType!=t.named.m_NamedType&&e.m_CVText.replace(/\s/g,"")==t.named.m_CVText.replace(/\s/g,"")}))},crossAdv:function(){var t=this;return this.named.crossAdvList.map((function(e){return t.$store.state.$db.NamedList[e.m_NamedType]}))},related:function(){return[{name:this.$t("Same Title").format({title:this.$name(this.$store.state.$db.TitleList[this.named.m_TitleType].m_DisplayName)}),items:this.sameTitle},{name:this.$t("Same CV").format({name:this.named.m_CVText}),items:this.sameCV},{name:this.$t("Cross Adv").format({event:this.event}),items:this.crossAdv}]}}}),s=r,o=a("2877"),l=a("6544"),u=a.n(l),c=a("ce7e"),h=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=h.exports;u()(h,{VDivider:c["a"]})},"6df9":function(t,e,a){"use strict";a("4de4"),a("f664"),a("b64b"),a("466d"),a("5319"),a("159b");var i=a("0d8f"),n={},r=new Proxy(n,{get:function(t,e){return 0===Object.keys(t).length&&(n=function(){var t=[];Object.keys(i["a"].NamedFriendshipExpArray[0]).forEach((function(e){var a=e.match(/^m_Correct/);a&&(t[e.replace(/^m_Correct/,"")]=[0])})),i["a"].NamedFriendshipExpArray.forEach((function(e){Object.keys(e).forEach((function(a){var i=a.match(/^m_Correct/);i&&t[a.replace(/^m_Correct/,"")].push(e[a])}))}));var e={};return Object.keys(t).forEach((function(a){e[a]=function(e){return t[a][e]}})),e}()),n[e]}}),s={Hp:function(t){return t},Atk:function(t){return t},Mgc:function(t){return t},Def:function(t){return t},MDef:function(t){return t},Spd:function(t){return t}},o=[{Hp:function(t){return t&&1+.2*t},Atk:function(t){return t&&1+.3*t},Def:function(t){return t&&.85+.15*t}},{Hp:function(t){return t&&1+.2*t},Mgc:function(t){return t&&1+.3*t},MDef:function(t){return t&&.85+.15*t}},{Hp:function(t){return t&&1+.2*t},Mgc:function(t){return t&&1+.3*t},MDef:function(t){return t&&.85+.15*t}},{Hp:function(t){return t&&1+.2*t},Def:function(t){return t&&1+.3*t},MDef:function(t){return t&&.85+.15*t}},{Hp:function(t){return t&&1+.2*t},Mgc:function(t){return t&&.85+.15*t},Spd:function(t){return t&&1+.3*t}}],l={Hp:function(t){return t},Atk:function(t){return t},Mgc:function(t){return t},Def:function(t){return t},MDef:function(t){return t},Spd:function(){return 0},Luck:function(){return 0}};function u(t,e,a,n,u,c,h){for(var m=i["a"].CharacterList[t],d=i["a"].ArousalLevels.filter((function(t){return t.m_Rare==m.m_Rare&&t.m_Lv==a}))[0]||{},g={},p=["Hp","Atk","Mgc","Def","MDef","Spd","Luck"],v=0,f=p;v<f.length;v++){var _=f[v];g[_]=Math.ceil(Math.fround(m["m_Init".concat(_)]*i["a"].CharacterParamGrowthList[e]["m_Growth".concat(_)][m.m_GrowthTableID])),g[_]=Math.ceil(Math.fround(g[_]*(1+.01*r[_](n))));var y=0;y+=void 0!=s[_]&&s[_](u),y+=void 0!=o[m.m_Class][_]&&o[m.m_Class][_](c[0])+o[m.m_Class][_](c[1])+o[m.m_Class][_](c[2]),g[_]=Math.ceil(Math.fround(g[_]*(1+.01*y))),g[_]=Math.ceil(Math.fround(g[_]*(1+.01*l[_](h)))),g[_]+=d["m_".concat(_)]||0}return{HP:g.Hp,ATK:g.Atk,MAT:g.Mgc,DEF:g.Def,MDF:g.MDef,SPD:g.Spd,LUK:g.Luck}}e["a"]={friendshipBuff:r,titleFacilityBuff:s,classFacilityBuff:o,status:u}},"7caa":function(t,e,a){},"83d6":function(t,e,a){"use strict";a("b64b"),a("d3b7"),a("159b"),a("96cf");var i=a("9ed0"),n=a("2b0e"),r=a("9225"),s={_:{theme:7,dark:!1,locale:r["a"].locale,characterTalentShowLuck:!1,characterShowMaxStatus:!1,characterIconFramed:!1,downloadAudioFilesDirectly:!1,loadScenarioVoice:!0,questDropsGrouped:!1,appTitleShowID:!1,advancedFilter:!1,enemyAIPattern:!0,alwaysShowJapanese:!1,showCleaOnStart:!1,showCleaInDetailPage:!1,isHomePageFooterFixed:!1,QuickJump_ShowChangedWeapons:!1,QuickJump_ShowEvent:!1},save:function(){Object(i["c"])("settings",this._)}};function o(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1={},e.next=4,regeneratorRuntime.awrap(Object(i["b"])("settings"));case 4:if(e.t2=e.sent,e.t2){e.next=7;break}e.t2={};case 7:e.t3=e.t2,e.t4=window.vue.$route.query||{},t=e.t0.assign.call(e.t0,e.t1,e.t3,e.t4),Object.keys(t).forEach((function(e){s._[e]=t[e],"showCleaOnStart"==e&&window.vue.$emit("cleaVisibility",s[e]),"theme"==e&&window.vue.$emit("theme",s[e]),"dark"==e&&window.vue.$emit("dark",s[e]),"locale"==e&&(window.vue.$i18n.locale=s[e])})),s.save();case 12:case"end":return e.stop()}}))}Object.keys(s._).forEach((function(t){Object.defineProperty(s,t,{get:function(){return this._[t]},set:function(e){this._[t]=e,this.save()}})})),o(),n["a"].prototype.$s=s,e["a"]=s},8567:function(t,e,a){t.exports=a.p+"img/claire.10cc5b55.svg"},"85ec":function(t,e,a){},8942:function(t,e,a){"use strict";a("a051")},9010:function(t,e,a){(function(t){var i,n,r;a("a4d3"),a("e01a"),a("d28b"),a("944a"),a("99af"),a("c975"),a("a15b"),a("d81d"),a("fb6a"),a("a434"),a("c19f"),a("82da"),a("ace4"),a("b0c0"),a("0c47"),a("23dc"),a("a9e3"),a("7039"),a("d3b7"),a("acd8"),a("e25e"),a("25f0"),a("3ca3"),a("5319"),a("1276"),a("498a"),a("9911"),a("cfc3"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("159b"),a("ddb0"),a("2b3d");var s=a("8962"),o=a("a128"),l=a("6b58"),u=a("36c6"),c=a("ed6d"),h=a("970b"),m=a("5bc3"),d=a("7037");!function(a,s){"object"==d(e)&&"object"==d(t)?t.exports=s():(n=[],i=s,r="function"===typeof i?i.apply(e,n):i,void 0===r||(t.exports=r))}(window,(function(){return function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==d(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/dist/",a(a.s=0)}([function(t,e,a){"use strict";var i;a.r(e),(i||(i={})).csmString=function(){function t(e){h(this,t),this.s=e}return m(t,[{key:"append",value:function(t,e){return this.s+=void 0!==e?t.substr(0,e):t,this}},{key:"expansion",value:function(t,e){for(var a=0;a<t;a++)this.append(e);return this}},{key:"getBytes",value:function(){return encodeURIComponent(this.s).replace(/%../g,"x").length}},{key:"getLength",value:function(){return this.s.length}},{key:"isLess",value:function(t){return this.s<t.s}},{key:"isGreat",value:function(t){return this.s>t.s}},{key:"isEqual",value:function(t){return this.s==t}},{key:"isEmpty",value:function(){return 0==this.s.length}}]),t}();var n,r,g,p,v,f,_,y=function(t,e,a){(function(t,e,a){v.CubismDebug.print(t,"[CSM]"+e,a)})(t,e+"\n",a)},b=function(t){console.assert(t)};n=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];y(B.LogLevel_Debug,"[D]"+t,a)},r=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];y(B.LogLevel_Info,"[I]"+t,a)},g=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];y(B.LogLevel_Warning,"[W]"+t,a)},p=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];y(B.LogLevel_Error,"[E]"+t,a)},function(t){t.CubismDebug=function(){function t(){h(this,t)}return m(t,null,[{key:"print",value:function(t,e,a){if(!(t<L.CubismFramework.getLoggingLevel())){var i=L.CubismFramework.coreLogFunction;i&&i(e.replace(/\{(\d+)\}/g,(function(t,e){return a[e]})))}}},{key:"dumpBytes",value:function(t,e,a){for(var i=0;i<a;i++)i%16==0&&i>0?this.print(t,"\n"):i%8==0&&i>0&&this.print(t,"  "),this.print(t,"{0} ",[255&e[i]]);this.print(t,"\n")}}]),t}()}(v||(v={})),function(t){var e=function t(e,a){h(this,t),this.first=null==e?null:e,this.second=null==a?null:a};t.csmPair=e;var a=function(){function t(e){h(this,t),null!=e?e<1?(this._keyValues=[],this._dummyValue=null,this._size=0):(this._keyValues=new Array(e),this._size=e):(this._keyValues=[],this._dummyValue=null,this._size=0)}return m(t,[{key:"release",value:function(){this.clear()}},{key:"appendKey",value:function(t){this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new e(t),this._size+=1}},{key:"getValue",value:function(t){for(var e=-1,a=0;a<this._size;a++)if(this._keyValues[a].first==t){e=a;break}return e>=0?this._keyValues[e].second:(this.appendKey(t),this._keyValues[this._size-1].second)}},{key:"setValue",value:function(t,e){for(var a=-1,i=0;i<this._size;i++)if(this._keyValues[i].first==t){a=i;break}a>=0?this._keyValues[a].second=e:(this.appendKey(t),this._keyValues[this._size-1].second=e)}},{key:"isExist",value:function(t){for(var e=0;e<this._size;e++)if(this._keyValues[e].first==t)return!0;return!1}},{key:"clear",value:function(){this._keyValues=void 0,this._keyValues=null,this._keyValues=[],this._size=0}},{key:"getSize",value:function(){return this._size}},{key:"prepareCapacity",value:function(e,a){e>this._keyValues.length&&(0==this._keyValues.length?(!a&&e<t.DefaultSize&&(e=t.DefaultSize),this._keyValues.length=e):(!a&&e<2*this._keyValues.length&&(e=2*this._keyValues.length),this._keyValues.length=e))}},{key:"begin",value:function(){return new i(this,0)}},{key:"end",value:function(){return new i(this,this._size)}},{key:"erase",value:function(t){var e=t._index;return e<0||this._size<=e?t:(this._keyValues.splice(e,1),--this._size,new i(this,e))}},{key:"dumpAsInt",value:function(){for(var t=0;t<this._size;t++)n("{0} ,",this._keyValues[t]),n("\n")}}]),t}();a.DefaultSize=10,t.csmMap=a;var i=function(){function t(e,i){h(this,t),this._map=null!=e?e:new a,this._index=null!=i?i:0}return m(t,[{key:"set",value:function(t){return this._index=t._index,this._map=t._map,this}},{key:"preIncrement",value:function(){return++this._index,this}},{key:"preDecrement",value:function(){return--this._index,this}},{key:"increment",value:function(){var e=new t(this._map,this._index++);return this._map=e._map,this._index=e._index,this}},{key:"decrement",value:function(){var e=new t(this._map,this._index);return this._map=e._map,this._index=e._index,this}},{key:"ptr",value:function(){return this._map._keyValues[this._index]}},{key:"notEqual",value:function(t){return this._index!=t._index||this._map!=t._map}}]),t}();t.iterator=i}(f||(f={})),function(t){var e=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;h(this,t),e<1?(this._ptr=[],this._capacity=0,this._size=0):(this._ptr=new Array(e),this._capacity=e,this._size=0)}return m(t,[{key:"at",value:function(t){return this._ptr[t]}},{key:"set",value:function(t,e){this._ptr[t]=e}},{key:"get",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Array,a=t;a<this._size;a++)e.push(this._ptr[a]);return e}},{key:"pushBack",value:function(e){this._size>=this._capacity&&this.prepareCapacity(0==this._capacity?t.s_defaultSize:2*this._capacity),this._ptr[this._size++]=e}},{key:"clear",value:function(){this._ptr.length=0,this._size=0}},{key:"getSize",value:function(){return this._size}},{key:"assign",value:function(t,e){this._size<t&&this.prepareCapacity(t);for(var a=0;a<t;a++)this._ptr[a]=e;this._size=t}},{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.updateSize(t,e,!0)}},{key:"updateSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this._size<t)if(this.prepareCapacity(t),a)for(var i=this._size;i<t;i++)this._ptr[i]="function"==typeof e?JSON.parse(JSON.stringify(new e)):e;else for(var n=this._size;n<t;n++)this._ptr[n]=e;else{var r=this._size-t;this._ptr.splice(this._size-r,r)}this._size=t}},{key:"insert",value:function(t,e,a){var i=t._index,n=e._index,r=a._index,s=r-n;this.prepareCapacity(this._size+s);var o=this._size-i;if(o>0)for(var l=0;l<o;l++)this._ptr.splice(i+l,0,null);for(var u=n;u<r;u++,i++)this._ptr[i]=e._vector._ptr[u];this._size=this._size+s}},{key:"remove",value:function(t){return!(t<0||this._size<=t)&&(this._ptr.splice(t,1),--this._size,!0)}},{key:"erase",value:function(t){var e=t._index;return e<0||this._size<=e?t:(this._ptr.splice(e,1),--this._size,new a(this,e))}},{key:"prepareCapacity",value:function(t){t>this._capacity&&(0==this._capacity?(this._ptr=new Array(t),this._capacity=t):(this._ptr.length=t,this._capacity=t))}},{key:"begin",value:function(){return 0==this._size?this.end():new a(this,0)}},{key:"end",value:function(){return new a(this,this._size)}},{key:"getOffset",value:function(e){var a=new t;return a._ptr=this.get(e),a._size=this.get(e).length,a._capacity=this.get(e).length,a}}]),t}();e.s_defaultSize=10,t.csmVector=e;var a=function(){function t(e,a){h(this,t),this._vector=null!=e?e:null,this._index=null!=a?a:0}return m(t,[{key:"set",value:function(t){return this._index=t._index,this._vector=t._vector,this}},{key:"preIncrement",value:function(){return++this._index,this}},{key:"preDecrement",value:function(){return--this._index,this}},{key:"increment",value:function(){var e=new t(this._vector,this._index++);return this._vector=e._vector,this._index=e._index,this}},{key:"decrement",value:function(){var e=new t(this._vector,this._index--);return this._vector=e._vector,this._index=e._index,this}},{key:"ptr",value:function(){return this._vector._ptr[this._index]}},{key:"substitution",value:function(t){return this._index=t._index,this._vector=t._vector,this}},{key:"notEqual",value:function(t){return this._index!=t._index||this._vector!=t._vector}}]),t}();t.iterator=a}(_||(_={}));var k,S=_.csmVector,C=f.csmMap,x=i.csmString;!function(t){var e=function(){function t(){h(this,t)}return m(t,[{key:"getRawString",value:function(t,e){return this.getString(t,e)}},{key:"toInt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t}},{key:"toFloat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t}},{key:"toBoolean",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t}},{key:"getSize",value:function(){return 0}},{key:"getArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t}},{key:"getVector",value:function(t){return t}},{key:"getMap",value:function(t){return t}},{key:"getValueByIndex",value:function(e){return t.errorValue.setErrorNotForClientCall("Error: type mismatch")}},{key:"getValueByString",value:function(e){return t.nullValue.setErrorNotForClientCall("Error: type mismatch")}},{key:"getKeys",value:function(){return t.s_dummyKeys}},{key:"isError",value:function(){return!1}},{key:"isNull",value:function(){return!1}},{key:"isBool",value:function(){return!1}},{key:"isFloat",value:function(){return!1}},{key:"isString",value:function(){return!1}},{key:"isArray",value:function(){return!1}},{key:"isMap",value:function(){return!1}},{key:"equals",value:function(t){return!1}},{key:"isStatic",value:function(){return!1}},{key:"setErrorNotForClientCall",value:function(t){return o.errorValue}}],[{key:"staticInitializeNotForClientCall",value:function(){n.trueValue=new n(!0),n.falseValue=new n(!1),o.errorValue=new o("ERROR",!0),this.nullValue=new d,t.s_dummyKeys=new S}},{key:"staticReleaseNotForClientCall",value:function(){n.trueValue=null,n.falseValue=null,o.errorValue=null,t.nullValue=null,t.s_dummyKeys=null,n.trueValue=null,n.falseValue=null,o.errorValue=null,t.nullValue=null,t.s_dummyKeys=null}}]),t}();t.Value=e;var a=function(){function t(e,a){h(this,t),this._error=null,this._lineCount=0,this._root=null,null!=e&&this.parseBytes(e,a)}return m(t,[{key:"getRoot",value:function(){return this._root}},{key:"arrayBufferToString",value:function(t){for(var e=new Uint8Array(t),a="",i=0,n=e.length;i<n;++i)a+="%"+this.pad(e[i].toString(16));return a=decodeURIComponent(a),a}},{key:"pad",value:function(t){return t.length<2?"0"+t:t}},{key:"parseBytes",value:function(t,e){var a=new Array(1),i=this.arrayBufferToString(t);if(this._root=this.parseValue(i,e,0,a),this._error){var n="\0";return n="Json parse error : @line "+(this._lineCount+1)+"\n",this._root=new s(n),r("{0}",this._root.getRawString()),!1}return null!=this._root||(this._root=new o(new x(this._error),!1),!1)}},{key:"getParseError",value:function(){return this._error}},{key:"checkEndOfFile",value:function(){return this._root.getArray()[1].equals("EOF")}},{key:"parseValue",value:function(t,e,a,r){if(this._error)return null;for(var o,l=null,u=a;u<e;u++)switch(t[u]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":var c=new Array(1);return o=$(t.slice(u),c),r[0]=t.indexOf(c[0]),new i(o);case'"':return new s(this.parseString(t,e,u+1,r));case"[":return l=this.parseArray(t,e,u+1,r),l;case"{":return l=this.parseObject(t,e,u+1,r),l;case"n":return u+3<e?(l=new d,r[0]=u+4):this._error="parse null",l;case"t":return u+3<e?(l=n.trueValue,r[0]=u+4):this._error="parse true",l;case"f":return u+4<e?(l=n.falseValue,r[0]=u+5):this._error="illegal ',' position",l;case",":return this._error="illegal ',' position",null;case"]":return r[0]=u,null;case"\n":this._lineCount++}return this._error="illegal end of value",null}},{key:"parseString",value:function(t,e,a,i){if(this._error)return null;for(var n,r,s=a,o=new x(""),l=a;s<e;s++)switch(n=t[s],n){case'"':return i[0]=s+1,o.append(t.slice(l),s-l),o.s;case"//":if(s++,s-1>l&&o.append(t.slice(l),s-l),l=s+1,s<e)switch(r=t[s],r){case"\\":o.expansion(1,"\\");break;case'"':o.expansion(1,'"');break;case"/":o.expansion(1,"/");break;case"b":o.expansion(1,"\b");break;case"f":o.expansion(1,"\f");break;case"n":o.expansion(1,"\n");break;case"r":o.expansion(1,"\r");break;case"t":o.expansion(1,"\t");break;case"u":this._error="parse string/unicord escape not supported"}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null}},{key:"parseObject",value:function(t,e,a,i){if(this._error)return null;for(var n=new p,r="",s=a,o="",l=Array(1),u=!1;s<e;s++){t:for(;s<e;s++)switch(o=t[s],o){case'"':if(r=this.parseString(t,e,s+1,l),this._error)return null;s=l[0],u=!0;break t;case"}":return i[0]=s+1,n;case":":this._error="illegal ':' position";break;case"\n":this._lineCount++}if(!u)return this._error="key not found",null;u=!1;t:for(;s<e;s++)switch(o=t[s],o){case":":u=!0,s++;break t;case"}":this._error="illegal '}' position";break;case"\n":this._lineCount++}if(!u)return this._error="':' not found",null;var c=this.parseValue(t,e,s,l);if(this._error)return null;s=l[0],n.put(r,c);t:for(;s<e;s++)switch(o=t[s],o){case",":break t;case"}":return i[0]=s+1,n;case"\n":this._lineCount++}}return this._error="illegal end of perseObject",null}},{key:"parseArray",value:function(t,e,a,i){if(this._error)return null;for(var n,r=new g,s=a,o=new Array(1);s<e;s++){var l=this.parseValue(t,e,s,o);if(this._error)return null;s=o[0],l&&r.add(l);t:for(;s<e;s++)switch(n=t[s],n){case",":break t;case"]":return i[0]=s+1,r;case"\n":++this._lineCount}}return r=void 0,this._error="illegal end of parseObject",null}}],[{key:"create",value:function(e,a){var i=new t;return i.parseBytes(e,a)?i:(t.delete(i),null)}},{key:"delete",value:function(t){}}]),t}();t.CubismJson=a;var i=function(t){function e(t){var a;return h(this,e),a=l(this,u(e).call(this)),a._value=t,a}return c(e,t),m(e,[{key:"isFloat",value:function(){return!0}},{key:"getString",value:function(t,e){return this._value=parseFloat("\0"),this._stringBuffer="\0",this._stringBuffer}},{key:"toInt",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return parseInt(this._value.toString())}},{key:"toFloat",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._value}},{key:"equals",value:function(t){return"number"==typeof t&&!Math.round(t)&&t==this._value}}]),e}(e);t.JsonFloat=i;var n=function(t){function e(t){var a;return h(this,e),a=l(this,u(e).call(this)),a._boolValue=t,a}return c(e,t),m(e,[{key:"isBool",value:function(){return!0}},{key:"toBoolean",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._boolValue}},{key:"getString",value:function(t,e){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer}},{key:"equals",value:function(t){return"boolean"==typeof t&&t==this._boolValue}},{key:"isStatic",value:function(){return!0}}]),e}(e);t.JsonBoolean=n;var s=function(t){function e(t){var a;return h(this,e),a=l(this,u(e).call(this)),"string"==typeof t&&(a._stringBuffer=t),t instanceof x&&(a._stringBuffer=t.s),a}return c(e,t),m(e,[{key:"isString",value:function(){return!0}},{key:"getString",value:function(t,e){return this._stringBuffer}},{key:"equals",value:function(t){return"string"==typeof t?this._stringBuffer==t:t instanceof x&&this._stringBuffer==t.s}}]),e}(e);t.JsonString=s;var o=function(t){function e(t,a){var i;return h(this,e),i=l(this,u(e).call(this,t)),i._isStatic=a,i}return c(e,t),m(e,[{key:"isStatic",value:function(){return this._isStatic}},{key:"setErrorNotForClientCall",value:function(t){return this._stringBuffer=t,this}},{key:"isError",value:function(){return!0}}]),e}(s);t.JsonError=o;var d=function(t){function e(){var t;return h(this,e),t=l(this,u(e).call(this)),t._stringBuffer="NullValue",t}return c(e,t),m(e,[{key:"isNull",value:function(){return!0}},{key:"getString",value:function(t,e){return this._stringBuffer}},{key:"isStatic",value:function(){return!0}}]),e}(e);t.JsonNullvalue=d;var g=function(t){function a(){var t;return h(this,a),t=l(this,u(a).call(this)),t._array=new S,t}return c(a,t),m(a,[{key:"release",value:function(){for(var t=this._array.begin();t.notEqual(this._array.end());t.preIncrement()){var e=t.ptr();e&&!e.isStatic()&&(e=void 0,e=null)}}},{key:"isArray",value:function(){return!0}},{key:"getValueByIndex",value:function(t){if(t<0||this._array.getSize()<=t)return e.errorValue.setErrorNotForClientCall("Error: index out of bounds");var a=this._array.at(t);return null==a?e.nullValue:a}},{key:"getValueByString",value:function(t){return e.errorValue.setErrorNotForClientCall("Error: type mismatch")}},{key:"getString",value:function(t,e){for(var a=e+"[\n",i=this._array.begin();i.notEqual(this._array.end());i.increment()){var n=i.ptr();this._stringBuffer+=e+""+n.getString(e+" ")+"\n"}return this._stringBuffer=a+e+"]\n",this._stringBuffer}},{key:"add",value:function(t){this._array.pushBack(t)}},{key:"getVector",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._array}},{key:"getSize",value:function(){return this._array.getSize()}}]),a}(e);t.JsonArray=g;var p=function(t){function a(){var t;return h(this,a),t=l(this,u(a).call(this)),t._map=new C,t}return c(a,t),m(a,[{key:"release",value:function(){for(var t=this._map.begin();t.notEqual(this._map.end());){var e=t.ptr().second;e&&!e.isStatic()&&(e=void 0,e=null),t.preIncrement()}}},{key:"isMap",value:function(){return!0}},{key:"getValueByString",value:function(t){if(t instanceof x){var a=this._map.getValue(t.s);return null==a?e.nullValue:a}for(var i=this._map.begin();i.notEqual(this._map.end());i.preIncrement())if(i.ptr().first==t)return null==i.ptr().second?e.nullValue:i.ptr().second;return e.nullValue}},{key:"getValueByIndex",value:function(t){return e.errorValue.setErrorNotForClientCall("Error: type mismatch")}},{key:"getString",value:function(t,e){this._stringBuffer=e+"{\n";for(var a=this._map.begin();a.notEqual(this._map.end());){var i=a.ptr().first,n=a.ptr().second;this._stringBuffer+=e+" "+i+" : "+n.getString(e+"   ")+" \n",a.preIncrement()}return this._stringBuffer+=e+"}\n",this._stringBuffer}},{key:"getMap",value:function(t){return this._map}},{key:"put",value:function(t,e){this._map.setValue(t,e)}},{key:"getKeys",value:function(){if(!this._keys){this._keys=new S;for(var t=this._map.begin();t.notEqual(this._map.end());){var e=t.ptr().first;this._keys.pushBack(e),t.preIncrement()}}return this._keys}},{key:"getSize",value:function(){return this._keys.getSize()}}]),a}(e);t.JsonMap=p}(k||(k={}));var w,I=i.csmString;!function(t){var e=function(){function t(e){h(this,t),this._id="string"!=typeof e?e:new I(e)}return m(t,[{key:"getString",value:function(){return this._id}},{key:"isEqual",value:function(e){return"string"==typeof e?this._id.isEqual(e):e instanceof I?this._id.isEqual(e.s):e instanceof t&&this._id.isEqual(e._id.s)}},{key:"isNotEqual",value:function(e){return"string"==typeof e?!this._id.isEqual(e):e instanceof I?!this._id.isEqual(e.s):e instanceof t&&!this._id.isEqual(e._id.s)}}]),t}();t.CubismId=e}(w||(w={}));var T,M,P=w.CubismId,A=_.csmVector;!function(t){t.CubismIdManager=function(){function t(){h(this,t),this._ids=new A}return m(t,[{key:"release",value:function(){for(var t=0;t<this._ids.getSize();++t)this._ids.set(t,void 0);this._ids=null}},{key:"registerIds",value:function(t){for(var e=0;e<t.length;e++)this.registerId(t[e])}},{key:"registerId",value:function(t){var e=null;return"string"!=typeof t?this.registerId(t.s):null!=(e=this.findId(t))?e:(e=new P(t),this._ids.pushBack(e),e)}},{key:"getId",value:function(t){return this.registerId(t)}},{key:"isExist",value:function(t){return"string"==typeof t?null!=this.findId(t):this.isExist(t.s)}},{key:"findId",value:function(t){for(var e=0;e<this._ids.getSize();++e)if(this._ids.at(e).getString().isEqual(t))return this._ids.at(e);return null}}]),t}()}(T||(T={})),function(t){var e=function(){function t(){h(this,t),this._tr=new Float32Array(16),this.loadIdentity()}return m(t,[{key:"loadIdentity",value:function(){var t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(t)}},{key:"setMatrix",value:function(t){for(var e=0;e<16;++e)this._tr[e]=t[e]}},{key:"getArray",value:function(){return this._tr}},{key:"getScaleX",value:function(){return this._tr[0]}},{key:"getScaleY",value:function(){return this._tr[5]}},{key:"getTranslateX",value:function(){return this._tr[12]}},{key:"getTranslateY",value:function(){return this._tr[13]}},{key:"transformX",value:function(t){return this._tr[0]*t+this._tr[12]}},{key:"transformY",value:function(t){return this._tr[5]*t+this._tr[13]}},{key:"invertTransformX",value:function(t){return(t-this._tr[12])/this._tr[0]}},{key:"invertTransformY",value:function(t){return(t-this._tr[13])/this._tr[5]}},{key:"translateRelative",value:function(e,a){var i=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,a,0,1]);t.multiply(i,this._tr,this._tr)}},{key:"translate",value:function(t,e){this._tr[12]=t,this._tr[13]=e}},{key:"translateX",value:function(t){this._tr[12]=t}},{key:"translateY",value:function(t){this._tr[13]=t}},{key:"scaleRelative",value:function(e,a){var i=new Float32Array([e,0,0,0,0,a,0,0,0,0,1,0,0,0,0,1]);t.multiply(i,this._tr,this._tr)}},{key:"scale",value:function(t,e){this._tr[0]=t,this._tr[5]=e}},{key:"multiplyByMatrix",value:function(e){t.multiply(e.getArray(),this._tr,this._tr)}},{key:"clone",value:function(){for(var e=new t,a=0;a<this._tr.length;a++)e._tr[a]=this._tr[a];return e}}],[{key:"multiply",value:function(t,e,a){for(var i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=0;n<4;++n)for(var r=0;r<4;++r)for(var s=0;s<4;++s)i[r+4*n]+=t[s+4*n]*e[r+4*s];for(var o=0;o<16;++o)a[o]=i[o]}}]),t}();t.CubismMatrix44=e}(M||(M={}));var D,V=M.CubismMatrix44;!function(t){t.CubismRenderer=function(){function t(){h(this,t),this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._model=null,this._modelColor=new e,this._mvpMatrix4x4=new V,this._mvpMatrix4x4.loadIdentity()}return m(t,[{key:"initialize",value:function(t){this._model=t}},{key:"drawModel",value:function(){null!=this.getModel()&&this.doDrawModel()}},{key:"setMvpMatrix",value:function(t){this._mvpMatrix4x4.setMatrix(t.getArray())}},{key:"getMvpMatrix",value:function(){return this._mvpMatrix4x4}},{key:"setModelColor",value:function(t,e,a,i){t<0?t=0:t>1&&(t=1),e<0?e=0:e>1&&(e=1),a<0?a=0:a>1&&(a=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=t,this._modelColor.G=e,this._modelColor.B=a,this._modelColor.A=i}},{key:"getModelColor",value:function(){return JSON.parse(JSON.stringify(this._modelColor))}},{key:"setIsPremultipliedAlpha",value:function(t){this._isPremultipliedAlpha=t}},{key:"isPremultipliedAlpha",value:function(){return this._isPremultipliedAlpha}},{key:"setIsCulling",value:function(t){this._isCulling=t}},{key:"isCulling",value:function(){return this._isCulling}},{key:"setAnisotropy",value:function(t){this._anisortopy=t}},{key:"getAnisotropy",value:function(){return this._anisortopy}},{key:"getModel",value:function(){return this._model}}],[{key:"create",value:function(){return null}},{key:"delete",value:function(t){}}]),t}(),function(t){t[t.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",t[t.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",t[t.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative"}(t.CubismBlendMode||(t.CubismBlendMode={}));var e=function t(){h(this,t),this.R=1,this.G=1,this.B=1,this.A=1};t.CubismTextureColor=e}(D||(D={}));var L,B,E=k.Value,F=T.CubismIdManager,R=D.CubismRenderer;function $(t,e){for(var a=0,i=1;;i++){var n=t.slice(i-1,i);if("e"!=n&&"-"!=n&&"E"!=n){var r=t.substring(0,i),s=Number(r);if(isNaN(s))break;a=i}}var o=parseFloat(t);return isNaN(o)&&(o=NaN),e[0]=t.slice(a),o}!function(t){var e=!1,a=!1,i=null,n=null;!function(t){t.vertexOffset=0,t.vertexStep=2}(t.Constant||(t.Constant={})),t.csmDelete=function(t){t&&(t=void 0)},t.CubismFramework=function(){function t(){h(this,t)}return m(t,null,[{key:"startUp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return r("CubismFramework.startUp() is already done."),e;if(i=t,null!=i&&Live2DCubismCore.Logging.csmSetLogFunction(i.logFunction),e=!0,e){var a=Live2DCubismCore.Version.csmGetVersion(),n=(16711680&a)>>16,s=65535&a,o=a;r("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+((4278190080&a)>>24)).slice(-2),("00"+n).slice(-2),("0000"+s).slice(-4),o)}return r("CubismFramework.startUp() is complete."),e}},{key:"cleanUp",value:function(){e=!1,a=!1,i=null,n=null}},{key:"initialize",value:function(){b(e),e?a?g("CubismFramework.initialize() skipped, already initialized."):(E.staticInitializeNotForClientCall(),n=new F,a=!0,r("CubismFramework.initialize() is complete.")):g("CubismFramework is not started.")}},{key:"dispose",value:function(){b(e),e?a?(E.staticReleaseNotForClientCall(),n.release(),n=null,R.staticRelease(),a=!1,r("CubismFramework.dispose() is complete.")):g("CubismFramework.dispose() skipped, not initialized."):g("CubismFramework is not started.")}},{key:"isStarted",value:function(){return e}},{key:"isInitialized",value:function(){return a}},{key:"coreLogFunction",value:function(t){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(t)}},{key:"getLoggingLevel",value:function(){return null!=i?i.loggingLevel:B.LogLevel_Off}},{key:"getIdManager",value:function(){return n}}]),t}()}(L||(L={}));var N=function t(){h(this,t)};!function(t){t[t.LogLevel_Verbose=0]="LogLevel_Verbose",t[t.LogLevel_Debug=1]="LogLevel_Debug",t[t.LogLevel_Info=2]="LogLevel_Info",t[t.LogLevel_Warning=3]="LogLevel_Warning",t[t.LogLevel_Error=4]="LogLevel_Error",t[t.LogLevel_Off=5]="LogLevel_Off"}(B||(B={}));var O,j=M.CubismMatrix44;!function(t){t.CubismViewMatrix=function(t){function e(){var t;return h(this,e),t=l(this,u(e).call(this)),t._screenLeft=0,t._screenRight=0,t._screenTop=0,t._screenBottom=0,t._maxLeft=0,t._maxRight=0,t._maxTop=0,t._maxBottom=0,t._maxScale=0,t._minScale=0,t}return c(e,t),m(e,[{key:"adjustTranslate",value:function(t,e){this._tr[0]*this._maxLeft+(this._tr[12]+t)>this._screenLeft&&(t=this._screenLeft-this._tr[0]*this._maxLeft-this._tr[12]),this._tr[0]*this._maxRight+(this._tr[12]+t)<this._screenRight&&(t=this._screenRight-this._tr[0]*this._maxRight-this._tr[12]),this._tr[5]*this._maxTop+(this._tr[13]+e)<this._screenTop&&(e=this._screenTop-this._tr[5]*this._maxTop-this._tr[13]),this._tr[5]*this._maxBottom+(this._tr[13]+e)>this._screenBottom&&(e=this._screenBottom-this._tr[5]*this._maxBottom-this._tr[13]);var a=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1]);j.multiply(a,this._tr,this._tr)}},{key:"adjustScale",value:function(t,e,a){var i=this.getMaxScale(),n=this.getMinScale(),r=a*this._tr[0];r<n?this._tr[0]>0&&(a=n/this._tr[0]):r>i&&this._tr[0]>0&&(a=i/this._tr[0]);var s=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1]),o=new Float32Array([a,0,0,0,0,a,0,0,0,0,1,0,0,0,0,1]),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1]);j.multiply(l,this._tr,this._tr),j.multiply(o,this._tr,this._tr),j.multiply(s,this._tr,this._tr)}},{key:"setScreenRect",value:function(t,e,a,i){this._screenLeft=t,this._screenRight=e,this._screenBottom=a,this._screenTop=i}},{key:"setMaxScreenRect",value:function(t,e,a,i){this._maxLeft=t,this._maxRight=e,this._maxTop=i,this._maxBottom=a}},{key:"setMaxScale",value:function(t){this._maxScale=t}},{key:"setMinScale",value:function(t){this._minScale=t}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"getMinScale",value:function(){return this._minScale}},{key:"isMaxScale",value:function(){return this.getScaleX()>=this._maxScale}},{key:"isMinScale",value:function(){return this.getScaleX()<=this._minScale}},{key:"getScreenLeft",value:function(){return this._screenLeft}},{key:"getScreenRight",value:function(){return this._screenRight}},{key:"getScreenBottom",value:function(){return this._screenBottom}},{key:"getScreenTop",value:function(){return this._screenTop}},{key:"getMaxLeft",value:function(){return this._maxLeft}},{key:"getMaxRight",value:function(){return this._maxRight}},{key:"getMaxBottom",value:function(){return this._maxBottom}},{key:"getMaxTop",value:function(){return this._maxTop}}]),e}(j)}(O||(O={}));var z,U,H=function(){function t(){h(this,t),this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._lastX1=0,this._lastY1=0,this._lastX2=0,this._lastY2=0,this._lastTouchDistance=0,this._deltaX=0,this._deltaY=0,this._scale=1,this._touchSingle=!1,this._flipAvailable=!1}return m(t,[{key:"getCenterX",value:function(){return this._lastX}},{key:"getCenterY",value:function(){return this._lastY}},{key:"getDeltaX",value:function(){return this._deltaX}},{key:"getDeltaY",value:function(){return this._deltaY}},{key:"getStartX",value:function(){return this._startX}},{key:"getStartY",value:function(){return this._startY}},{key:"getScale",value:function(){return this._scale}},{key:"getX",value:function(){return this._lastX}},{key:"getY",value:function(){return this._lastY}},{key:"getX1",value:function(){return this._lastX1}},{key:"getY1",value:function(){return this._lastY1}},{key:"getX2",value:function(){return this._lastX2}},{key:"getY2",value:function(){return this._lastY2}},{key:"isSingleTouch",value:function(){return this._touchSingle}},{key:"isFlickAvailable",value:function(){return this._flipAvailable}},{key:"disableFlick",value:function(){this._flipAvailable=!1}},{key:"touchesBegan",value:function(t,e){this._lastX=t,this._lastY=e,this._startX=t,this._startY=e,this._lastTouchDistance=-1,this._flipAvailable=!0,this._touchSingle=!0}},{key:"touchesMoved",value:function(t,e){this._lastX=t,this._lastY=e,this._lastTouchDistance=-1,this._touchSingle=!0}},{key:"getFlickDistance",value:function(){return this.calculateDistance(this._startX,this._startY,this._lastX,this._lastY)}},{key:"calculateDistance",value:function(t,e,a,i){return Math.sqrt((t-a)*(t-a)+(e-i)*(e-i))}},{key:"calculateMovingAmount",value:function(t,e){if(t>0!=e>0)return 0;var a=t>0?1:-1,i=Math.abs(t),n=Math.abs(e);return a*(i<n?i:n)}}]),t}();!function(t){t.Head="head",t.Face="face",t.Oppai="oppai",t.Body="body"}(z||(z={}));var W=function(t){function e(t){return h(this,e),l(this,u(e).call(this,"cleatouch",t))}return c(e,t),e}(o(Event)),q=function(t){function e(t){return h(this,e),l(this,u(e).call(this,"cleadragend",t))}return c(e,t),e}(o(Event));!function(t){var e=function(){function t(e,a){h(this,t),this.x=e,this.y=a,this.x=null==e?0:e,this.y=null==a?0:a}return m(t,[{key:"add",value:function(e){var a=new t(0,0);return a.x=this.x+e.x,a.y=this.y+e.y,a}},{key:"substract",value:function(e){var a=new t(0,0);return a.x=this.x-e.x,a.y=this.y-e.y,a}},{key:"multiply",value:function(e){var a=new t(0,0);return a.x=this.x*e.x,a.y=this.y*e.y,a}},{key:"multiplyByScaler",value:function(e){return this.multiply(new t(e,e))}},{key:"division",value:function(e){var a=new t(0,0);return a.x=this.x/e.x,a.y=this.y/e.y,a}},{key:"divisionByScalar",value:function(e){return this.division(new t(e,e))}},{key:"getLength",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"getDistanceWith",value:function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"normalize",value:function(){var t=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/t,this.y=this.y/t}},{key:"isEqual",value:function(t){return this.x==t.x&&this.y==t.y}},{key:"isNotEqual",value:function(t){return!this.isEqual(t)}}]),t}();t.CubismVector2=e}(U||(U={}));var X,Y=U.CubismVector2;!function(t){t.CubismMath=function(){function t(){h(this,t)}return m(t,null,[{key:"range",value:function(t,e,a){return t<e?t=e:t>a&&(t=a),t}},{key:"sin",value:function(t){return Math.sin(t)}},{key:"cos",value:function(t){return Math.cos(t)}},{key:"abs",value:function(t){return Math.abs(t)}},{key:"sqrt",value:function(t){return Math.sqrt(t)}},{key:"getEasingSine",value:function(t){return t<0?0:t>1?1:.5-.5*this.cos(t*Math.PI)}},{key:"max",value:function(t,e){return t>e?t:e}},{key:"min",value:function(t,e){return t>e?e:t}},{key:"degreesToRadian",value:function(t){return t/180*Math.PI}},{key:"radianToDegrees",value:function(t){return 180*t/Math.PI}},{key:"directionToRadian",value:function(t,e){for(var a=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);a<-Math.PI;)a+=2*Math.PI;for(;a>Math.PI;)a-=2*Math.PI;return a}},{key:"directionToDegrees",value:function(t,e){var a=this.directionToRadian(t,e),i=this.radianToDegrees(a);return e.x-t.x>0&&(i=-i),i}},{key:"radianToDirection",value:function(t){var e=new Y;return e.x=this.sin(t),e.y=this.cos(t),e}}]),t}()}(X||(X={}));var G,K=_.csmVector,Q=X.CubismMath;!function(t){t.ACubismMotion=function(){function t(){var e=this;h(this,t),this.setFinishedMotionHandler=function(t){return e._onFinishedMotion=t},this.getFinishedMotionHandler=function(){return e._onFinishedMotion},this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=new K}return m(t,[{key:"release",value:function(){this._weight=0}},{key:"updateParameters",value:function(t,e,a){if(e.isAvailable()&&!e.isFinished()){if(!e.isStarted()){e.setIsStarted(!0),e.setStartTime(a-this._offsetSeconds),e.setFadeInStartTime(a);var i=this.getDuration();e.getEndTime()<0&&e.setEndTime(i<=0?-1:e.getStartTime()+i)}var n=this._weight;n=n*(0==this._fadeInSeconds?1:Q.getEasingSine((a-e.getFadeInStartTime())/this._fadeInSeconds))*(0==this._fadeOutSeconds||e.getEndTime()<0?1:Q.getEasingSine((e.getEndTime()-a)/this._fadeOutSeconds)),e.setState(a,n),b(0<=n&&n<=1),this.doUpdateParameters(t,a,n,e),e.getEndTime()>0&&e.getEndTime()<a&&e.setIsFinished(!0)}}},{key:"setFadeInTime",value:function(t){this._fadeInSeconds=t}},{key:"setFadeOutTime",value:function(t){this._fadeOutSeconds=t}},{key:"getFadeOutTime",value:function(){return this._fadeOutSeconds}},{key:"getFadeInTime",value:function(){return this._fadeInSeconds}},{key:"setWeight",value:function(t){this._weight=t}},{key:"getWeight",value:function(){return this._weight}},{key:"getDuration",value:function(){return-1}},{key:"getLoopDuration",value:function(){return-1}},{key:"setOffsetTime",value:function(t){this._offsetSeconds=t}},{key:"getFiredEvent",value:function(t,e){return this._firedEventValues}}],[{key:"delete",value:function(t){t.release(),t=void 0,t=null}}]),t}()}(G||(G={}));var J,Z=G.ACubismMotion;!function(t){t.CubismMotionQueueEntry=function(){function t(){h(this,t),this._autoDelete=!1,this._motion=null,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this}return m(t,[{key:"release",value:function(){this._autoDelete&&this._motion&&Z.delete(this._motion)}},{key:"startFadeout",value:function(t,e){var a=e+t;(this._endTimeSeconds<0||a<this._endTimeSeconds)&&(this._endTimeSeconds=a)}},{key:"isFinished",value:function(){return this._finished}},{key:"isStarted",value:function(){return this._started}},{key:"getStartTime",value:function(){return this._startTimeSeconds}},{key:"getFadeInStartTime",value:function(){return this._fadeInStartTimeSeconds}},{key:"getEndTime",value:function(){return this._endTimeSeconds}},{key:"setStartTime",value:function(t){this._startTimeSeconds=t}},{key:"setFadeInStartTime",value:function(t){this._fadeInStartTimeSeconds=t}},{key:"setEndTime",value:function(t){this._endTimeSeconds=t}},{key:"setIsFinished",value:function(t){this._finished=t}},{key:"setIsStarted",value:function(t){this._started=t}},{key:"isAvailable",value:function(){return this._available}},{key:"setIsAvailable",value:function(t){this._available=t}},{key:"setState",value:function(t,e){this._stateTimeSeconds=t,this._stateWeight=e}},{key:"getStateTime",value:function(){return this._stateTimeSeconds}},{key:"getStateWeight",value:function(){return this._stateWeight}},{key:"getLastCheckEventTime",value:function(){return this._lastEventCheckSeconds}},{key:"setLastCheckEventTime",value:function(t){this._lastEventCheckSeconds=t}}]),t}()}(J||(J={}));var tt,et=_.csmVector,at=J.CubismMotionQueueEntry;!function(t){t.CubismMotionQueueManager=function(){function e(){h(this,e),this._userTimeSeconds=0,this._eventCallBack=null,this._eventCustomData=null,this._motions=new et}return m(e,[{key:"release",value:function(){for(var t=0;t<this._motions.getSize();++t)this._motions.at(t)&&(this._motions.at(t).release(),this._motions.set(t,void 0),this._motions.set(t,null));this._motions=null}},{key:"startMotion",value:function(e,a,i){if(null==e)return t.InvalidMotionQueueEntryHandleValue;for(var n=null,r=0;r<this._motions.getSize();++r)n=this._motions.at(r),null!=n&&n.startFadeout(n._motion.getFadeOutTime(),i);return n=new at,n._autoDelete=a,n._motion=e,this._motions.pushBack(n),n._motionQueueEntryHandle}},{key:"isFinished",value:function(){for(var t=this._motions.begin();t.notEqual(this._motions.end());){var e=t.ptr();if(null!=e)if(null!=e._motion){if(!e.isFinished())return!1;t.preIncrement()}else e.release(),e=void 0,e=null,t=this._motions.erase(t);else t=this._motions.erase(t)}return!0}},{key:"isFinishedByHandle",value:function(t){for(var e=this._motions.begin();e.notEqual(this._motions.end());e.increment()){var a=e.ptr();if(null!=a&&a._motionQueueEntryHandle==t&&!a.isFinished())return!1}return!0}},{key:"stopAllMotions",value:function(){for(var t=this._motions.begin();t.notEqual(this._motions.end());){var e=t.ptr();null!=e?(e.release(),e=void 0,e=null,t=this._motions.erase(t)):t=this._motions.erase(t)}}},{key:"getCubismMotionQueueEntry",value:function(t){for(var e=this._motions.begin();e.notEqual(this._motions.end());e.preIncrement()){var a=e.ptr();if(null!=a&&a._motionQueueEntryHandle==t)return a}return null}},{key:"setEventCallback",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._eventCallBack=t,this._eventCustomData=e}},{key:"doUpdateMotion",value:function(t,e){for(var a=!1,i=this._motions.begin();i.notEqual(this._motions.end());){var n=i.ptr();if(null!=n){var r=n._motion;if(null!=r){r.updateParameters(t,n,e),a=!0;for(var s=r.getFiredEvent(n.getLastCheckEventTime()-n.getStartTime(),e-n.getStartTime()),o=0;o<s.getSize();++o)this._eventCallBack(this,s.at(o),this._eventCustomData);n.setLastCheckEventTime(e),n.isFinished()?(n.release(),n=void 0,n=null,i=this._motions.erase(i)):i.preIncrement()}else n.release(),n=void 0,n=null,i=this._motions.erase(i)}else i=this._motions.erase(i)}return a}}]),e}(),t.InvalidMotionQueueEntryHandleValue=-1}(tt||(tt={}));var it,nt=tt.CubismMotionQueueManager;!function(t){t.CubismMotionManager=function(t){function e(){var t;return h(this,e),t=l(this,u(e).call(this)),t._currentPriority=0,t._reservePriority=0,t}return c(e,t),m(e,[{key:"getCurrentPriority",value:function(){return this._currentPriority}},{key:"getReservePriority",value:function(){return this._reservePriority}},{key:"setReservePriority",value:function(t){this._reservePriority=t}},{key:"startMotionPriority",value:function(t,a,i){return i==this._reservePriority&&(this._reservePriority=0),this._currentPriority=i,s(u(e.prototype),"startMotion",this).call(this,t,a,this._userTimeSeconds)}},{key:"updateMotion",value:function(t,a){this._userTimeSeconds+=a;var i=s(u(e.prototype),"doUpdateMotion",this).call(this,t,this._userTimeSeconds);return this.isFinished()&&(this._currentPriority=0),i}},{key:"reserveMotion",value:function(t){return!(t<=this._reservePriority||t<=this._currentPriority)&&(this._reservePriority=t,!0)}}]),e}(nt)}(it||(it={}));var rt,st=X.CubismMath;!function(t){t.CubismTargetPoint=function(){function t(){h(this,t),this._faceTargetX=0,this._faceTargetY=0,this._faceX=0,this._faceY=0,this._faceVX=0,this._faceVY=0,this._lastTimeSeconds=0,this._userTimeSeconds=0}return m(t,[{key:"update",value:function(t){if(this._userTimeSeconds+=t,0!=this._lastTimeSeconds){var e=30*(this._userTimeSeconds-this._lastTimeSeconds);this._lastTimeSeconds=this._userTimeSeconds;var a=e*(4/30)/4.5,i=this._faceTargetX-this._faceX,n=this._faceTargetY-this._faceY;if(!(st.abs(i)<=.01&&st.abs(n)<=.01)){var r=st.sqrt(i*i+n*n),s=4/30*n/r,o=4/30*i/r-this._faceVX,l=s-this._faceVY,u=st.sqrt(o*o+l*l);(u<-a||u>a)&&(o*=a/u,l*=a/u),this._faceVX+=o,this._faceVY+=l;var c=.5*(st.sqrt(a*a+16*a*r-8*a*r)-a),h=st.sqrt(this._faceVX*this._faceVX+this._faceVY*this._faceVY);h>c&&(this._faceVX*=c/h,this._faceVY*=c/h),this._faceX+=this._faceVX,this._faceY+=this._faceVY}}else this._lastTimeSeconds=this._userTimeSeconds}},{key:"getX",value:function(){return this._faceX}},{key:"getY",value:function(){return this._faceY}},{key:"set",value:function(t,e){this._faceTargetX=t,this._faceTargetY=e}}]),t}()}(rt||(rt={}));var ot,lt=M.CubismMatrix44;!function(t){t.CubismModelMatrix=function(t){function e(t,a){var i;return h(this,e),i=l(this,u(e).call(this)),i._width=void 0!==t?t:0,i._height=void 0!==a?a:0,i.setHeight(1),i}return c(e,t),m(e,[{key:"setWidth",value:function(t){var e=t/this._width,a=e;this.scale(e,a)}},{key:"setHeight",value:function(t){var e=t/this._height,a=e;this.scale(e,a)}},{key:"setPosition",value:function(t,e){this.translate(t,e)}},{key:"setCenterPosition",value:function(t,e){this.centerX(t),this.centerY(e)}},{key:"top",value:function(t){this.setY(t)}},{key:"bottom",value:function(t){var e=this._height*this.getScaleY();this.translateY(t-e)}},{key:"left",value:function(t){this.setX(t)}},{key:"right",value:function(t){var e=this._width*this.getScaleX();this.translateX(t-e)}},{key:"centerX",value:function(t){var e=this._width*this.getScaleX();this.translateX(t-e/2)}},{key:"setX",value:function(t){this.translateX(t)}},{key:"centerY",value:function(t){var e=this._height*this.getScaleY();this.translateY(t-e/2)}},{key:"setY",value:function(t){this.translateY(t)}},{key:"setupFromLayout",value:function(t){for(var e=t.begin();e.notEqual(t.end());e.preIncrement()){var a=e.ptr().first,i=e.ptr().second;"width"==a?this.setWidth(i):"height"==a&&this.setHeight(i)}for(var n=t.begin();n.notEqual(t.end());n.preIncrement()){var r=n.ptr().first,s=n.ptr().second;"x"==r?this.setX(s):"y"==r?this.setY(s):"center_x"==r?this.centerX(s):"center_y"==r?this.centerY(s):"top"==r?this.top(s):"bottom"==r?this.bottom(s):"left"==r?this.left(s):"right"==r&&this.right(s)}}}]),e}(lt)}(ot||(ot={}));var ut,ct=L.CubismFramework,ht=D.CubismBlendMode,mt=_.csmVector,dt=f.csmMap;!function(t){t.CubismModel=function(){function t(e){h(this,t),this._model=e,this._parameterValues=null,this._parameterMaximumValues=null,this._parameterMinimumValues=null,this._partOpacities=null,this._savedParameters=new mt,this._parameterIds=new mt,this._drawableIds=new mt,this._partIds=new mt,this._notExistPartId=new dt,this._notExistParameterId=new dt,this._notExistParameterValues=new dt,this._notExistPartOpacities=new dt}return m(t,[{key:"update",value:function(){this._model.update(),this._model.drawables.resetDynamicFlags()}},{key:"getCanvasWidth",value:function(){return null==this._model?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}},{key:"getCanvasHeight",value:function(){return null==this._model?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}},{key:"saveParameters",value:function(){for(var t=this._model.parameters.count,e=this._savedParameters.getSize(),a=0;a<t;++a)a<e?this._savedParameters.set(a,this._parameterValues[a]):this._savedParameters.pushBack(this._parameterValues[a])}},{key:"getModel",value:function(){return this._model}},{key:"getPartIndex",value:function(t){var e,a=this._model.parts.count;for(e=0;e<a;++e)if(t==this._partIds.at(e))return e;return this._notExistPartId.isExist(t)?this._notExistPartId.getValue(t):(e=a+this._notExistPartId.getSize(),this._notExistPartId.setValue(t,e),this._notExistPartOpacities.appendKey(e),e)}},{key:"getPartCount",value:function(){return this._model.parts.count}},{key:"setPartOpacityByIndex",value:function(t,e){this._notExistPartOpacities.isExist(t)?this._notExistPartOpacities.setValue(t,e):(b(0<=t&&t<this.getPartCount()),this._partOpacities[t]=e)}},{key:"setPartOpacityById",value:function(t,e){var a=this.getPartIndex(t);a<0||this.setPartOpacityByIndex(a,e)}},{key:"getPartOpacityByIndex",value:function(t){return this._notExistPartOpacities.isExist(t)?this._notExistPartOpacities.getValue(t):(b(0<=t&&t<this.getPartCount()),this._partOpacities[t])}},{key:"getPartOpacityById",value:function(t){var e=this.getPartIndex(t);return e<0?0:this.getPartOpacityByIndex(e)}},{key:"getParameterIndex",value:function(t){var e,a=this._model.parameters.count;for(e=0;e<a;++e)if(t==this._parameterIds.at(e))return e;return this._notExistParameterId.isExist(t)?this._notExistParameterId.getValue(t):(e=this._model.parameters.count+this._notExistParameterId.getSize(),this._notExistParameterId.setValue(t,e),this._notExistParameterValues.appendKey(e),e)}},{key:"getParameterCount",value:function(){return this._model.parameters.count}},{key:"getParameterMaximumValue",value:function(t){return this._model.parameters.maximumValues[t]}},{key:"getParameterMinimumValue",value:function(t){return this._model.parameters.minimumValues[t]}},{key:"getParameterDefaultValue",value:function(t){return this._model.parameters.defaultValues[t]}},{key:"getParameterValueByIndex",value:function(t){return this._notExistParameterValues.isExist(t)?this._notExistParameterValues.getValue(t):(b(0<=t&&t<this.getParameterCount()),this._parameterValues[t])}},{key:"getParameterValueById",value:function(t){var e=this.getParameterIndex(t);return this.getParameterValueByIndex(e)}},{key:"setParameterValueByIndex",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._notExistParameterValues.isExist(t)?this._notExistParameterValues.setValue(t,1==a?e:this._notExistParameterValues.getValue(t)*(1-a)+e*a):(b(0<=t&&t<this.getParameterCount()),this._model.parameters.maximumValues[t]<e&&(e=this._model.parameters.maximumValues[t]),this._model.parameters.minimumValues[t]>e&&(e=this._model.parameters.minimumValues[t]),this._parameterValues[t]=1==a?e:this._parameterValues[t]=this._parameterValues[t]*(1-a)+e*a)}},{key:"setParameterValueById",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.getParameterIndex(t);this.setParameterValueByIndex(i,e,a)}},{key:"addParameterValueByIndex",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.setParameterValueByIndex(t,this.getParameterValueByIndex(t)+e*a)}},{key:"addParameterValueById",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.getParameterIndex(t);this.addParameterValueByIndex(i,e,a)}},{key:"multiplyParameterValueById",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.getParameterIndex(t);this.multiplyParameterValueByIndex(i,e,a)}},{key:"multiplyParameterValueByIndex",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.setParameterValueByIndex(t,this.getParameterValueByIndex(t)*(1+(e-1)*a))}},{key:"getDrawableIndex",value:function(t){for(var e=this._model.drawables.count,a=0;a<e;++a)if(this._drawableIds.at(a)==t)return a;return-1}},{key:"getDrawableCount",value:function(){return this._model.drawables.count}},{key:"getDrawableId",value:function(t){var e=this._model.drawables.ids;return ct.getIdManager().getId(e[t])}},{key:"getDrawableRenderOrders",value:function(){return this._model.drawables.renderOrders}},{key:"getDrawableTextureIndices",value:function(t){return this._model.drawables.textureIndices[t]}},{key:"getDrawableDynamicFlagVertexPositionsDidChange",value:function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(e[t])}},{key:"getDrawableVertexIndexCount",value:function(t){return this._model.drawables.indexCounts[t]}},{key:"getDrawableVertexCount",value:function(t){return this._model.drawables.vertexCounts[t]}},{key:"getDrawableVertices",value:function(t){return this.getDrawableVertexPositions(t)}},{key:"getDrawableVertexIndices",value:function(t){return this._model.drawables.indices[t]}},{key:"getDrawableVertexPositions",value:function(t){return this._model.drawables.vertexPositions[t]}},{key:"getDrawableVertexUvs",value:function(t){return this._model.drawables.vertexUvs[t]}},{key:"getDrawableOpacity",value:function(t){return this._model.drawables.opacities[t]}},{key:"getDrawableCulling",value:function(t){var e=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(e[t])}},{key:"getDrawableBlendMode",value:function(t){var e=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(e[t])?ht.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(e[t])?ht.CubismBlendMode_Multiplicative:ht.CubismBlendMode_Normal}},{key:"getDrawableInvertedMaskBit",value:function(t){var e=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(e[t])}},{key:"getDrawableMasks",value:function(){return this._model.drawables.masks}},{key:"getDrawableMaskCounts",value:function(){return this._model.drawables.maskCounts}},{key:"isUsingMasking",value:function(){for(var t=0;t<this._model.drawables.count;++t)if(!(this._model.drawables.maskCounts[t]<=0))return!0;return!1}},{key:"getDrawableDynamicFlagIsVisible",value:function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(e[t])}},{key:"getDrawableDynamicFlagVisibilityDidChange",value:function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(e[t])}},{key:"getDrawableDynamicFlagOpacityDidChange",value:function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(e[t])}},{key:"getDrawableDynamicFlagRenderOrderDidChange",value:function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(e[t])}},{key:"loadParameters",value:function(){var t=this._model.parameters.count,e=this._savedParameters.getSize();t>e&&(t=e);for(var a=0;a<t;++a)this._parameterValues[a]=this._savedParameters.at(a)}},{key:"initialize",value:function(){b(this._model),this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;var t=this._model.parameters.ids,e=this._model.parameters.count;this._parameterIds.prepareCapacity(e);for(var a=0;a<e;++a)this._parameterIds.pushBack(ct.getIdManager().getId(t[a]));var i=this._model.parts.ids,n=this._model.parts.count;this._partIds.prepareCapacity(n);for(var r=0;r<n;++r)this._partIds.pushBack(ct.getIdManager().getId(i[r]));var s=this._model.drawables.ids,o=this._model.drawables.count;this._drawableIds.prepareCapacity(o);for(var l=0;l<o;++l)this._drawableIds.pushBack(ct.getIdManager().getId(s[l]))}},{key:"release",value:function(){this._model.release(),this._model=null}}]),t}()}(ut||(ut={}));var gt,pt=ut.CubismModel;!function(t){var e=function(){function t(e){h(this,t),this._moc=e,this._modelCount=0}return m(t,[{key:"createModel",value:function(){var t=null,e=Live2DCubismCore.Model.fromMoc(this._moc);return e&&(t=new pt(e),t.initialize(),++this._modelCount),t}},{key:"deleteModel",value:function(t){null!=t&&(t.release(),t=null,--this._modelCount)}},{key:"release",value:function(){b(0==this._modelCount),this._moc._release(),this._moc=null}}],[{key:"create",value:function(e){var a=null,i=Live2DCubismCore.Moc.fromArrayBuffer(e);return i&&(a=new t(i)),a}},{key:"delete",value:function(t){t._moc._release(),t._moc=null,t=null}}]),t}();t.CubismMoc=e}(gt||(gt={}));var vt,ft=i.csmString,_t=L.CubismFramework,yt=k.CubismJson;!function(t){var e="Meta";t.CubismMotionJson=function(){function t(e,a){h(this,t),this._json=yt.create(e,a)}return m(t,[{key:"release",value:function(){yt.delete(this._json)}},{key:"getMotionDuration",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("Duration").toFloat()}},{key:"isMotionLoop",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("Loop").toBoolean()}},{key:"getMotionCurveCount",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("CurveCount").toInt()}},{key:"getMotionFps",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("Fps").toFloat()}},{key:"getMotionTotalSegmentCount",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalSegmentCount").toInt()}},{key:"getMotionTotalPointCount",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalPointCount").toInt()}},{key:"isExistMotionFadeInTime",value:function(){return!this._json.getRoot().getValueByString(e).getValueByString("FadeInTime").isNull()}},{key:"isExistMotionFadeOutTime",value:function(){return!this._json.getRoot().getValueByString(e).getValueByString("FadeOutTime").isNull()}},{key:"getMotionFadeInTime",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("FadeInTime").toFloat()}},{key:"getMotionFadeOutTime",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("FadeOutTime").toFloat()}},{key:"getMotionCurveTarget",value:function(t){return this._json.getRoot().getValueByString("Curves").getValueByIndex(t).getValueByString("Target").getRawString()}},{key:"getMotionCurveId",value:function(t){return _t.getIdManager().getId(this._json.getRoot().getValueByString("Curves").getValueByIndex(t).getValueByString("Id").getRawString())}},{key:"isExistMotionCurveFadeInTime",value:function(t){return!this._json.getRoot().getValueByString("Curves").getValueByIndex(t).getValueByString("FadeInTime").isNull()}},{key:"isExistMotionCurveFadeOutTime",value:function(t){return!this._json.getRoot().getValueByString("Curves").getValueByIndex(t).getValueByString("FadeOutTime").isNull()}},{key:"getMotionCurveFadeInTime",value:function(t){return this._json.getRoot().getValueByString("Curves").getValueByIndex(t).getValueByString("FadeInTime").toFloat()}},{key:"getMotionCurveFadeOutTime",value:function(t){return this._json.getRoot().getValueByString("Curves").getValueByIndex(t).getValueByString("FadeOutTime").toFloat()}},{key:"getMotionCurveSegmentCount",value:function(t){return this._json.getRoot().getValueByString("Curves").getValueByIndex(t).getValueByString("Segments").getVector().getSize()}},{key:"getMotionCurveSegment",value:function(t,e){return this._json.getRoot().getValueByString("Curves").getValueByIndex(t).getValueByString("Segments").getValueByIndex(e).toFloat()}},{key:"getEventCount",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("UserDataCount").toInt()}},{key:"getTotalEventValueSize",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalUserDataSize").toInt()}},{key:"getEventTime",value:function(t){return this._json.getRoot().getValueByString("UserData").getValueByIndex(t).getValueByString("Time").toInt()}},{key:"getEventValue",value:function(t){return new ft(this._json.getRoot().getValueByString("UserData").getValueByIndex(t).getValueByString("Value").getRawString())}}]),t}()}(vt||(vt={}));var bt,kt=_.csmVector;!function(t){var e;!function(t){t[t.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",t[t.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",t[t.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity"}(e=t.CubismMotionCurveTarget||(t.CubismMotionCurveTarget={})),function(t){t[t.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",t[t.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",t[t.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",t[t.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped"}(t.CubismMotionSegmentType||(t.CubismMotionSegmentType={})),t.CubismMotionPoint=function(){function t(){h(this,t),this.time=0,this.value=0}return t}(),t.CubismMotionSegment=function(){function t(){h(this,t),this.evaluate=null,this.basePointIndex=0,this.segmentType=0}return t}(),t.CubismMotionCurve=function(){function t(){h(this,t),this.type=e.CubismMotionCurveTarget_Model,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}return t}(),t.CubismMotionEvent=function(){function t(){h(this,t),this.fireTime=0}return t}(),t.CubismMotionData=function(){function t(){h(this,t),this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=new kt,this.segments=new kt,this.points=new kt,this.events=new kt}return t}()}(bt||(bt={}));var St,Ct=i.csmString,xt=bt.CubismMotionData,wt=bt.CubismMotionSegment,It=bt.CubismMotionPoint,Tt=bt.CubismMotionEvent,Mt=bt.CubismMotionSegmentType,Pt=bt.CubismMotionCurve,At=bt.CubismMotionCurveTarget,Dt=X.CubismMath,Vt=L.CubismFramework,Lt=G.ACubismMotion,Bt=vt.CubismMotionJson;!function(t){function e(t,e,a){var i=new It;return i.time=t.time+(e.time-t.time)*a,i.value=t.value+(e.value-t.value)*a,i}function a(t,e){var a=(e-t[0].time)/(t[1].time-t[0].time);return a<0&&(a=0),t[0].value+(t[1].value-t[0].value)*a}function i(t,a){var i=(a-t[0].time)/(t[3].time-t[0].time);i<0&&(i=0);var n=e(t[0],t[1],i),r=e(t[1],t[2],i),s=e(t[2],t[3],i),o=e(n,r,i),l=e(r,s,i);return e(o,l,i).value}function r(t,e){return t[0].value}function s(t,e){return t[1].value}function o(t,e,a){for(var i=t.curves.at(e),n=-1,r=i.baseSegmentIndex+i.segmentCount,s=0,o=i.baseSegmentIndex;o<r;++o)if(s=t.segments.at(o).basePointIndex+(t.segments.at(o).segmentType==Mt.CubismMotionSegmentType_Bezier?3:1),t.points.at(s).time>a){n=o;break}if(-1==n)return t.points.at(s).value;var l=t.segments.at(n);return l.evaluate(t.points.get(l.basePointIndex),a)}var d=function(t){function e(){var t;return h(this,e),t=l(this,u(e).call(this)),t._sourceFrameRate=30,t._loopDurationSeconds=-1,t._isLoop=!1,t._isLoopFadeIn=!0,t._lastWeight=0,t._motionData=null,t._modelCurveIdEyeBlink=null,t._modelCurveIdLipSync=null,t._eyeBlinkParameterIds=null,t._lipSyncParameterIds=null,t}return c(e,t),m(e,[{key:"doUpdateParameters",value:function(t,e,a,i){null==this._modelCurveIdEyeBlink&&(this._modelCurveIdEyeBlink=Vt.getIdManager().getId("EyeBlink")),null==this._modelCurveIdLipSync&&(this._modelCurveIdLipSync=Vt.getIdManager().getId("LipSync"));var r=e-i.getStartTime();r<0&&(r=0);var s=Number.MAX_VALUE,l=Number.MAX_VALUE,u=0,c=0;this._eyeBlinkParameterIds.getSize()>64&&n("too many eye blink targets : {0}",this._eyeBlinkParameterIds.getSize()),this._lipSyncParameterIds.getSize()>64&&n("too many lip sync targets : {0}",this._lipSyncParameterIds.getSize());var h,m,d,g=this._fadeInSeconds<=0?1:Dt.getEasingSine((e-i.getFadeInStartTime())/this._fadeInSeconds),p=this._fadeOutSeconds<=0||i.getEndTime()<0?1:Dt.getEasingSine((i.getEndTime()-e)/this._fadeOutSeconds),v=r;if(this._isLoop)for(;v>this._motionData.duration;)v-=this._motionData.duration;var f=this._motionData.curves;for(m=0;m<this._motionData.curveCount&&f.at(m).type==At.CubismMotionCurveTarget_Model;++m)h=o(this._motionData,m,v),f.at(m).id==this._modelCurveIdEyeBlink?l=h:f.at(m).id==this._modelCurveIdLipSync&&(s=h);for(;m<this._motionData.curveCount&&f.at(m).type==At.CubismMotionCurveTarget_Parameter;++m)if(d=t.getParameterIndex(f.at(m).id),-1!=d){var _=t.getParameterValueByIndex(d);if(h=o(this._motionData,m,v),l!=Number.MAX_VALUE)for(var y=0;y<this._eyeBlinkParameterIds.getSize()&&y<64;++y)if(this._eyeBlinkParameterIds.at(y)==f.at(m).id){h*=l,c|=1<<y;break}if(s!=Number.MAX_VALUE)for(var b=0;b<this._lipSyncParameterIds.getSize()&&b<64;++b)if(this._lipSyncParameterIds.at(b)==f.at(m).id){h+=s,u|=1<<b;break}var k=void 0;if(f.at(m).fadeInTime<0&&f.at(m).fadeOutTime<0)k=_+(h-_)*a;else{var S=void 0,C=void 0;S=f.at(m).fadeInTime<0?g:0==f.at(m).fadeInTime?1:Dt.getEasingSine((e-i.getFadeInStartTime())/f.at(m).fadeInTime),C=f.at(m).fadeOutTime<0?p:0==f.at(m).fadeOutTime||i.getEndTime()<0?1:Dt.getEasingSine((i.getEndTime()-e)/f.at(m).fadeOutTime),k=_+(h-_)*(this._weight*S*C)}t.setParameterValueByIndex(d,k,1)}if(l!=Number.MAX_VALUE)for(var x=0;x<this._eyeBlinkParameterIds.getSize()&&x<64;++x){var w=t.getParameterValueById(this._eyeBlinkParameterIds.at(x));if(!(c>>x&1)){var I=w+(l-w)*a;t.setParameterValueById(this._eyeBlinkParameterIds.at(x),I)}}if(s!=Number.MAX_VALUE)for(var T=0;T<this._lipSyncParameterIds.getSize()&&T<64;++T){var M=t.getParameterValueById(this._lipSyncParameterIds.at(T));if(!(u>>T&1)){var P=M+(s-M)*a;t.setParameterValueById(this._lipSyncParameterIds.at(T),P)}}for(;m<this._motionData.curveCount&&f.at(m).type==At.CubismMotionCurveTarget_PartOpacity;++m)d=t.getPartIndex(f.at(m).id),-1!=d&&(h=o(this._motionData,m,v),t.setPartOpacityByIndex(d,h));r>=this._motionData.duration&&(this._isLoop?(i.setStartTime(e),this._isLoopFadeIn&&i.setFadeInStartTime(e)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=a}},{key:"setIsLoop",value:function(t){this._isLoop=t}},{key:"isLoop",value:function(){return this._isLoop}},{key:"setIsLoopFadeIn",value:function(t){this._isLoopFadeIn=t}},{key:"isLoopFadeIn",value:function(){return this._isLoopFadeIn}},{key:"getDuration",value:function(){return this._isLoop?-1:this._loopDurationSeconds}},{key:"getLoopDuration",value:function(){return this._loopDurationSeconds}},{key:"setParameterFadeInTime",value:function(t,e){for(var a=this._motionData.curves,i=0;i<this._motionData.curveCount;++i)if(t==a.at(i).id)return void(a.at(i).fadeInTime=e)}},{key:"setParameterFadeOutTime",value:function(t,e){for(var a=this._motionData.curves,i=0;i<this._motionData.curveCount;++i)if(t==a.at(i).id)return void(a.at(i).fadeOutTime=e)}},{key:"getParameterFadeInTime",value:function(t){for(var e=this._motionData.curves,a=0;a<this._motionData.curveCount;++a)if(t==e.at(a).id)return e.at(a).fadeInTime;return-1}},{key:"getParameterFadeOutTime",value:function(t){for(var e=this._motionData.curves,a=0;a<this._motionData.curveCount;++a)if(t==e.at(a).id)return e.at(a).fadeOutTime;return-1}},{key:"setEffectIds",value:function(t,e){this._eyeBlinkParameterIds=t,this._lipSyncParameterIds=e}},{key:"release",value:function(){this._motionData=void 0,this._motionData=null}},{key:"parse",value:function(t,e){this._motionData=new xt;var n=new Bt(t,e);this._motionData.duration=n.getMotionDuration(),this._motionData.loop=n.isMotionLoop(),this._motionData.curveCount=n.getMotionCurveCount(),this._motionData.fps=n.getMotionFps(),this._motionData.eventCount=n.getEventCount(),n.isExistMotionFadeInTime()?this._fadeInSeconds=n.getMotionFadeInTime()<0?1:n.getMotionFadeInTime():this._fadeInSeconds=1,n.isExistMotionFadeOutTime()?this._fadeOutSeconds=n.getMotionFadeOutTime()<0?1:n.getMotionFadeOutTime():this._fadeOutSeconds=1,this._motionData.curves.updateSize(this._motionData.curveCount,Pt,!0),this._motionData.segments.updateSize(n.getMotionTotalSegmentCount(),wt,!0),this._motionData.points.updateSize(n.getMotionTotalPointCount(),It,!0),this._motionData.events.updateSize(this._motionData.eventCount,Tt,!0);for(var o=0,l=0,u=0;u<this._motionData.curveCount;++u){"Model"==n.getMotionCurveTarget(u)?this._motionData.curves.at(u).type=At.CubismMotionCurveTarget_Model:"Parameter"==n.getMotionCurveTarget(u)?this._motionData.curves.at(u).type=At.CubismMotionCurveTarget_Parameter:"PartOpacity"==n.getMotionCurveTarget(u)&&(this._motionData.curves.at(u).type=At.CubismMotionCurveTarget_PartOpacity),this._motionData.curves.at(u).id=n.getMotionCurveId(u),this._motionData.curves.at(u).baseSegmentIndex=l,this._motionData.curves.at(u).fadeInTime=n.isExistMotionCurveFadeInTime(u)?n.getMotionCurveFadeInTime(u):-1,this._motionData.curves.at(u).fadeOutTime=n.isExistMotionCurveFadeOutTime(u)?n.getMotionCurveFadeOutTime(u):-1;for(var c=0;c<n.getMotionCurveSegmentCount(u);){switch(0==c?(this._motionData.segments.at(l).basePointIndex=o,this._motionData.points.at(o).time=n.getMotionCurveSegment(u,c),this._motionData.points.at(o).value=n.getMotionCurveSegment(u,c+1),o+=1,c+=2):this._motionData.segments.at(l).basePointIndex=o-1,n.getMotionCurveSegment(u,c)){case Mt.CubismMotionSegmentType_Linear:this._motionData.segments.at(l).segmentType=Mt.CubismMotionSegmentType_Linear,this._motionData.segments.at(l).evaluate=a,this._motionData.points.at(o).time=n.getMotionCurveSegment(u,c+1),this._motionData.points.at(o).value=n.getMotionCurveSegment(u,c+2),o+=1,c+=3;break;case Mt.CubismMotionSegmentType_Bezier:this._motionData.segments.at(l).segmentType=Mt.CubismMotionSegmentType_Bezier,this._motionData.segments.at(l).evaluate=i,this._motionData.points.at(o).time=n.getMotionCurveSegment(u,c+1),this._motionData.points.at(o).value=n.getMotionCurveSegment(u,c+2),this._motionData.points.at(o+1).time=n.getMotionCurveSegment(u,c+3),this._motionData.points.at(o+1).value=n.getMotionCurveSegment(u,c+4),this._motionData.points.at(o+2).time=n.getMotionCurveSegment(u,c+5),this._motionData.points.at(o+2).value=n.getMotionCurveSegment(u,c+6),o+=3,c+=7;break;case Mt.CubismMotionSegmentType_Stepped:this._motionData.segments.at(l).segmentType=Mt.CubismMotionSegmentType_Stepped,this._motionData.segments.at(l).evaluate=r,this._motionData.points.at(o).time=n.getMotionCurveSegment(u,c+1),this._motionData.points.at(o).value=n.getMotionCurveSegment(u,c+2),o+=1,c+=3;break;case Mt.CubismMotionSegmentType_InverseStepped:this._motionData.segments.at(l).segmentType=Mt.CubismMotionSegmentType_InverseStepped,this._motionData.segments.at(l).evaluate=s,this._motionData.points.at(o).time=n.getMotionCurveSegment(u,c+1),this._motionData.points.at(o).value=n.getMotionCurveSegment(u,c+2),o+=1,c+=3;break;default:b(0)}++this._motionData.curves.at(u).segmentCount,++l}}for(var h=0;h<n.getEventCount();++h)this._motionData.events.at(h).fireTime=n.getEventTime(h),this._motionData.events.at(h).value=n.getEventValue(h);n.release(),n=void 0,n=null}},{key:"getFiredEvent",value:function(t,e){this._firedEventValues.updateSize(0);for(var a=0;a<this._motionData.eventCount;++a)this._motionData.events.at(a).fireTime>t&&this._motionData.events.at(a).fireTime<=e&&this._firedEventValues.pushBack(new Ct(this._motionData.events.at(a).value.s));return this._firedEventValues}}],[{key:"create",value:function(t,a,i){var n=new e;return n.parse(t,a),n._sourceFrameRate=n._motionData.fps,n._loopDurationSeconds=n._motionData.duration,n._onFinishedMotion=i,n}}]),e}(Lt);t.CubismMotion=d}(St||(St={}));var Et,Ft=_.csmVector,Rt=L.CubismFramework,$t=k.CubismJson,Nt=G.ACubismMotion;!function(t){var e,a=function(t){function a(){var t;return h(this,a),t=l(this,u(a).call(this)),t._parameters=new Ft,t}return c(a,t),m(a,[{key:"doUpdateParameters",value:function(t,a,i,n){for(var r=0;r<this._parameters.getSize();++r){var s=this._parameters.at(r);switch(s.blendType){case e.ExpressionBlendType_Add:t.addParameterValueById(s.parameterId,s.value,i);break;case e.ExpressionBlendType_Multiply:t.multiplyParameterValueById(s.parameterId,s.value,i);break;case e.ExpressionBlendType_Overwrite:t.setParameterValueById(s.parameterId,s.value,i)}}}}],[{key:"create",value:function(t,n){var r=new a,s=$t.create(t,n),o=s.getRoot();r.setFadeInTime(o.getValueByString("FadeInTime").toFloat(1)),r.setFadeOutTime(o.getValueByString("FadeOutTime").toFloat(1));var l=o.getValueByString("Parameters").getSize();r._parameters.prepareCapacity(l);for(var u=0;u<l;++u){var c=o.getValueByString("Parameters").getValueByIndex(u),h=Rt.getIdManager().getId(c.getValueByString("Id").getRawString()),m=c.getValueByString("Value").toFloat(),d=void 0;d=c.getValueByString("Blend").isNull()||"Add"==c.getValueByString("Blend").getString()?e.ExpressionBlendType_Add:"Multiply"==c.getValueByString("Blend").getString()?e.ExpressionBlendType_Multiply:"Overwrite"==c.getValueByString("Blend").getString()?e.ExpressionBlendType_Overwrite:e.ExpressionBlendType_Add;var g=new i;g.parameterId=h,g.blendType=d,g.value=m,r._parameters.pushBack(g)}return $t.delete(s),r}}]),a}(Nt);t.CubismExpressionMotion=a,function(t){t[t.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",t[t.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",t[t.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite"}(e=t.ExpressionBlendType||(t.ExpressionBlendType={}));var i=function t(){h(this,t)};t.ExpressionParameter=i}(Et||(Et={}));var Ot,jt=_.csmVector,zt=L.CubismFramework,Ut=k.CubismJson;!function(t){var e=function(){function t(){h(this,t),this._fadeTimeSeconds=.5,this._lastModel=null,this._partGroups=new jt,this._partGroupCounts=new jt}return m(t,[{key:"updateParameters",value:function(t,e){t!=this._lastModel&&this.reset(t),this._lastModel=t,e<0&&(e=0);for(var a=0,i=0;i<this._partGroupCounts.getSize();i++){var n=this._partGroupCounts.at(i);this.doFade(t,e,a,n),a+=n}this.copyPartOpacities(t)}},{key:"reset",value:function(t){for(var e=0,a=0;a<this._partGroupCounts.getSize();++a){for(var i=this._partGroupCounts.at(a),n=e;n<e+i;++n){this._partGroups.at(n).initialize(t);var r=this._partGroups.at(n).partIndex,s=this._partGroups.at(n).parameterIndex;if(!(r<0)){t.setPartOpacityByIndex(r,n==e?1:0),t.setParameterValueByIndex(s,n==e?1:0);for(var o=0;o<this._partGroups.at(n).link.getSize();++o)this._partGroups.at(n).link.at(o).initialize(t)}}e+=i}}},{key:"copyPartOpacities",value:function(t){for(var e=0;e<this._partGroups.getSize();++e){var a=this._partGroups.at(e);if(0!=a.link.getSize())for(var i=this._partGroups.at(e).partIndex,n=t.getPartOpacityByIndex(i),r=0;r<a.link.getSize();++r){var s=a.link.at(r).partIndex;s<0||t.setPartOpacityByIndex(s,n)}}}},{key:"doFade",value:function(t,e,a,i){for(var n=-1,r=1,s=a;s<a+i;++s){var o=this._partGroups.at(s).partIndex,l=this._partGroups.at(s).parameterIndex;if(t.getParameterValueByIndex(l)>.001){if(n>=0)break;n=s,r=t.getPartOpacityByIndex(o),r+=e/this._fadeTimeSeconds,r>1&&(r=1)}}n<0&&(n=0,r=1);for(var u=a;u<a+i;++u){var c=this._partGroups.at(u).partIndex;if(n==u)t.setPartOpacityByIndex(c,r);else{var h=void 0,m=t.getPartOpacityByIndex(c);h=r<.5?-.5*r/.5+1:.5*(1-r)/.5,(1-h)*(1-r)>.15&&(h=1-.15/(1-r)),m>h&&(m=h),t.setPartOpacityByIndex(c,m)}}}}],[{key:"create",value:function(e,i){var n=new t,r=Ut.create(e,i),s=r.getRoot();s.getValueByString("FadeInTime").isNull()||(n._fadeTimeSeconds=s.getValueByString("FadeInTime").toFloat(.5),n._fadeTimeSeconds<=0&&(n._fadeTimeSeconds=.5));for(var o=s.getValueByString("Groups"),l=o.getSize(),u=0;u<l;++u){for(var c=o.getValueByIndex(u),h=c.getSize(),m=0,d=0;d<h;++d){var g=c.getValueByIndex(d),p=new a,v=zt.getIdManager().getId(g.getValueByString("Id").getRawString());if(p.partId=v,!g.getValueByString("Link").isNull())for(var f=g.getValueByString("Link"),_=f.getSize(),y=0;y<_;++y){var b=new a,k=zt.getIdManager().getId(f.getValueByIndex(y).getString());b.partId=k,p.link.pushBack(b)}n._partGroups.pushBack(p.clone()),++m}n._partGroupCounts.pushBack(m)}return Ut.delete(r),n}},{key:"delete",value:function(t){null!=t&&(t=null)}}]),t}();t.CubismPose=e;var a=function(){function t(e){if(h(this,t),this.parameterIndex=0,this.partIndex=0,this.link=new jt,null!=e){this.partId=e.partId;for(var a=e.link.begin();a.notEqual(e.link.end());a.preIncrement())this.link.pushBack(a.ptr().clone())}}return m(t,[{key:"assignment",value:function(t){this.partId=t.partId;for(var e=t.link.begin();e.notEqual(t.link.end());e.preIncrement())this.link.pushBack(e.ptr().clone());return this}},{key:"initialize",value:function(t){this.parameterIndex=t.getParameterIndex(this.partId),this.partIndex=t.getPartIndex(this.partId),t.setParameterValueByIndex(this.parameterIndex,1)}},{key:"clone",value:function(){var e=new t;e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=new jt;for(var a=this.link.begin();a.notEqual(this.link.end());a.increment())e.link.pushBack(a.ptr().clone());return e}}]),t}();t.PartData=a}(Ot||(Ot={}));var Ht,Wt=L.CubismFramework,qt=k.CubismJson;!function(t){t.CubismModelUserDataJson=function(){function t(e,a){h(this,t),this._json=qt.create(e,a)}return m(t,[{key:"release",value:function(){qt.delete(this._json)}},{key:"getUserDataCount",value:function(){return this._json.getRoot().getValueByString("Meta").getValueByString("UserDataCount").toInt()}},{key:"getTotalUserDataSize",value:function(){return this._json.getRoot().getValueByString("Meta").getValueByString("TotalUserDataSize").toInt()}},{key:"getUserDataTargetType",value:function(t){return this._json.getRoot().getValueByString("UserData").getValueByIndex(t).getValueByString("Target").getRawString()}},{key:"getUserDataId",value:function(t){return Wt.getIdManager().getId(this._json.getRoot().getValueByString("UserData").getValueByIndex(t).getValueByString("Id").getRawString())}},{key:"getUserDataValue",value:function(t){return this._json.getRoot().getValueByString("UserData").getValueByIndex(t).getValueByString("Value").getRawString()}}]),t}()}(Ht||(Ht={}));var Xt,Yt=L.CubismFramework,Gt=_.csmVector,Kt=i.csmString,Qt=Ht.CubismModelUserDataJson;!function(t){var e=function t(){h(this,t)};t.CubismModelUserDataNode=e;var a=function(){function t(){h(this,t),this._userDataNodes=new Gt,this._artMeshUserDataNode=new Gt}return m(t,[{key:"getArtMeshUserDatas",value:function(){return this._artMeshUserDataNode}},{key:"parseUserData",value:function(t,a){for(var i=new Qt(t,a),n=Yt.getIdManager().getId("ArtMesh"),r=i.getUserDataCount(),s=0;s<r;s++){var o=new e;o.targetId=i.getUserDataId(s),o.targetType=Yt.getIdManager().getId(i.getUserDataTargetType(s)),o.value=new Kt(i.getUserDataValue(s)),this._userDataNodes.pushBack(o),o.targetType==n&&this._artMeshUserDataNode.pushBack(o)}i.release(),i=void 0}},{key:"release",value:function(){for(var t=0;t<this._userDataNodes.getSize();++t)this._userDataNodes.set(t,null);this._userDataNodes=null}}],[{key:"create",value:function(e,a){var i=new t;return i.parseUserData(e,a),i}},{key:"delete",value:function(t){null!=t&&(t.release(),t=null)}}]),t}();t.CubismModelUserData=a}(Xt||(Xt={}));var Jt,Zt=_.csmVector,te=U.CubismVector2;!function(t){!function(t){t[t.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter"}(t.CubismPhysicsTargetType||(t.CubismPhysicsTargetType={})),function(t){t[t.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",t[t.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",t[t.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle"}(t.CubismPhysicsSource||(t.CubismPhysicsSource={})),t.PhysicsJsonEffectiveForces=function(){function t(){h(this,t),this.gravity=new te(0,0),this.wind=new te(0,0)}return t}();var e=function t(){h(this,t)};t.CubismPhysicsParameter=e;var a=function t(){h(this,t)};t.CubismPhysicsNormalization=a,t.CubismPhysicsParticle=function(){function t(){h(this,t),this.initialPosition=new te(0,0),this.position=new te(0,0),this.lastPosition=new te(0,0),this.lastGravity=new te(0,0),this.force=new te(0,0),this.velocity=new te(0,0)}return t}(),t.CubismPhysicsSubRig=function(){function t(){h(this,t),this.normalizationPosition=new a,this.normalizationAngle=new a}return t}(),t.CubismPhysicsInput=function(){function t(){h(this,t),this.source=new e}return t}(),t.CubismPhysicsOutput=function(){function t(){h(this,t),this.destination=new e,this.translationScale=new te(0,0)}return t}(),t.CubismPhysicsRig=function(){function t(){h(this,t),this.settings=new Zt,this.inputs=new Zt,this.outputs=new Zt,this.particles=new Zt,this.gravity=new te(0,0),this.wind=new te(0,0)}return t}()}(Jt||(Jt={}));var ee,ae=L.CubismFramework,ie=U.CubismVector2,ne=k.CubismJson;!function(t){var e="Meta",a="PhysicsSettings";t.CubismPhysicsJson=function(){function t(e,a){h(this,t),this._json=ne.create(e,a)}return m(t,[{key:"release",value:function(){ne.delete(this._json)}},{key:"getGravity",value:function(){var t=new ie(0,0);return t.x=this._json.getRoot().getValueByString(e).getValueByString("EffectiveForces").getValueByString("Gravity").getValueByString("X").toFloat(),t.y=this._json.getRoot().getValueByString(e).getValueByString("EffectiveForces").getValueByString("Gravity").getValueByString("Y").toFloat(),t}},{key:"getWind",value:function(){var t=new ie(0,0);return t.x=this._json.getRoot().getValueByString(e).getValueByString("EffectiveForces").getValueByString("Wind").getValueByString("X").toFloat(),t.y=this._json.getRoot().getValueByString(e).getValueByString("EffectiveForces").getValueByString("Wind").getValueByString("Y").toFloat(),t}},{key:"getSubRigCount",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("PhysicsSettingCount").toInt()}},{key:"getTotalInputCount",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalInputCount").toInt()}},{key:"getTotalOutputCount",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalOutputCount").toInt()}},{key:"getVertexCount",value:function(){return this._json.getRoot().getValueByString(e).getValueByString("VertexCount").toInt()}},{key:"getNormalizationPositionMinimumValue",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Normalization").getValueByString("Position").getValueByString("Minimum").toFloat()}},{key:"getNormalizationPositionMaximumValue",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Normalization").getValueByString("Position").getValueByString("Maximum").toFloat()}},{key:"getNormalizationPositionDefaultValue",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Normalization").getValueByString("Position").getValueByString("Default").toFloat()}},{key:"getNormalizationAngleMinimumValue",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Normalization").getValueByString("Angle").getValueByString("Minimum").toFloat()}},{key:"getNormalizationAngleMaximumValue",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Normalization").getValueByString("Angle").getValueByString("Maximum").toFloat()}},{key:"getNormalizationAngleDefaultValue",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Normalization").getValueByString("Angle").getValueByString("Default").toFloat()}},{key:"getInputCount",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Input").getVector().getSize()}},{key:"getInputWeight",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Input").getValueByIndex(e).getValueByString("Weight").toFloat()}},{key:"getInputReflect",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Input").getValueByIndex(e).getValueByString("Reflect").toBoolean()}},{key:"getInputType",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Input").getValueByIndex(e).getValueByString("Type").getRawString()}},{key:"getInputSourceId",value:function(t,e){return ae.getIdManager().getId(this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Input").getValueByIndex(e).getValueByString("Source").getValueByString("Id").getRawString())}},{key:"getOutputCount",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Output").getVector().getSize()}},{key:"getOutputVertexIndex",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Output").getValueByIndex(e).getValueByString("VertexIndex").toInt()}},{key:"getOutputAngleScale",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Output").getValueByIndex(e).getValueByString("Scale").toFloat()}},{key:"getOutputWeight",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Output").getValueByIndex(e).getValueByString("Weight").toFloat()}},{key:"getOutputDestinationId",value:function(t,e){return ae.getIdManager().getId(this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Output").getValueByIndex(e).getValueByString("Destination").getValueByString("Id").getRawString())}},{key:"getOutputType",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Output").getValueByIndex(e).getValueByString("Type").getRawString()}},{key:"getOutputReflect",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Output").getValueByIndex(e).getValueByString("Reflect").toBoolean()}},{key:"getParticleCount",value:function(t){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Vertices").getVector().getSize()}},{key:"getParticleMobility",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Vertices").getValueByIndex(e).getValueByString("Mobility").toFloat()}},{key:"getParticleDelay",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Vertices").getValueByIndex(e).getValueByString("Delay").toFloat()}},{key:"getParticleAcceleration",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Vertices").getValueByIndex(e).getValueByString("Acceleration").toFloat()}},{key:"getParticleRadius",value:function(t,e){return this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Vertices").getValueByIndex(e).getValueByString("Radius").toInt()}},{key:"getParticlePosition",value:function(t,e){var i=new ie(0,0);return i.x=this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Vertices").getValueByIndex(e).getValueByString("Position").getValueByString("X").toFloat(),i.y=this._json.getRoot().getValueByString(a).getValueByIndex(t).getValueByString("Vertices").getValueByIndex(e).getValueByString("Position").getValueByString("Y").toFloat(),i}}]),t}()}(ee||(ee={}));var re,se,oe=ee.CubismPhysicsJson,le=X.CubismMath,ue=Jt.CubismPhysicsRig,ce=Jt.CubismPhysicsSubRig,he=Jt.CubismPhysicsInput,me=Jt.CubismPhysicsOutput,de=Jt.CubismPhysicsParticle,ge=Jt.CubismPhysicsSource,pe=Jt.CubismPhysicsTargetType,ve=U.CubismVector2;!function(t){var e=function(){function t(){h(this,t),this._physicsRig=null,this._options=new a,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}return m(t,[{key:"evaluate",value:function(t,e){var a,i,n,r,s,o,l,u,c,h,m,d,g=new ve;c=t.getModel().parameters.values,h=t.getModel().parameters.maximumValues,m=t.getModel().parameters.minimumValues,d=t.getModel().parameters.defaultValues;for(var f=0;f<this._physicsRig.subRigCount;++f){a={angle:0},g.x=0,g.y=0,s=this._physicsRig.settings.at(f),o=this._physicsRig.inputs.get(s.baseInputIndex),l=this._physicsRig.outputs.get(s.baseOutputIndex),u=this._physicsRig.particles.get(s.baseParticleIndex);for(var _=0;_<s.inputCount;++_)i=o[_].weight/100,-1==o[_].sourceParameterIndex&&(o[_].sourceParameterIndex=t.getParameterIndex(o[_].source.id)),o[_].getNormalizedParameterValue(g,a,c[o[_].sourceParameterIndex],m[o[_].sourceParameterIndex],h[o[_].sourceParameterIndex],d[o[_].sourceParameterIndex],s.normalizationPosition,s.normalizationAngle,o[0].reflect,i);n=le.degreesToRadian(-a.angle),g.x=g.x*le.cos(n)-g.y*le.sin(n),g.y=g.x*le.sin(n)+g.y*le.cos(n),p(u,s.particleCount,g,a.angle,this._options.wind,.001*s.normalizationPosition.maximum,e,5);for(var y=0;y<s.outputCount;++y){var b=l[y].vertexIndex;if(b<1||b>=s.particleCount)break;-1==l[y].destinationParameterIndex&&(l[y].destinationParameterIndex=t.getParameterIndex(l[y].destination.id));var k=new ve;k.x=u[b].position.x-u[b-1].position.x,k.y=u[b].position.y-u[b-1].position.y,r=l[y].getValue(k,u,b,l[y].reflect,this._options.gravity);var S=l[y].destinationParameterIndex,C=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(c.subarray(S))):c.slice(S);v(C,m[S],h[S],r,l[y]);for(var x=S,w=0;x<c.length;x++,w++)c[x]=C[w]}}}},{key:"setOptions",value:function(t){this._options=t}},{key:"getOption",value:function(){return this._options}},{key:"release",value:function(){this._physicsRig=void 0,this._physicsRig=null}},{key:"parse",value:function(t,e){this._physicsRig=new ue;var a=new oe(t,e);this._physicsRig.gravity=a.getGravity(),this._physicsRig.wind=a.getWind(),this._physicsRig.subRigCount=a.getSubRigCount(),this._physicsRig.settings.updateSize(this._physicsRig.subRigCount,ce,!0),this._physicsRig.inputs.updateSize(a.getTotalInputCount(),he,!0),this._physicsRig.outputs.updateSize(a.getTotalOutputCount(),me,!0),this._physicsRig.particles.updateSize(a.getVertexCount(),de,!0);for(var u=0,h=0,m=0,p=0;p<this._physicsRig.settings.getSize();++p){this._physicsRig.settings.at(p).normalizationPosition.minimum=a.getNormalizationPositionMinimumValue(p),this._physicsRig.settings.at(p).normalizationPosition.maximum=a.getNormalizationPositionMaximumValue(p),this._physicsRig.settings.at(p).normalizationPosition.defalut=a.getNormalizationPositionDefaultValue(p),this._physicsRig.settings.at(p).normalizationAngle.minimum=a.getNormalizationAngleMinimumValue(p),this._physicsRig.settings.at(p).normalizationAngle.maximum=a.getNormalizationAngleMaximumValue(p),this._physicsRig.settings.at(p).normalizationAngle.defalut=a.getNormalizationAngleDefaultValue(p),this._physicsRig.settings.at(p).inputCount=a.getInputCount(p),this._physicsRig.settings.at(p).baseInputIndex=u;for(var v=0;v<this._physicsRig.settings.at(p).inputCount;++v)this._physicsRig.inputs.at(u+v).sourceParameterIndex=-1,this._physicsRig.inputs.at(u+v).weight=a.getInputWeight(p,v),this._physicsRig.inputs.at(u+v).reflect=a.getInputReflect(p,v),"X"==a.getInputType(p,v)?(this._physicsRig.inputs.at(u+v).type=ge.CubismPhysicsSource_X,this._physicsRig.inputs.at(u+v).getNormalizedParameterValue=i):"Y"==a.getInputType(p,v)?(this._physicsRig.inputs.at(u+v).type=ge.CubismPhysicsSource_Y,this._physicsRig.inputs.at(u+v).getNormalizedParameterValue=n):"Angle"==a.getInputType(p,v)&&(this._physicsRig.inputs.at(u+v).type=ge.CubismPhysicsSource_Angle,this._physicsRig.inputs.at(u+v).getNormalizedParameterValue=r),this._physicsRig.inputs.at(u+v).source.targetType=pe.CubismPhysicsTargetType_Parameter,this._physicsRig.inputs.at(u+v).source.id=a.getInputSourceId(p,v);u+=this._physicsRig.settings.at(p).inputCount,this._physicsRig.settings.at(p).outputCount=a.getOutputCount(p),this._physicsRig.settings.at(p).baseOutputIndex=h;for(var f=0;f<this._physicsRig.settings.at(p).outputCount;++f)this._physicsRig.outputs.at(h+f).destinationParameterIndex=-1,this._physicsRig.outputs.at(h+f).vertexIndex=a.getOutputVertexIndex(p,f),this._physicsRig.outputs.at(h+f).angleScale=a.getOutputAngleScale(p,f),this._physicsRig.outputs.at(h+f).weight=a.getOutputWeight(p,f),this._physicsRig.outputs.at(h+f).destination.targetType=pe.CubismPhysicsTargetType_Parameter,this._physicsRig.outputs.at(h+f).destination.id=a.getOutputDestinationId(p,f),"X"==a.getOutputType(p,f)?(this._physicsRig.outputs.at(h+f).type=ge.CubismPhysicsSource_X,this._physicsRig.outputs.at(h+f).getValue=s,this._physicsRig.outputs.at(h+f).getScale=c):"Y"==a.getOutputType(p,f)?(this._physicsRig.outputs.at(h+f).type=ge.CubismPhysicsSource_Y,this._physicsRig.outputs.at(h+f).getValue=o,this._physicsRig.outputs.at(h+f).getScale=d):"Angle"==a.getOutputType(p,f)&&(this._physicsRig.outputs.at(h+f).type=ge.CubismPhysicsSource_Angle,this._physicsRig.outputs.at(h+f).getValue=l,this._physicsRig.outputs.at(h+f).getScale=g),this._physicsRig.outputs.at(h+f).reflect=a.getOutputReflect(p,f);h+=this._physicsRig.settings.at(p).outputCount,this._physicsRig.settings.at(p).particleCount=a.getParticleCount(p),this._physicsRig.settings.at(p).baseParticleIndex=m;for(var _=0;_<this._physicsRig.settings.at(p).particleCount;++_)this._physicsRig.particles.at(m+_).mobility=a.getParticleMobility(p,_),this._physicsRig.particles.at(m+_).delay=a.getParticleDelay(p,_),this._physicsRig.particles.at(m+_).acceleration=a.getParticleAcceleration(p,_),this._physicsRig.particles.at(m+_).radius=a.getParticleRadius(p,_),this._physicsRig.particles.at(m+_).position=a.getParticlePosition(p,_);m+=this._physicsRig.settings.at(p).particleCount}this.initialize(),a.release(),a=void 0,a=null}},{key:"initialize",value:function(){for(var t,e,a,i=0;i<this._physicsRig.subRigCount;++i){e=this._physicsRig.settings.at(i),t=this._physicsRig.particles.get(e.baseParticleIndex),t[0].initialPosition=new ve(0,0),t[0].lastPosition=new ve(t[0].initialPosition.x,t[0].initialPosition.y),t[0].lastGravity=new ve(0,-1),t[0].lastGravity.y*=-1,t[0].velocity=new ve(0,0),t[0].force=new ve(0,0);for(var n=1;n<e.particleCount;++n)a=new ve(0,0),a.y=t[n].radius,t[n].initialPosition=new ve(t[n-1].initialPosition.x+a.x,t[n-1].initialPosition.y+a.y),t[n].position=new ve(t[n].initialPosition.x,t[n].initialPosition.y),t[n].lastPosition=new ve(t[n].initialPosition.x,t[n].initialPosition.y),t[n].lastGravity=new ve(0,-1),t[n].lastGravity.y*=-1,t[n].velocity=new ve(0,0),t[n].force=new ve(0,0)}}}],[{key:"create",value:function(e,a){var i=new t;return i.parse(e,a),i._physicsRig.gravity.y=0,i}},{key:"delete",value:function(t){null!=t&&(t.release(),t=null)}}]),t}();t.CubismPhysics=e;var a=function t(){h(this,t),this.gravity=new ve(0,0),this.wind=new ve(0,0)};function i(t,e,a,i,n,r,s,o,l,u){t.x+=f(a,i,n,r,s.minimum,s.maximum,s.defalut,l)*u}function n(t,e,a,i,n,r,s,o,l,u){t.y+=f(a,i,n,r,s.minimum,s.maximum,s.defalut,l)*u}function r(t,e,a,i,n,r,s,o,l,u){e.angle+=f(a,i,n,r,o.minimum,o.maximum,o.defalut,l)*u}function s(t,e,a,i,n){var r=t.x;return i&&(r*=-1),r}function o(t,e,a,i,n){var r=t.y;return i&&(r*=-1),r}function l(t,e,a,i,n){var r;return n=a>=2?e[a-1].position.substract(e[a-2].position):n.multiplyByScaler(-1),r=le.directionToRadian(n,t),i&&(r*=-1),r}function u(t,e){return le.min(t,e)+function(t,e){var a=le.max(t,e),i=le.min(t,e);return le.abs(a-i)}(t,e)/2}function c(t,e){return JSON.parse(JSON.stringify(t.x))}function d(t,e){return JSON.parse(JSON.stringify(t.y))}function g(t,e){return JSON.parse(JSON.stringify(e))}function p(t,e,a,i,n,r,s,o){var l,u,c,h,m=new ve(0,0),d=new ve(0,0),g=new ve(0,0),p=new ve(0,0);t[0].position=new ve(a.x,a.y),l=le.degreesToRadian(i),h=le.radianToDirection(l),h.normalize();for(var v=1;v<e;++v)t[v].force=h.multiplyByScaler(t[v].acceleration).add(n),t[v].lastPosition=new ve(t[v].position.x,t[v].position.y),u=t[v].delay*s*30,m=t[v].position.substract(t[v-1].position),c=le.directionToRadian(t[v].lastGravity,h)/o,m.x=le.cos(c)*m.x-m.y*le.sin(c),m.y=le.sin(c)*m.x+m.y*le.cos(c),t[v].position=t[v-1].position.add(m),d=t[v].velocity.multiplyByScaler(u),g=t[v].force.multiplyByScaler(u).multiplyByScaler(u),t[v].position=t[v].position.add(d).add(g),p=t[v].position.substract(t[v-1].position),p.normalize(),t[v].position=t[v-1].position.add(p.multiplyByScaler(t[v].radius)),le.abs(t[v].position.x)<r&&(t[v].position.x=0),0!=u&&(t[v].velocity=t[v].position.substract(t[v].lastPosition),t[v].velocity=t[v].velocity.divisionByScalar(u),t[v].velocity=t[v].velocity.multiplyByScaler(t[v].mobility)),t[v].force=new ve(0,0),t[v].lastGravity=new ve(h.x,h.y)}function v(t,e,a,i,n){var r,s,o;r=n.getScale(n.translationScale,n.angleScale),s=i*r,s<e?(s<n.valueBelowMinimum&&(n.valueBelowMinimum=s),s=e):s>a&&(s>n.valueExceededMaximum&&(n.valueExceededMaximum=s),s=a),o=n.weight/100,o>=1?t[0]=s:(s=t[0]*(1-o)+s*o,t[0]=s)}function f(t,e,a,i,n,r,s,o){var l=0,c=le.max(a,e);c<t&&(t=c);var h=le.min(a,e);h>t&&(t=h);var m=le.min(n,r),d=le.max(n,r),g=s,p=u(h,c),v=t-p;switch(function(t){var e=0;return t>0?e=1:t<0&&(e=-1),e}(v)){case 1:var f=d-g,_=c-p;0!=_&&(l=v*(f/_),l+=g);break;case-1:var y=m-g,b=h-p;0!=b&&(l=v*(y/b),l+=g);break;case 0:l=g}return o?l:-1*l}t.Options=a}(re||(re={})),function(t){var e=function(){function t(){h(this,t),this._currentTime=0}return m(t,[{key:"setParameters",value:function(t){this._breathParameters=t}},{key:"getParameters",value:function(){return this._breathParameters}},{key:"updateParameters",value:function(t,e){this._currentTime+=e;for(var a=2*this._currentTime*3.14159,i=0;i<this._breathParameters.getSize();++i){var n=this._breathParameters.at(i);t.addParameterValueById(n.parameterId,n.offset+n.peak*Math.sin(a/n.cycle),n.weight)}}}],[{key:"create",value:function(){return new t}},{key:"delete",value:function(t){null!=t&&(t=null)}}]),t}();t.CubismBreath=e,t.BreathParameterData=function(){function t(e,a,i,n,r){h(this,t),this.parameterId=null==e?null:e,this.offset=null==a?0:a,this.peak=null==i?0:i,this.cycle=null==n?0:n,this.weight=null==r?0:r}return t}()}(se||(se={}));var fe,_e,ye=_.csmVector;!function(t){var e,a=function(){function t(a){if(h(this,t),this._blinkingState=e.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=new ye,null!=a)for(var i=0;i<a.getEyeBlinkParameterCount();++i)this._parameterIds.pushBack(a.getEyeBlinkParameterId(i))}return m(t,[{key:"setBlinkingInterval",value:function(t){this._blinkingIntervalSeconds=t}},{key:"setBlinkingSetting",value:function(t,e,a){this._closingSeconds=t,this._closedSeconds=e,this._openingSeconds=a}},{key:"setParameterIds",value:function(t){this._parameterIds=t}},{key:"getParameterIds",value:function(){return this._parameterIds}},{key:"updateParameters",value:function(a,i){var n;this._userTimeSeconds+=i;var r=0;switch(this._blinkingState){case e.EyeState_Closing:r=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,r>=1&&(r=1,this._blinkingState=e.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),n=1-r;break;case e.EyeState_Closed:r=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,r>=1&&(this._blinkingState=e.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),n=0;break;case e.EyeState_Opening:r=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,r>=1&&(r=1,this._blinkingState=e.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),n=r;break;case e.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=e.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),n=1;break;case e.EyeState_First:default:this._blinkingState=e.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),n=1}t.CloseIfZero||(n=-n);for(var s=0;s<this._parameterIds.getSize();++s)a.setParameterValueById(this._parameterIds.at(s),n)}},{key:"determinNextBlinkingTiming",value:function(){var t=Math.random();return this._userTimeSeconds+t*(2*this._blinkingIntervalSeconds-1)}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new t(e)}},{key:"delete",value:function(t){null!=t&&(t=null)}}]),t}();a.CloseIfZero=!0,t.CubismEyeBlink=a,function(t){t[t.EyeState_First=0]="EyeState_First",t[t.EyeState_Interval=1]="EyeState_Interval",t[t.EyeState_Closing=2]="EyeState_Closing",t[t.EyeState_Closed=3]="EyeState_Closed",t[t.EyeState_Opening=4]="EyeState_Opening"}(e=t.EyeState||(t.EyeState={}))}(fe||(fe={})),function(t){t.csmRect=function(){function t(e,a,i,n){h(this,t),this.x=e,this.y=a,this.width=i,this.height=n}return m(t,[{key:"getCenterX",value:function(){return this.x+.5*this.width}},{key:"getCenterY",value:function(){return this.y+.5*this.height}},{key:"getRight",value:function(){return this.x+this.width}},{key:"getBottom",value:function(){return this.y+this.height}},{key:"setRect",value:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},{key:"expand",value:function(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e}}]),t}()}(_e||(_e={}));var be,ke=L.Constant,Se=M.CubismMatrix44,Ce=_e.csmRect,xe=f.csmMap,we=_.csmVector,Ie=D.CubismRenderer,Te=D.CubismBlendMode,Me=D.CubismTextureColor;!function(t){var e,a,i,n,r=function(){function t(){h(this,t),this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=new we,this._clippingContextListForDraw=new we,this._channelColors=new we,this._tmpBoundsOnModel=new Ce,this._tmpMatrix=new Se,this._tmpMatrixForMask=new Se,this._tmpMatrixForDraw=new Se,this._maskTexture=null;var e=new Me;e.R=1,e.G=0,e.B=0,e.A=0,this._channelColors.pushBack(e),e=new Me,e.R=0,e.G=1,e.B=0,e.A=0,this._channelColors.pushBack(e),e=new Me,e.R=0,e.G=0,e.B=1,e.A=0,this._channelColors.pushBack(e),e=new Me,e.R=0,e.G=0,e.B=0,e.A=1,this._channelColors.pushBack(e)}return m(t,[{key:"getChannelFlagAsColor",value:function(t){return this._channelColors.at(t)}},{key:"getMaskRenderTexture",value:function(){var t=0;if(this._maskTexture&&0!=this._maskTexture.texture&&(this._maskTexture.frameNo=this._currentFrameNo,t=this._maskTexture.texture),0==t){var e=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),t=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i),this._maskTexture=new o(this._currentFrameNo,t)}return t}},{key:"setGL",value:function(t){this.gl=t}},{key:"calcClippedDrawTotalBounds",value:function(t,e){for(var a=Number.MAX_VALUE,i=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE,s=e._clippedDrawableIndexList.length,o=0;o<s;o++){for(var l=e._clippedDrawableIndexList[o],u=t.getDrawableVertexCount(l),c=t.getDrawableVertices(l),h=Number.MAX_VALUE,m=Number.MAX_VALUE,d=Number.MIN_VALUE,g=Number.MIN_VALUE,p=u*ke.vertexStep,v=ke.vertexOffset;v<p;v+=ke.vertexStep){var f=c[v],_=c[v+1];f<h&&(h=f),f>d&&(d=f),_<m&&(m=_),_>g&&(g=_)}if(h!=Number.MAX_VALUE)if(h<a&&(a=h),m<i&&(i=m),d>n&&(n=d),g>r&&(r=g),a==Number.MAX_VALUE)e._allClippedDrawRect.x=0,e._allClippedDrawRect.y=0,e._allClippedDrawRect.width=0,e._allClippedDrawRect.height=0,e._isUsing=!1;else{e._isUsing=!0;var y=n-a,b=r-i;e._allClippedDrawRect.x=a,e._allClippedDrawRect.y=i,e._allClippedDrawRect.width=y,e._allClippedDrawRect.height=b}}}},{key:"release",value:function(){for(var t=0;t<this._clippingContextListForMask.getSize();t++)this._clippingContextListForMask.at(t)&&(this._clippingContextListForMask.at(t).release(),this._clippingContextListForMask.set(t,void 0)),this._clippingContextListForMask.set(t,null);this._clippingContextListForMask=null;for(var e=0;e<this._clippingContextListForDraw.getSize();e++)this._clippingContextListForDraw.set(e,null);this._clippingContextListForDraw=null,this._maskTexture&&(this.gl.deleteFramebuffer(this._maskTexture.texture),this._maskTexture=null);for(var a=0;a<this._channelColors.getSize();a++)this._channelColors.set(a,null);this._channelColors=null,this.gl.deleteTexture(this._colorBuffer),this._colorBuffer=null}},{key:"initialize",value:function(t,e,a,i){for(var n=0;n<e;n++)if(i[n]<=0)this._clippingContextListForDraw.pushBack(null);else{var r=this.findSameClip(a[n],i[n]);null==r&&(r=new d(this,a[n],i[n]),this._clippingContextListForMask.pushBack(r)),r.addClippedDrawable(n),this._clippingContextListForDraw.pushBack(r)}}},{key:"setupClippingContext",value:function(t,e){this._currentFrameNo++;for(var n=0,r=0;r<this._clippingContextListForMask.getSize();r++){var s=this._clippingContextListForMask.at(r);this.calcClippedDrawTotalBounds(t,s),s._isUsing&&n++}if(n>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),e.getMvpMatrix(),e.preDraw(),this.setupLayoutBounds(n),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(var o=0;o<this._clippingContextListForMask.getSize();o++){var l=this._clippingContextListForMask.at(o),u=l._allClippedDrawRect,c=l._layoutBounds,h=.05;this._tmpBoundsOnModel.setRect(u),this._tmpBoundsOnModel.expand(u.width*h,u.height*h);var m=c.width/this._tmpBoundsOnModel.width,d=c.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(c.x,c.y),this._tmpMatrix.scaleRelative(m,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(c.x,c.y),this._tmpMatrix.scaleRelative(m,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),l._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),l._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());for(var g=l._clippingIdCount,p=0;p<g;p++){var v=l._clippingIdList[p];t.getDrawableDynamicFlagVertexPositionsDidChange(v)&&(e.setIsCulling(0!=t.getDrawableCulling(v)),e.setClippingContextBufferForMask(l),e.drawMesh(t.getDrawableTextureIndices(v),t.getDrawableVertexIndexCount(v),t.getDrawableVertexCount(v),t.getDrawableVertexIndices(v),t.getDrawableVertices(v),t.getDrawableVertexUvs(v),t.getDrawableOpacity(v),Te.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i),e.setClippingContextBufferForMask(null),this.gl.viewport(a[0],a[1],a[2],a[3])}}},{key:"findSameClip",value:function(t,e){for(var a=0;a<this._clippingContextListForMask.getSize();a++){var i=this._clippingContextListForMask.at(a),n=i._clippingIdCount;if(n==e){for(var r=0,s=0;s<n;s++)for(var o=i._clippingIdList[s],l=0;l<n;l++)if(t[l]==o){r++;break}if(r==n)return i}}return null}},{key:"setupLayoutBounds",value:function(t){var e=t/4,a=t%4;e=~~e,a=~~a;for(var i=0,n=0;n<4;n++){var r=e+(n<a?1:0);if(0==r);else if(1==r){var s=this._clippingContextListForMask.at(i++);s._layoutChannelNo=n,s._layoutBounds.x=0,s._layoutBounds.y=0,s._layoutBounds.width=1,s._layoutBounds.height=1}else if(2==r)for(var o=0;o<r;o++){var l=o%2;l=~~l;var u=this._clippingContextListForMask.at(i++);u._layoutChannelNo=n,u._layoutBounds.x=.5*l,u._layoutBounds.y=0,u._layoutBounds.width=.5,u._layoutBounds.height=1}else if(r<=4)for(var c=0;c<r;c++){var h=c%2,m=c/2;h=~~h,m=~~m;var d=this._clippingContextListForMask.at(i++);d._layoutChannelNo=n,d._layoutBounds.x=.5*h,d._layoutBounds.y=.5*m,d._layoutBounds.width=.5,d._layoutBounds.height=.5}else if(r<=9)for(var g=0;g<r;g++){var v=g%3,f=g/3;v=~~v,f=~~f;var _=this._clippingContextListForMask.at(i++);_._layoutChannelNo=n,_._layoutBounds.x=v/3,_._layoutBounds.y=f/3,_._layoutBounds.width=1/3,_._layoutBounds.height=1/3}else p("not supported mask count : {0}",r)}}},{key:"getColorBuffer",value:function(){return this._colorBuffer}},{key:"getClippingContextListForDraw",value:function(){return this._clippingContextListForDraw}},{key:"setClippingMaskBufferSize",value:function(t){this._clippingMaskBufferSize=t}},{key:"getClippingMaskBufferSize",value:function(){return this._clippingMaskBufferSize}}]),t}();t.CubismClippingManager_WebGL=r;var o=function t(e,a){h(this,t),this.frameNo=e,this.texture=a};t.CubismRenderTextureResource=o;var d=function(){function t(e,a,i){h(this,t),this._owner=e,this._clippingIdList=a,this._clippingIdCount=i,this._allClippedDrawRect=new Ce,this._layoutBounds=new Ce,this._clippedDrawableIndexList=[],this._matrixForMask=new Se,this._matrixForDraw=new Se}return m(t,[{key:"release",value:function(){null!=this._layoutBounds&&(this._layoutBounds=null),null!=this._allClippedDrawRect&&(this._allClippedDrawRect=null),null!=this._clippedDrawableIndexList&&(this._clippedDrawableIndexList=null)}},{key:"addClippedDrawable",value:function(t){this._clippedDrawableIndexList.push(t)}},{key:"getClippingManager",value:function(){return this._owner}},{key:"setGl",value:function(t){this._owner.setGL(t)}}]),t}();t.CubismClippingContext=d;var g=function(){function a(){h(this,a),this._shaderSets=new we}return m(a,[{key:"release",value:function(){this.releaseShaderProgram()}},{key:"setupShaderProgram",value:function(t,e,a,i,r,s,o,l,u,c,h,m,d){var g,f,_,y;if(h||p("NoPremultipliedAlpha is not allowed"),0==this._shaderSets.getSize()&&this.generateShaders(),null!=t.getClippingContextBufferForMask()){var b=this._shaderSets.at(n.ShaderNames_SetupMask);this.gl.useProgram(b.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(b.samplerTexture0Location,0),null==o.vertex&&(o.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(b.attributePositionLocation),this.gl.vertexAttribPointer(b.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==o.uv&&(o.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(b.attributeTexCoordLocation),this.gl.vertexAttribPointer(b.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);var k=t.getClippingContextBufferForMask()._layoutChannelNo,S=t.getClippingContextBufferForMask().getClippingManager().getChannelFlagAsColor(k);this.gl.uniform4f(b.uniformChannelFlagLocation,S.R,S.G,S.B,S.A),this.gl.uniformMatrix4fv(b.uniformClipMatrixLocation,!1,t.getClippingContextBufferForMask()._matrixForMask.getArray());var C=t.getClippingContextBufferForMask()._layoutBounds;this.gl.uniform4f(b.uniformBaseColorLocation,2*C.x-1,2*C.y-1,2*C.getRight()-1,2*C.getBottom()-1),g=this.gl.ZERO,f=this.gl.ONE_MINUS_SRC_COLOR,_=this.gl.ZERO,y=this.gl.ONE_MINUS_SRC_ALPHA}else{var x=null!=t.getClippingContextBufferForDraw(),w=x?d?2:1:0,I=new v;switch(u){case Te.CubismBlendMode_Normal:default:I=this._shaderSets.at(n.ShaderNames_NormalPremultipliedAlpha+w),g=this.gl.ONE,f=this.gl.ONE_MINUS_SRC_ALPHA,_=this.gl.ONE,y=this.gl.ONE_MINUS_SRC_ALPHA;break;case Te.CubismBlendMode_Additive:I=this._shaderSets.at(n.ShaderNames_AddPremultipliedAlpha+w),g=this.gl.ONE,f=this.gl.ONE,_=this.gl.ZERO,y=this.gl.ONE;break;case Te.CubismBlendMode_Multiplicative:I=this._shaderSets.at(n.ShaderNames_MultPremultipliedAlpha+w),g=this.gl.DST_COLOR,f=this.gl.ONE_MINUS_SRC_ALPHA,_=this.gl.ZERO,y=this.gl.ONE}if(this.gl.useProgram(I.shaderProgram),null==o.vertex&&(o.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(I.attributePositionLocation),this.gl.vertexAttribPointer(I.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==o.uv&&(o.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(I.attributeTexCoordLocation),this.gl.vertexAttribPointer(I.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),x){this.gl.activeTexture(this.gl.TEXTURE1);var T=t.getClippingContextBufferForDraw().getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,T),this.gl.uniform1i(I.samplerTexture1Location,1),this.gl.uniformMatrix4fv(I.uniformClipMatrixLocation,!1,t.getClippingContextBufferForDraw()._matrixForDraw.getArray());var M=t.getClippingContextBufferForDraw()._layoutChannelNo,P=t.getClippingContextBufferForDraw().getClippingManager().getChannelFlagAsColor(M);this.gl.uniform4f(I.uniformChannelFlagLocation,P.R,P.G,P.B,P.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(I.samplerTexture0Location,0),this.gl.uniformMatrix4fv(I.uniformMatrixLocation,!1,m.getArray()),this.gl.uniform4f(I.uniformBaseColorLocation,c.R,c.G,c.B,c.A)}null==o.index&&(o.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,o.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,r,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(g,f,_,y)}},{key:"releaseShaderProgram",value:function(){for(var t=0;t<this._shaderSets.getSize();t++)this.gl.deleteProgram(this._shaderSets.at(t).shaderProgram),this._shaderSets.at(t).shaderProgram=0,this._shaderSets.set(t,void 0),this._shaderSets.set(t,null)}},{key:"generateShaders",value:function(){for(var e=0;e<10;e++)this._shaderSets.pushBack(new v);this._shaderSets.at(0).shaderProgram=this.loadShaderProgram(t.vertexShaderSrcSetupMask,t.fragmentShaderSrcsetupMask),this._shaderSets.at(1).shaderProgram=this.loadShaderProgram(t.vertexShaderSrc,t.fragmentShaderSrcPremultipliedAlpha),this._shaderSets.at(2).shaderProgram=this.loadShaderProgram(t.vertexShaderSrcMasked,t.fragmentShaderSrcMaskPremultipliedAlpha),this._shaderSets.at(3).shaderProgram=this.loadShaderProgram(t.vertexShaderSrcMasked,t.fragmentShaderSrcMaskInvertedPremultipliedAlpha),this._shaderSets.at(4).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(5).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(6).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(7).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(8).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(9).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(0).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_position"),this._shaderSets.at(0).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_texCoord"),this._shaderSets.at(0).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"s_texture0"),this._shaderSets.at(0).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_clipMatrix"),this._shaderSets.at(0).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_channelFlag"),this._shaderSets.at(0).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_baseColor"),this._shaderSets.at(1).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_position"),this._shaderSets.at(1).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_texCoord"),this._shaderSets.at(1).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"s_texture0"),this._shaderSets.at(1).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_matrix"),this._shaderSets.at(1).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_baseColor"),this._shaderSets.at(2).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_position"),this._shaderSets.at(2).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_texCoord"),this._shaderSets.at(2).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture0"),this._shaderSets.at(2).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture1"),this._shaderSets.at(2).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_matrix"),this._shaderSets.at(2).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_clipMatrix"),this._shaderSets.at(2).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_channelFlag"),this._shaderSets.at(2).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_baseColor"),this._shaderSets.at(3).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_position"),this._shaderSets.at(3).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_texCoord"),this._shaderSets.at(3).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture0"),this._shaderSets.at(3).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture1"),this._shaderSets.at(3).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_matrix"),this._shaderSets.at(3).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_clipMatrix"),this._shaderSets.at(3).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_channelFlag"),this._shaderSets.at(3).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_baseColor"),this._shaderSets.at(4).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_position"),this._shaderSets.at(4).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_texCoord"),this._shaderSets.at(4).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"s_texture0"),this._shaderSets.at(4).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_matrix"),this._shaderSets.at(4).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_baseColor"),this._shaderSets.at(5).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_position"),this._shaderSets.at(5).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_texCoord"),this._shaderSets.at(5).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture0"),this._shaderSets.at(5).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture1"),this._shaderSets.at(5).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_matrix"),this._shaderSets.at(5).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_clipMatrix"),this._shaderSets.at(5).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_channelFlag"),this._shaderSets.at(5).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_baseColor"),this._shaderSets.at(6).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_position"),this._shaderSets.at(6).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_texCoord"),this._shaderSets.at(6).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture0"),this._shaderSets.at(6).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture1"),this._shaderSets.at(6).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_matrix"),this._shaderSets.at(6).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_clipMatrix"),this._shaderSets.at(6).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_channelFlag"),this._shaderSets.at(6).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_baseColor"),this._shaderSets.at(7).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_position"),this._shaderSets.at(7).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_texCoord"),this._shaderSets.at(7).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"s_texture0"),this._shaderSets.at(7).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_matrix"),this._shaderSets.at(7).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_baseColor"),this._shaderSets.at(8).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_position"),this._shaderSets.at(8).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_texCoord"),this._shaderSets.at(8).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture0"),this._shaderSets.at(8).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture1"),this._shaderSets.at(8).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_matrix"),this._shaderSets.at(8).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_clipMatrix"),this._shaderSets.at(8).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_channelFlag"),this._shaderSets.at(8).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_baseColor"),this._shaderSets.at(9).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_position"),this._shaderSets.at(9).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_texCoord"),this._shaderSets.at(9).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture0"),this._shaderSets.at(9).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture1"),this._shaderSets.at(9).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_matrix"),this._shaderSets.at(9).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_clipMatrix"),this._shaderSets.at(9).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_channelFlag"),this._shaderSets.at(9).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_baseColor")}},{key:"loadShaderProgram",value:function(t,e){var a=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,t);if(!i)return p("Vertex shader compile error!"),0;var n=this.compileShaderSource(this.gl.FRAGMENT_SHADER,e);return n?(this.gl.attachShader(a,i),this.gl.attachShader(a,n),this.gl.linkProgram(a),this.gl.getProgramParameter(a,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(n),a):(p("Failed to link program: {0}",a),this.gl.deleteShader(i),i=0,this.gl.deleteShader(n),n=0,a&&(this.gl.deleteProgram(a),a=0),0)):(p("Vertex shader compile error!"),0)}},{key:"compileShaderSource",value:function(t,e){var a=e,i=this.gl.createShader(t);if(this.gl.shaderSource(i,a),this.gl.compileShader(i),!i){var n=this.gl.getShaderInfoLog(i);p("Shader compile log: {0} ",n)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}},{key:"setGl",value:function(t){this.gl=t}}],[{key:"getInstance",value:function(){return null==e?(e=new a,e):e}},{key:"deleteInstance",value:function(){e&&(e.release(),e=null)}}]),a}();t.CubismShader_WebGL=g;var v=function t(){h(this,t)};t.CubismShaderSet=v,function(t){t[t.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",t[t.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",t[t.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",t[t.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",t[t.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",t[t.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted"}(n=t.ShaderNames||(t.ShaderNames={})),t.vertexShaderSrcSetupMask="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",t.fragmentShaderSrcsetupMask="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",t.vertexShaderSrc="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",t.vertexShaderSrcMasked="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",t.fragmentShaderSrcPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",t.fragmentShaderSrcMaskPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",t.fragmentShaderSrcMaskInvertedPremultipliedAlpha="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";var f=function(t){function e(){var t;return h(this,e),t=l(this,u(e).call(this)),t._clippingContextBufferForMask=null,t._clippingContextBufferForDraw=null,t._clippingManager=new r,t.firstDraw=!0,t._textures=new xe,t._sortedDrawableIndexList=new we,t._bufferData={vertex:WebGLBuffer=null,uv:WebGLBuffer=null,index:WebGLBuffer=null},t._textures.prepareCapacity(32,!0),t}return c(e,t),m(e,[{key:"initialize",value:function(t){t.isUsingMasking()&&(this._clippingManager=new r,this._clippingManager.initialize(t,t.getDrawableCount(),t.getDrawableMasks(),t.getDrawableMaskCounts())),this._sortedDrawableIndexList.resize(t.getDrawableCount(),0),s(u(e.prototype),"initialize",this).call(this,t)}},{key:"bindTexture",value:function(t,e){this._textures.setValue(t,e)}},{key:"getBindedTextures",value:function(){return this._textures}},{key:"setClippingMaskBufferSize",value:function(t){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this._clippingManager=new r,this._clippingManager.setClippingMaskBufferSize(t),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())}},{key:"getClippingMaskBufferSize",value:function(){return this._clippingManager.getClippingMaskBufferSize()}},{key:"release",value:function(){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this.gl.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,this.gl.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,this.gl.deleteBuffer(this._bufferData.index),this._bufferData.index=null,this._bufferData=null,this._textures=null}},{key:"doDrawModel",value:function(){null!=this._clippingManager&&(this.preDraw(),this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();for(var t=this.getModel().getDrawableCount(),e=this.getModel().getDrawableRenderOrders(),a=0;a<t;++a){var i=e[a];this._sortedDrawableIndexList.set(i,a)}for(var n=0;n<t;++n){var r=this._sortedDrawableIndexList.at(n);this.getModel().getDrawableDynamicFlagIsVisible(r)&&(this.setClippingContextBufferForDraw(null!=this._clippingManager?this._clippingManager.getClippingContextListForDraw().at(r):null),this.setIsCulling(this.getModel().getDrawableCulling(r)),this.drawMesh(this.getModel().getDrawableTextureIndices(r),this.getModel().getDrawableVertexIndexCount(r),this.getModel().getDrawableVertexCount(r),this.getModel().getDrawableVertexIndices(r),this.getModel().getDrawableVertices(r),this.getModel().getDrawableVertexUvs(r),this.getModel().getDrawableOpacity(r),this.getModel().getDrawableBlendMode(r),this.getModel().getDrawableInvertedMaskBit(r)))}}},{key:"drawMesh",value:function(t,e,a,i,n,r,s,o,l){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);var u,c=this.getModelColor();null==this.getClippingContextBufferForMask()&&(c.A*=s,this.isPremultipliedAlpha()&&(c.R*=c.A,c.G*=c.A,c.B*=c.A)),u=null!=this._textures.getValue(t)?this._textures.getValue(t):null,g.getInstance().setupShaderProgram(this,u,a,n,i,r,this._bufferData,s,o,c,this.isPremultipliedAlpha(),this.getMvpMatrix(),l),this.gl.drawElements(this.gl.TRIANGLES,e,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}},{key:"setRenderState",value:function(t,e){i=t,a=e}},{key:"preDraw",value:function(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}},{key:"setClippingContextBufferForMask",value:function(t){this._clippingContextBufferForMask=t}},{key:"getClippingContextBufferForMask",value:function(){return this._clippingContextBufferForMask}},{key:"setClippingContextBufferForDraw",value:function(t){this._clippingContextBufferForDraw=t}},{key:"getClippingContextBufferForDraw",value:function(){return this._clippingContextBufferForDraw}},{key:"startUp",value:function(t){this.gl=t,this._clippingManager.setGL(t),g.getInstance().setGl(t)}}],[{key:"doStaticRelease",value:function(){g.deleteInstance()}}]),e}(Ie);t.CubismRenderer_WebGL=f,Ie.staticRelease=function(){f.doStaticRelease()}}(be||(be={}));var Pe,Ae,De=be.CubismRenderer_WebGL,Ve=fe.CubismEyeBlink,Le=se.CubismBreath,Be=L.Constant,Ee=re.CubismPhysics,Fe=Xt.CubismModelUserData,Re=Ot.CubismPose,$e=Et.CubismExpressionMotion,Ne=St.CubismMotion,Oe=gt.CubismMoc,je=ot.CubismModelMatrix,ze=rt.CubismTargetPoint,Ue=it.CubismMotionManager;!function(t){var e=function(){function t(){h(this,t),this.loadMotion=function(t,e,a,i){return Ne.create(t,e,i)},this._moc=null,this._model=null,this._motionManager=null,this._expressionManager=null,this._eyeBlink=null,this._breath=null,this._modelMatrix=null,this._pose=null,this._dragManager=null,this._physics=null,this._modelUserData=null,this._initialized=!1,this._updating=!1,this._opacity=1,this._lipsync=!0,this._lastLipSyncValue=0,this._dragX=0,this._dragY=0,this._accelerationX=0,this._accelerationY=0,this._accelerationZ=0,this._debugMode=!1,this._renderer=null,this._motionManager=new Ue,this._motionManager.setEventCallback(t.cubismDefaultMotionEventCallback,this),this._expressionManager=new Ue,this._dragManager=new ze}return m(t,[{key:"isInitialized",value:function(){return this._initialized}},{key:"setInitialized",value:function(t){this._initialized=t}},{key:"isUpdating",value:function(){return this._updating}},{key:"setUpdating",value:function(t){this._updating=t}},{key:"setDragging",value:function(t,e){this._dragManager.set(t,e)}},{key:"setAcceleration",value:function(t,e,a){this._accelerationX=t,this._accelerationY=e,this._accelerationZ=a}},{key:"getModelMatrix",value:function(){return this._modelMatrix}},{key:"setOpacity",value:function(t){this._opacity=t}},{key:"getOpacity",value:function(){return this._opacity}},{key:"loadModel",value:function(t){this._moc=Oe.create(t),this._model=this._moc.createModel(),this._model.saveParameters(),null!=this._moc&&null!=this._model?this._modelMatrix=new je(this._model.getCanvasWidth(),this._model.getCanvasHeight()):p("Failed to CreateModel().")}},{key:"loadExpression",value:function(t,e,a){return $e.create(t,e)}},{key:"loadPose",value:function(t,e){this._pose=Re.create(t,e)}},{key:"loadUserData",value:function(t,e){this._modelUserData=Fe.create(t,e)}},{key:"loadPhysics",value:function(t,e){this._physics=Ee.create(t,e)}},{key:"isHit",value:function(t,e,a){var i=this._model.getDrawableIndex(t);if(i<0)return!1;for(var n=this._model.getDrawableVertexCount(i),r=this._model.getDrawableVertices(i),s=r[0],o=r[0],l=r[1],u=r[1],c=1;c<n;++c){var h=r[Be.vertexOffset+c*Be.vertexStep],m=r[Be.vertexOffset+c*Be.vertexStep+1];h<s&&(s=h),h>o&&(o=h),m<l&&(l=m),m>u&&(u=m)}var d=this._modelMatrix.invertTransformX(e),g=this._modelMatrix.invertTransformY(a);return s<=d&&d<=o&&l<=g&&g<=u}},{key:"getModel",value:function(){return this._model}},{key:"getRenderer",value:function(){return this._renderer}},{key:"createRenderer",value:function(){this._renderer&&this.deleteRenderer(),this._renderer=new De,this._renderer.initialize(this._model)}},{key:"deleteRenderer",value:function(){null!=this._renderer&&(this._renderer.release(),this._renderer=null)}},{key:"motionEventFired",value:function(t){r("{0}",t.s)}},{key:"release",value:function(){null!=this._motionManager&&(this._motionManager.release(),this._motionManager=null),null!=this._expressionManager&&(this._expressionManager.release(),this._expressionManager=null),null!=this._moc&&(this._moc.deleteModel(this._model),this._moc.release(),this._moc=null),this._modelMatrix=null,Re.delete(this._pose),Ve.delete(this._eyeBlink),Le.delete(this._breath),this._dragManager=null,Ee.delete(this._physics),Fe.delete(this._modelUserData),this.deleteRenderer()}}],[{key:"cubismDefaultMotionEventCallback",value:function(t,e,a){null!=a&&a.motionEventFired(e)}}]),t}();t.CubismUserModel=e}(Pe||(Pe={})),function(t){t.ICubismModelSetting=function(){function t(){h(this,t)}return t}()}(Ae||(Ae={}));var He,We,qe=_.csmVector,Xe=L.CubismFramework,Ye=k.CubismJson,Ge=Ae.ICubismModelSetting;!function(t){var e,a="Name";!function(t){t[t.FrequestNode_Groups=0]="FrequestNode_Groups",t[t.FrequestNode_Moc=1]="FrequestNode_Moc",t[t.FrequestNode_Motions=2]="FrequestNode_Motions",t[t.FrequestNode_Expressions=3]="FrequestNode_Expressions",t[t.FrequestNode_Textures=4]="FrequestNode_Textures",t[t.FrequestNode_Physics=5]="FrequestNode_Physics",t[t.FrequestNode_Pose=6]="FrequestNode_Pose",t[t.FrequestNode_HitAreas=7]="FrequestNode_HitAreas"}(e||(e={})),t.CubismModelSettingJson=function(t){function i(t,e){var a;return h(this,i),a=l(this,u(i).call(this)),a._json=Ye.create(t,e),a._json&&(a._jsonValue=new qe,a._jsonValue.pushBack(a._json.getRoot().getValueByString("Groups")),a._jsonValue.pushBack(a._json.getRoot().getValueByString("FileReferences").getValueByString("Moc")),a._jsonValue.pushBack(a._json.getRoot().getValueByString("FileReferences").getValueByString("Motions")),a._jsonValue.pushBack(a._json.getRoot().getValueByString("FileReferences").getValueByString("Expressions")),a._jsonValue.pushBack(a._json.getRoot().getValueByString("FileReferences").getValueByString("Textures")),a._jsonValue.pushBack(a._json.getRoot().getValueByString("FileReferences").getValueByString("Physics")),a._jsonValue.pushBack(a._json.getRoot().getValueByString("FileReferences").getValueByString("Pose")),a._jsonValue.pushBack(a._json.getRoot().getValueByString("HitAreas"))),a}return c(i,t),m(i,[{key:"release",value:function(){Ye.delete(this._json),this._jsonValue=null}},{key:"GetJson",value:function(){return this._json}},{key:"getModelFileName",value:function(){return this.isExistModelFile()?this._jsonValue.at(e.FrequestNode_Moc).getRawString():""}},{key:"getTextureCount",value:function(){return this.isExistTextureFiles()?this._jsonValue.at(e.FrequestNode_Textures).getSize():0}},{key:"getTextureDirectory",value:function(){return this._jsonValue.at(e.FrequestNode_Textures).getRawString()}},{key:"getTextureFileName",value:function(t){return this._jsonValue.at(e.FrequestNode_Textures).getValueByIndex(t).getRawString()}},{key:"getHitAreasCount",value:function(){return this.isExistHitAreas()?this._jsonValue.at(e.FrequestNode_HitAreas).getSize():0}},{key:"getHitAreaId",value:function(t){return Xe.getIdManager().getId(this._jsonValue.at(e.FrequestNode_HitAreas).getValueByIndex(t).getValueByString("Id").getRawString())}},{key:"getHitAreaName",value:function(t){return this._jsonValue.at(e.FrequestNode_HitAreas).getValueByIndex(t).getValueByString(a).getRawString()}},{key:"getPhysicsFileName",value:function(){return this.isExistPhysicsFile()?this._jsonValue.at(e.FrequestNode_Physics).getRawString():""}},{key:"getPoseFileName",value:function(){return this.isExistPoseFile()?this._jsonValue.at(e.FrequestNode_Pose).getRawString():""}},{key:"getExpressionCount",value:function(){return this.isExistExpressionFile()?this._jsonValue.at(e.FrequestNode_Expressions).getSize():0}},{key:"getExpressionName",value:function(t){return this._jsonValue.at(e.FrequestNode_Expressions).getValueByIndex(t).getValueByString(a).getRawString()}},{key:"getExpressionFileName",value:function(t){return this._jsonValue.at(e.FrequestNode_Expressions).getValueByIndex(t).getValueByString("File").getRawString()}},{key:"getMotionGroupCount",value:function(){return this.isExistMotionGroups()?this._jsonValue.at(e.FrequestNode_Motions).getKeys().getSize():0}},{key:"getMotionGroupName",value:function(t){return this.isExistMotionGroups()?this._jsonValue.at(e.FrequestNode_Motions).getKeys().at(t):null}},{key:"getMotionCount",value:function(t){return this.isExistMotionGroupName(t)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getSize():0}},{key:"getMotionFileName",value:function(t,a){return this.isExistMotionGroupName(t)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(a).getValueByString("File").getRawString():""}},{key:"getMotionSoundFileName",value:function(t,a){return this.isExistMotionSoundFile(t,a)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(a).getValueByString("Sound").getRawString():""}},{key:"getMotionFadeInTimeValue",value:function(t,a){return this.isExistMotionFadeIn(t,a)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(a).getValueByString("FadeInTime").toFloat():-1}},{key:"getMotionFadeOutTimeValue",value:function(t,a){return this.isExistMotionFadeOut(t,a)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(a).getValueByString("FadeOutTime").toFloat():-1}},{key:"getUserDataFile",value:function(){return this.isExistUserDataFile()?this._json.getRoot().getValueByString("FileReferences").getValueByString("UserData").getRawString():""}},{key:"getLayoutMap",value:function(t){var e=this._json.getRoot().getValueByString("Layout").getMap();if(null==e)return!1;for(var a=!1,i=e.begin();i.notEqual(e.end());i.preIncrement())t.setValue(i.ptr().first,i.ptr().second.toFloat()),a=!0;return a}},{key:"getEyeBlinkParameterCount",value:function(){if(!this.isExistEyeBlinkParameters())return 0;for(var t=0,i=0;i<this._jsonValue.at(e.FrequestNode_Groups).getSize();i++){var n=this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(i);if(!n.isNull()&&!n.isError()&&"EyeBlink"==n.getValueByString(a).getRawString()){t=n.getValueByString("Ids").getVector().getSize();break}}return t}},{key:"getEyeBlinkParameterId",value:function(t){if(!this.isExistEyeBlinkParameters())return null;for(var i=0;i<this._jsonValue.at(e.FrequestNode_Groups).getSize();i++){var n=this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(i);if(!n.isNull()&&!n.isError()&&"EyeBlink"==n.getValueByString(a).getRawString())return Xe.getIdManager().getId(n.getValueByString("Ids").getValueByIndex(t).getRawString())}return null}},{key:"getLipSyncParameterCount",value:function(){if(!this.isExistLipSyncParameters())return 0;for(var t=0,i=0;i<this._jsonValue.at(e.FrequestNode_Groups).getSize();i++){var n=this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(i);if(!n.isNull()&&!n.isError()&&"LipSync"==n.getValueByString(a).getRawString()){t=n.getValueByString("Ids").getVector().getSize();break}}return t}},{key:"getLipSyncParameterId",value:function(t){if(!this.isExistLipSyncParameters())return null;for(var i=0;i<this._jsonValue.at(e.FrequestNode_Groups).getSize();i++){var n=this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(i);if(!n.isNull()&&!n.isError()&&"LipSync"==n.getValueByString(a).getRawString())return Xe.getIdManager().getId(n.getValueByString("Ids").getValueByIndex(t).getRawString())}return null}},{key:"isExistModelFile",value:function(){var t=this._jsonValue.at(e.FrequestNode_Moc);return!t.isNull()&&!t.isError()}},{key:"isExistTextureFiles",value:function(){var t=this._jsonValue.at(e.FrequestNode_Textures);return!t.isNull()&&!t.isError()}},{key:"isExistHitAreas",value:function(){var t=this._jsonValue.at(e.FrequestNode_HitAreas);return!t.isNull()&&!t.isError()}},{key:"isExistPhysicsFile",value:function(){var t=this._jsonValue.at(e.FrequestNode_Physics);return!t.isNull()&&!t.isError()}},{key:"isExistPoseFile",value:function(){var t=this._jsonValue.at(e.FrequestNode_Pose);return!t.isNull()&&!t.isError()}},{key:"isExistExpressionFile",value:function(){var t=this._jsonValue.at(e.FrequestNode_Expressions);return!t.isNull()&&!t.isError()}},{key:"isExistMotionGroups",value:function(){var t=this._jsonValue.at(e.FrequestNode_Motions);return!t.isNull()&&!t.isError()}},{key:"isExistMotionGroupName",value:function(t){var a=this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t);return!a.isNull()&&!a.isError()}},{key:"isExistMotionSoundFile",value:function(t,a){var i=this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(a).getValueByString("Sound");return!i.isNull()&&!i.isError()}},{key:"isExistMotionFadeIn",value:function(t,a){var i=this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(a).getValueByString("FadeInTime");return!i.isNull()&&!i.isError()}},{key:"isExistMotionFadeOut",value:function(t,a){var i=this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(a).getValueByString("FadeOutTime");return!i.isNull()&&!i.isError()}},{key:"isExistUserDataFile",value:function(){var t=this._json.getRoot().getValueByString("FileReferences").getValueByString("UserData");return!t.isNull()&&!t.isError()}},{key:"isExistEyeBlinkParameters",value:function(){if(this._jsonValue.at(e.FrequestNode_Groups).isNull()||this._jsonValue.at(e.FrequestNode_Groups).isError())return!1;for(var t=0;t<this._jsonValue.at(e.FrequestNode_Groups).getSize();++t)if("EyeBlink"==this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(t).getValueByString(a).getRawString())return!0;return!1}},{key:"isExistLipSyncParameters",value:function(){if(this._jsonValue.at(e.FrequestNode_Groups).isNull()||this._jsonValue.at(e.FrequestNode_Groups).isError())return!1;for(var t=0;t<this._jsonValue.at(e.FrequestNode_Groups).getSize();++t)if("LipSync"==this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(t).getValueByString(a).getRawString())return!0;return!1}}]),i}(Ge)}(He||(He={})),function(t){t.HitAreaPrefix="HitArea",t.HitAreaHead="Head",t.HitAreaBody="Body",t.PartsIdCore="Parts01Core",t.PartsArmPrefix="Parts01Arm_",t.PartsArmLPrefix="Parts01ArmL_",t.PartsArmRPrefix="Parts01ArmR_",t.ParamAngleX="ParamAngleX",t.ParamAngleY="ParamAngleY",t.ParamAngleZ="ParamAngleZ",t.ParamEyeLOpen="ParamEyeLOpen",t.ParamEyeLSmile="ParamEyeLSmile",t.ParamEyeROpen="ParamEyeROpen",t.ParamEyeRSmile="ParamEyeRSmile",t.ParamEyeBallX="ParamEyeBallX",t.ParamEyeBallY="ParamEyeBallY",t.ParamEyeBallForm="ParamEyeBallForm",t.ParamBrowLY="ParamBrowLY",t.ParamBrowRY="ParamBrowRY",t.ParamBrowLX="ParamBrowLX",t.ParamBrowRX="ParamBrowRX",t.ParamBrowLAngle="ParamBrowLAngle",t.ParamBrowRAngle="ParamBrowRAngle",t.ParamBrowLForm="ParamBrowLForm",t.ParamBrowRForm="ParamBrowRForm",t.ParamMouthForm="ParamMouthForm",t.ParamMouthOpenY="ParamMouthOpenY",t.ParamCheek="ParamCheek",t.ParamBodyAngleX="ParamBodyAngleX",t.ParamBodyAngleY="ParamBodyAngleY",t.ParamBodyAngleZ="ParamBodyAngleZ",t.ParamBreath="ParamBreath",t.ParamArmLA="ParamArmLA",t.ParamArmRA="ParamArmRA",t.ParamArmLB="ParamArmLB",t.ParamArmRB="ParamArmRB",t.ParamHandL="ParamHandL",t.ParamHandR="ParamHandR",t.ParamHairFront="ParamHairFront",t.ParamHairSide="ParamHairSide",t.ParamHairBack="ParamHairBack",t.ParamHairFluffy="ParamHairFluffy",t.ParamShoulderY="ParamShoulderY",t.ParamBustX="ParamBustX",t.ParamBustY="ParamBustY",t.ParamBaseX="ParamBaseX",t.ParamBaseY="ParamBaseY",t.ParamNONE="NONE:"}(We||(We={}));var Ke=function(){function t(){h(this,t)}return m(t,null,[{key:"loadFileAsBytes",value:function(t,e){fetch(t).then((function(t){return t.arrayBuffer()})).then((function(t){return e(t,t.byteLength)}))}},{key:"getDeltaTime",value:function(){return this.s_deltaTime}},{key:"updateTime",value:function(){this.s_currentFrame=Date.now(),this.s_deltaTime=(this.s_currentFrame-this.s_lastFrame)/1e3,this.s_lastFrame=this.s_currentFrame}},{key:"printMessage",value:function(t){console.log(t)}}]),t}();Ke.lastUpdate=Date.now(),Ke.s_currentFrame=0,Ke.s_lastFrame=0,Ke.s_deltaTime=0;var Qe=["clea"],Je=Qe.length,Ze=B.LogLevel_Verbose,ta="URLSearchParams"in self,ea="Symbol"in self&&"iterator"in Symbol,aa="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),ia="FormData"in self,na="ArrayBuffer"in self;if(na)var ra=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],sa=ArrayBuffer.isView||function(t){return t&&ra.indexOf(Object.prototype.toString.call(t))>-1};function oa(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function la(t){return"string"!=typeof t&&(t=String(t)),t}function ua(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return ea&&(e[Symbol.iterator]=function(){return e}),e}function ca(t){this.map={},t instanceof ca?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function ha(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function ma(t){return new Promise((function(e,a){t.onload=function(){e(t.result)},t.onerror=function(){a(t.error)}}))}function da(t){var e=new FileReader,a=ma(e);return e.readAsArrayBuffer(t),a}function ga(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function pa(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:aa&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:ia&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:ta&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():na&&aa&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=ga(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):na&&(ArrayBuffer.prototype.isPrototypeOf(t)||sa(t))?this._bodyArrayBuffer=ga(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ta&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},aa&&(this.blob=function(){var t=ha(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ha(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(da)}),this.text=function(){var t,e,a,i=ha(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,a=ma(e),e.readAsText(t),a;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),a=new Array(e.length),i=0;i<e.length;i++)a[i]=String.fromCharCode(e[i]);return a.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ia&&(this.formData=function(){return this.text().then(_a)}),this.json=function(){return this.text().then(JSON.parse)},this}ca.prototype.append=function(t,e){t=oa(t),e=la(e);var a=this.map[t];this.map[t]=a?a+", "+e:e},ca.prototype.delete=function(t){delete this.map[oa(t)]},ca.prototype.get=function(t){return t=oa(t),this.has(t)?this.map[t]:null},ca.prototype.has=function(t){return this.map.hasOwnProperty(oa(t))},ca.prototype.set=function(t,e){this.map[oa(t)]=la(e)},ca.prototype.forEach=function(t,e){for(var a in this.map)this.map.hasOwnProperty(a)&&t.call(e,this.map[a],a,this)},ca.prototype.keys=function(){var t=[];return this.forEach((function(e,a){t.push(a)})),ua(t)},ca.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),ua(t)},ca.prototype.entries=function(){var t=[];return this.forEach((function(e,a){t.push([a,e])})),ua(t)},ea&&(ca.prototype[Symbol.iterator]=ca.prototype.entries);var va=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function fa(t,e){var a,i,n=(e=e||{}).body;if(t instanceof fa){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new ca(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new ca(e.headers)),this.method=(a=e.method||this.method||"GET",i=a.toUpperCase(),va.indexOf(i)>-1?i:a),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function _a(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var a=t.split("="),i=a.shift().replace(/\+/g," "),n=a.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}})),e}function ya(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new ca(e.headers),this.url=e.url||"",this._initBody(t)}fa.prototype.clone=function(){return new fa(this,{body:this._bodyInit})},pa.call(fa.prototype),pa.call(ya.prototype),ya.prototype.clone=function(){return new ya(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ca(this.headers),url:this.url})},ya.error=function(){var t=new ya(null,{status:0,statusText:""});return t.type="error",t};var ba=[301,302,303,307,308];ya.redirect=function(t,e){if(-1===ba.indexOf(e))throw new RangeError("Invalid status code");return new ya(null,{status:e,headers:{location:t}})};var ka=self.DOMException;try{new ka}catch(t){(ka=function(t,e){this.message=t,this.name=e;var a=Error(t);this.stack=a.stack}).prototype=Object.create(Error.prototype),ka.prototype.constructor=ka}function Sa(t,e){return new Promise((function(a,i){var n=new fa(t,e);if(n.signal&&n.signal.aborted)return i(new ka("Aborted","AbortError"));var r=new XMLHttpRequest;function s(){r.abort()}r.onload=function(){var t,e,i={status:r.status,statusText:r.statusText,headers:(t=r.getAllResponseHeaders()||"",e=new ca,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var a=t.split(":"),i=a.shift().trim();if(i){var n=a.join(":").trim();e.append(i,n)}})),e)};i.url="responseURL"in r?r.responseURL:i.headers.get("X-Request-URL");var n="response"in r?r.response:r.responseText;a(new ya(n,i))},r.onerror=function(){i(new TypeError("Network request failed"))},r.ontimeout=function(){i(new TypeError("Network request failed"))},r.onabort=function(){i(new ka("Aborted","AbortError"))},r.open(n.method,n.url,!0),"include"===n.credentials?r.withCredentials=!0:"omit"===n.credentials&&(r.withCredentials=!1),"responseType"in r&&aa&&(r.responseType="blob"),n.headers.forEach((function(t,e){r.setRequestHeader(e,t)})),n.signal&&(n.signal.addEventListener("abort",s),r.onreadystatechange=function(){4===r.readyState&&n.signal.removeEventListener("abort",s)}),r.send(void 0===n._bodyInit?null:n._bodyInit)}))}Sa.polyfill=!0,self.fetch||(self.fetch=Sa,self.Headers=ca,self.Request=fa,self.Response=ya);var Ca,xa=tt.InvalidMotionQueueEntryHandleValue,wa=f.csmMap,Ia=_.csmVector,Ta=se.CubismBreath,Ma=se.BreathParameterData,Pa=fe.CubismEyeBlink,Aa=G.ACubismMotion,Da=L.CubismFramework,Va=Pe.CubismUserModel,La=He.CubismModelSettingJson,Ba=We;!function(t){t[t.LoadAssets=0]="LoadAssets",t[t.LoadModel=1]="LoadModel",t[t.WaitLoadModel=2]="WaitLoadModel",t[t.LoadExpression=3]="LoadExpression",t[t.WaitLoadExpression=4]="WaitLoadExpression",t[t.LoadPhysics=5]="LoadPhysics",t[t.WaitLoadPhysics=6]="WaitLoadPhysics",t[t.LoadPose=7]="LoadPose",t[t.WaitLoadPose=8]="WaitLoadPose",t[t.SetupEyeBlink=9]="SetupEyeBlink",t[t.SetupBreath=10]="SetupBreath",t[t.LoadUserData=11]="LoadUserData",t[t.WaitLoadUserData=12]="WaitLoadUserData",t[t.SetupEyeBlinkIds=13]="SetupEyeBlinkIds",t[t.SetupLipSyncIds=14]="SetupLipSyncIds",t[t.SetupLayout=15]="SetupLayout",t[t.LoadMotion=16]="LoadMotion",t[t.WaitLoadMotion=17]="WaitLoadMotion",t[t.CompleteInitialize=18]="CompleteInitialize",t[t.CompleteSetupModel=19]="CompleteSetupModel",t[t.LoadTexture=20]="LoadTexture",t[t.WaitLoadTexture=21]="WaitLoadTexture",t[t.CompleteSetup=22]="CompleteSetup"}(Ca||(Ca={}));var Ea=function(t){function e(){var t;return h(this,e),t=l(this,u(e).call(this)),t._modelSetting=null,t._modelHomeDir=null,t._userTimeSeconds=0,t._eyeBlinkIds=new Ia,t._lipSyncIds=new Ia,t._motions=new wa,t._expressions=new wa,t._hitArea=new Ia,t._userArea=new Ia,t._idParamAngleX=Da.getIdManager().getId(Ba.ParamAngleX),t._idParamAngleY=Da.getIdManager().getId(Ba.ParamAngleY),t._idParamAngleZ=Da.getIdManager().getId(Ba.ParamAngleZ),t._idParamEyeBallX=Da.getIdManager().getId(Ba.ParamEyeBallX),t._idParamEyeBallY=Da.getIdManager().getId(Ba.ParamEyeBallY),t._idParamBodyAngleX=Da.getIdManager().getId(Ba.ParamBodyAngleX),t._state=Ca.LoadAssets,t._expressionCount=0,t._textureCount=0,t._motionCount=0,t._allMotionCount=0,t}return c(e,t),m(e,[{key:"loadAssets",value:function(t,e){var a=this;this._modelHomeDir=t,fetch("".concat(this._modelHomeDir,"/").concat(e)).then((function(t){return t.arrayBuffer()})).then((function(t){var e=new La(t,t.byteLength);a._state=Ca.LoadModel,a.setupModel(e)}))}},{key:"setupModel",value:function(t){var e=this;if(this._updating=!0,this._initialized=!1,this._modelSetting=t,""!=this._modelSetting.getModelFileName()){var a=this._modelSetting.getModelFileName();fetch("".concat(this._modelHomeDir,"/").concat(a)).then((function(t){return t.arrayBuffer()})).then((function(t){e.loadModel(t),e._state=Ca.LoadExpression,i()})),this._state=Ca.WaitLoadModel}else Ke.printMessage("Model data does not exist.");var i=function(){e._modelSetting.getExpressionCount()>0?function(){for(var t=e._modelSetting.getExpressionCount(),a=function(a){var i=e._modelSetting.getExpressionName(a),r=e._modelSetting.getExpressionFileName(a);fetch("".concat(e._modelHomeDir,"/").concat(r)).then((function(t){return t.arrayBuffer()})).then((function(a){var r=e.loadExpression(a,a.byteLength,i);null!=e._expressions.getValue(i)&&(Aa.delete(e._expressions.getValue(i)),e._expressions.setValue(i,null)),e._expressions.setValue(i,r),e._expressionCount++,e._expressionCount>=t&&(e._state=Ca.LoadPhysics,n())}))},i=0;i<t;i++)a(i);e._state=Ca.WaitLoadExpression}():(e._state=Ca.LoadPhysics,n())},n=function(){if(""!=e._modelSetting.getPhysicsFileName()){var t=e._modelSetting.getPhysicsFileName();fetch("".concat(e._modelHomeDir,"/").concat(t)).then((function(t){return t.arrayBuffer()})).then((function(t){e.loadPhysics(t,t.byteLength),e._state=Ca.LoadPose,r()})),e._state=Ca.WaitLoadPhysics}else e._state=Ca.LoadPose,r()},r=function(){if(""!=e._modelSetting.getPoseFileName()){var t=e._modelSetting.getPoseFileName();fetch("".concat(e._modelHomeDir,"/").concat(t)).then((function(t){return t.arrayBuffer()})).then((function(t){e.loadPose(t,t.byteLength),e._state=Ca.SetupEyeBlink,s()})),e._state=Ca.WaitLoadPose}else e._state=Ca.SetupEyeBlink,s()},s=function(){e._modelSetting.getEyeBlinkParameterCount()>0&&(e._eyeBlink=Pa.create(e._modelSetting),e._eyeBlink._blinkingIntervalSeconds=8,e._state=Ca.SetupBreath),o()},o=function(){e._breath=Ta.create();var t=new Ia;t.pushBack(new Ma(e._idParamAngleX,0,15,6.5345,.5)),t.pushBack(new Ma(e._idParamAngleY,0,8,3.5345,.5)),t.pushBack(new Ma(e._idParamAngleZ,0,10,5.5345,.5)),t.pushBack(new Ma(e._idParamBodyAngleX,0,4,15.5345,.5)),t.pushBack(new Ma(Da.getIdManager().getId(Ba.ParamBreath),0,.5,3.2345,.5)),e._breath.setParameters(t),e._state=Ca.LoadUserData,l()},l=function(){if(""!=e._modelSetting.getUserDataFile()){var t=e._modelSetting.getUserDataFile();fetch("".concat(e._modelHomeDir,"/").concat(t)).then((function(t){return t.arrayBuffer()})).then((function(t){e.loadUserData(t,t.byteLength),e._state=Ca.SetupEyeBlinkIds,u()})),e._state=Ca.WaitLoadUserData}else e._state=Ca.SetupEyeBlinkIds,u()},u=function(){for(var t=e._modelSetting.getEyeBlinkParameterCount(),a=0;a<t;++a)e._eyeBlinkIds.pushBack(e._modelSetting.getEyeBlinkParameterId(a));e._state=Ca.SetupLipSyncIds,c()},c=function(){for(var t=e._modelSetting.getLipSyncParameterCount(),a=0;a<t;++a)e._lipSyncIds.pushBack(e._modelSetting.getLipSyncParameterId(a));e._state=Ca.SetupLayout,h()},h=function(){var t=new wa;e._modelSetting.getLayoutMap(t),e._modelMatrix.setupFromLayout(t),e._state=Ca.LoadMotion,m()},m=function(){e._state=Ca.WaitLoadMotion,e._model.saveParameters(),e._allMotionCount=0,e._motionCount=0;for(var t=[],a=e._modelSetting.getMotionGroupCount(),i=0;i<a;i++)t[i]=e._modelSetting.getMotionGroupName(i),e._allMotionCount+=e._modelSetting.getMotionCount(t[i]);for(var n=0;n<a;n++)e.preLoadMotionGroup(t[n]);0==a&&(e._state=Ca.LoadTexture,e._motionManager.stopAllMotions(),e._updating=!1,e._initialized=!0,e.createRenderer(),e.setupTextures(),e.getRenderer().startUp(Ka))}}},{key:"setupTextures",value:function(){var t=this;this._state==Ca.LoadTexture&&function(){for(var e=t._modelSetting.getTextureCount(),a=function(a){if(""==t._modelSetting.getTextureFileName(a))return console.log("getTextureFileName null"),"continue";var i=t._modelSetting.getTextureFileName(a);i=t._modelHomeDir+i;var n=function(i){t.getRenderer().bindTexture(a,i.id),t._textureCount++,t._textureCount>=e&&(t._state=Ca.CompleteSetup)};Ja.getInstance().getTextureManager().createTextureFromPngFile(i,!0,n),t.getRenderer().setIsPremultipliedAlpha(!0)},i=0;i<e;i++)a(i);t._state=Ca.WaitLoadTexture}()}},{key:"reloadRenderer",value:function(){this.deleteRenderer(),this.createRenderer(),this.setupTextures()}},{key:"update",value:function(){if(this._state==Ca.CompleteSetup){var t=Ke.getDeltaTime();this._userTimeSeconds+=t,this._dragManager.update(t),this._dragX=this._dragManager.getX(),this._dragY=this._dragManager.getY();if(this._model.loadParameters(),this._motionManager.isFinished()?this.startRandomMotion("Idle",1):this._motionManager.updateMotion(this._model,t),this._model.saveParameters(),null!=this._eyeBlink&&this._eyeBlink.updateParameters(this._model,t),null!=this._expressionManager&&this._expressionManager.updateMotion(this._model,t),this._model.addParameterValueById(this._idParamAngleX,30*this._dragX),this._model.addParameterValueById(this._idParamAngleY,30*this._dragY),this._model.addParameterValueById(this._idParamAngleZ,this._dragX*this._dragY*-30),this._model.addParameterValueById(this._idParamBodyAngleX,10*this._dragX),this._model.addParameterValueById(this._idParamEyeBallX,this._dragX),this._model.addParameterValueById(this._idParamEyeBallY,this._dragY),null!=this._breath&&this._breath.updateParameters(this._model,t),null!=this._physics&&this._physics.evaluate(this._model,t),this._lipsync)for(var e=0,a=0;a<this._lipSyncIds.getSize();++a)this._model.addParameterValueById(this._lipSyncIds.at(a),e,.8);null!=this._pose&&this._pose.updateParameters(this._model,t),this._model.update()}}},{key:"startMotion",value:function(t,e,a,i){var n=this;if(3==a)this._motionManager.setReservePriority(a);else if(!this._motionManager.reserveMotion(a))return this._debugMode&&Ke.printMessage("[APP]can't start motion."),xa;var r=this._modelSetting.getMotionFileName(t,e),s="".concat(t,"_").concat(e),o=this._motions.getValue(s),l=!1;return null==o?fetch("".concat(this._modelHomeDir,"/").concat(r)).then((function(t){return t.arrayBuffer()})).then((function(a){o=n.loadMotion(a,a.byteLength,null,i);var r=n._modelSetting.getMotionFadeInTimeValue(t,e);r>=0&&o.setFadeInTime(r),r=n._modelSetting.getMotionFadeOutTimeValue(t,e),r>=0&&o.setFadeOutTime(r),o.setEffectIds(n._eyeBlinkIds,n._lipSyncIds),l=!0})):o.setFinishedMotionHandler(i),this._debugMode&&Ke.printMessage("[APP]start motion: [".concat(t,"_").concat(e)),this._motionManager.startMotionPriority(o,l,a)}},{key:"startRandomMotion",value:function(t,e,a){if(0==this._modelSetting.getMotionCount(t))return xa;var i=Math.floor(Math.random()*this._modelSetting.getMotionCount(t));return this.startMotion(t,i,e,a)}},{key:"setExpression",value:function(t){var e=this._expressions.getValue(t);this._debugMode&&Ke.printMessage("[APP]expression: [".concat(t,"]")),null!=e?this._expressionManager.startMotionPriority(e,!1,3):this._debugMode&&Ke.printMessage("[APP]expression[".concat(t,"] is null"))}},{key:"setRandomExpression",value:function(){if(0!=this._expressions.getSize())for(var t=Math.floor(Math.random()*this._expressions.getSize()),e=0;e<this._expressions.getSize();e++)if(e==t){var a=this._expressions._keyValues[e].first;return void this.setExpression(a)}}},{key:"motionEventFired",value:function(t){r("{0} is fired on LAppModel!!",t.s)}},{key:"hitTest",value:function(t,e,a){if(this._opacity<1)return!1;for(var i=this._modelSetting.getHitAreasCount(),n=0;n<i;n++)if(this._modelSetting.getHitAreaName(n)==t){var r=this._modelSetting.getHitAreaId(n);return this.isHit(r,e,a)}return!1}},{key:"preLoadMotionGroup",value:function(t){for(var e=this,a=function(a){var i=e._modelSetting.getMotionFileName(t,a),n="".concat(t,"_").concat(a);e._debugMode&&Ke.printMessage("[APP]load motion: ".concat(i," => [").concat(n,"]")),fetch("".concat(e._modelHomeDir,"/").concat(i)).then((function(t){return t.arrayBuffer()})).then((function(i){var r=e.loadMotion(i,i.byteLength,n),s=e._modelSetting.getMotionFadeInTimeValue(t,a);s>=0&&r.setFadeInTime(s),s=e._modelSetting.getMotionFadeOutTimeValue(t,a),s>=0&&r.setFadeOutTime(s),r.setEffectIds(e._eyeBlinkIds,e._lipSyncIds),null!=e._motions.getValue(n)&&Aa.delete(e._motions.getValue(n)),e._motions.setValue(n,r),e._motionCount++,e._motionCount>=e._allMotionCount&&(e._state=Ca.LoadTexture,e._motionManager.stopAllMotions(),e._updating=!1,e._initialized=!0,e.createRenderer(),e.setupTextures(),e.getRenderer().startUp(Ka))}))},i=0;i<this._modelSetting.getMotionCount(t);i++)a(i)}},{key:"releaseMotions",value:function(){this._motions.clear()}},{key:"releaseExpressions",value:function(){this._expressions.clear()}},{key:"doDraw",value:function(){if(null!=this._model){var t=[0,0,Xa.width,Xa.height];this.getRenderer().setRenderState(Qa,t),this.getRenderer().drawModel()}}},{key:"draw",value:function(t){null!=this._model&&this._state==Ca.CompleteSetup&&(t.multiplyByMatrix(this._modelMatrix),this.getRenderer().setMvpMatrix(t),this.doDraw())}}]),e}(Va),Fa=_.csmVector,Ra=M.CubismMatrix44,$a=null,Na=function(){function t(){h(this,t),this._finishedMotion=function(t){Ke.printMessage("Motion Finished:"),console.log(t)},this._viewMatrix=new Ra,this._models=new Fa,this._sceneIndex=0,this.changeScene(this._sceneIndex)}return m(t,[{key:"getModel",value:function(t){return t<this._models.getSize()?this._models.at(t):null}},{key:"getClea",value:function(){return this.getModel(0)}},{key:"releaseAllModel",value:function(){for(var t=0;t<this._models.getSize();t++)this._models.at(t).release(),this._models.set(t,null);this._models.clear()}},{key:"onDrag",value:function(t,e){for(var a=0;a<this._models.getSize();a++){var i=this.getModel(a);i&&i.setDragging(t,e)}}},{key:"onTap",value:function(t,e){for(var a=0;a<this._models.getSize();a++)if(this._models.at(a).hitTest("Head",t,e)){var i=new W;i.touchPart=z.Head,i.targetModel=this._models.at(a),Xa.dispatchEvent(i)}else if(this._models.at(a).hitTest("Oppai",t,e)){var n=new W;n.touchPart=z.Oppai,n.targetModel=this._models.at(a),Xa.dispatchEvent(n)}else if(this._models.at(a).hitTest("Body",t,e)){this._models.at(a).startRandomMotion("TapBody",2,this._finishedMotion);var r=new W;r.touchPart=z.Body,r.targetModel=this._models.at(a),Xa.dispatchEvent(r)}else if(this._models.at(a).hitTest("Face",t,e)){var s=new W;s.touchPart=z.Face,s.targetModel=this._models.at(a),Xa.dispatchEvent(s)}}},{key:"onUpdate",value:function(){var t=new Ra,e=Xa,a=e.width,i=e.height;t.scale(2,2*a/i),null!=this._viewMatrix&&t.multiplyByMatrix(this._viewMatrix);for(var n=t.clone(),r=this._models.getSize(),s=0;s<r;++s){var o=this.getModel(s);t=n.clone(),o.update(),o.draw(t)}}},{key:"nextScene",value:function(){var t=(this._sceneIndex+1)%Je;this.changeScene(t)}},{key:"changeScene",value:function(t){this._sceneIndex=t;var e="/static/l2dmodel/"+Qe[t]+"/",a=Qe[t];a+=".model3.json",this.releaseAllModel(),this._models.pushBack(new Ea),this._models.at(0).loadAssets(e,a)}}],[{key:"getInstance",value:function(){return null==$a&&($a=new t),$a}},{key:"releaseInstance",value:function(){null!=$a&&($a=void 0),$a=null}}]),t}(),Oa=O.CubismViewMatrix,ja=M.CubismMatrix44,za=function(){function t(){h(this,t),this._programId=null,this._touchManager=new H,this._deviceToScreen=new ja,this._viewMatrix=new Oa}return m(t,[{key:"initialize",value:function(){var t=Xa,e=t.offsetHeight,a=t.offsetWidth,i=e/a,n=-i,r=i;this._viewMatrix.setScreenRect(-1,1,n,r);var s=Math.abs(-2);this._deviceToScreen.scaleRelative(s/a/2,-s/a/2),this._deviceToScreen.translateRelative(.5*-a,.5*-e),this._viewMatrix.setMaxScale(2),this._viewMatrix.setMinScale(.8),this._viewMatrix.setMaxScreenRect(-2,2,-2,2)}},{key:"release",value:function(){this._viewMatrix=null,this._touchManager=null,this._deviceToScreen=null,Ka.deleteProgram(this._programId),this._programId=null}},{key:"render",value:function(){Ka.useProgram(this._programId),Ka.flush(),Na.getInstance().onUpdate()}},{key:"initializeSprite",value:function(){null==this._programId&&(this._programId=Ja.getInstance().createShader())}},{key:"onTouchesBegan",value:function(t,e){this._touchManager.touchesBegan(t,e)}},{key:"onTouchesMoved",value:function(t,e){var a=this.transformViewX(this._touchManager.getX()),i=this.transformViewY(this._touchManager.getY());this._touchManager.touchesMoved(t,e),Na.getInstance().onDrag(a,i)}},{key:"onTouchesEnded",value:function(t,e,a){var i=Na.getInstance();i.onDrag(0,0);var n=this.transformViewX(this._touchManager.getX()),r=this.transformViewY(this._touchManager.getY());a&&i.onTap(n,r)}},{key:"transformViewX",value:function(t){var e=this._deviceToScreen.transformX(t);return this._viewMatrix.invertTransformX(e)}},{key:"transformViewY",value:function(t){var e=this._deviceToScreen.transformY(t);return this._viewMatrix.invertTransformY(e)}},{key:"transformScreenX",value:function(t){return this._deviceToScreen.transformX(t)}},{key:"transformScreenY",value:function(t){return this._deviceToScreen.transformY(t)}}]),t}(),Ua=_.csmVector,Ha=function(){function t(){h(this,t),this._textures=new Ua}return m(t,[{key:"release",value:function(){for(var t=this._textures.begin();t.notEqual(this._textures.end());t.preIncrement())Ka.deleteTexture(t.ptr().id);this._textures=null}},{key:"createTextureFromPngFile",value:function(t,e,a){for(var i=this,n=function(i){if(i.ptr().fileName==t&&i.ptr().usePremultply==e)return{v:(i.ptr().img=new Image,i.ptr().img.onload=function(){return a(i.ptr())},void(i.ptr().img.src=t))}},r=this._textures.begin();r.notEqual(this._textures.end());r.preIncrement()){var s=n(r);if("object"===d(s))return s.v}var o=new Image;o.onload=function(){var n=Ka.createTexture();Ka.bindTexture(Ka.TEXTURE_2D,n),Ka.texParameteri(Ka.TEXTURE_2D,Ka.TEXTURE_MIN_FILTER,Ka.LINEAR_MIPMAP_LINEAR),Ka.texParameteri(Ka.TEXTURE_2D,Ka.TEXTURE_MAG_FILTER,Ka.LINEAR),e&&Ka.pixelStorei(Ka.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),Ka.texImage2D(Ka.TEXTURE_2D,0,Ka.RGBA,Ka.RGBA,Ka.UNSIGNED_BYTE,o),Ka.generateMipmap(Ka.TEXTURE_2D),Ka.bindTexture(Ka.TEXTURE_2D,null);var r=new Wa;null!=r&&(r.fileName=t,r.width=o.width,r.height=o.height,r.id=n,r.img=o,r.usePremultply=e,i._textures.pushBack(r)),a(r)},o.src=t}},{key:"releaseTextures",value:function(){for(var t=0;t<this._textures.getSize();t++)this._textures.set(t,null);this._textures.clear()}},{key:"releaseTextureByTexture",value:function(t){for(var e=0;e<this._textures.getSize();e++)if(this._textures.at(e).id==t){this._textures.set(e,null),this._textures.remove(e);break}}},{key:"releaseTextureByFilePath",value:function(t){for(var e=0;e<this._textures.getSize();e++)if(this._textures.at(e).fileName==t){this._textures.set(e,null),this._textures.remove(e);break}}}]),t}(),Wa=function t(){h(this,t),this.id=null,this.width=0,this.height=0};a.d(e,"canvas",(function(){return Xa})),a.d(e,"canvas_container",(function(){return Ya})),a.d(e,"s_instance",(function(){return Ga})),a.d(e,"gl",(function(){return Ka})),a.d(e,"frameBuffer",(function(){return Qa})),a.d(e,"CleaPlayer",(function(){return Ja})),a.d(e,"CleaLive2DManager",(function(){return Na})),a.d(e,"CleaTouchEventName",(function(){return"cleatouch"})),a.d(e,"CleaDragEndEventName",(function(){return"cleadragend"})),a.d(e,"TouchPart",(function(){return z})),a.d(e,"CleaTouchEvent",(function(){return W})),a.d(e,"CleaDragEndEvent",(function(){return q}));var qa=L.CubismFramework,Xa=null,Ya=null,Ga=null,Ka=null,Qa=null,Ja=function(){function t(){h(this,t),this._captured=!1,this._dragging=!1,this._preDragging=!1,this._paused=!0,this._dragOffsetX=0,this._dragOffsetY=0,this._startX=0,this._startY=0,this._mouseX=0,this._mouseY=0,this._isEnd=!1,this._lockPosBottom=-1,this._lockPosRight=-1,this._cubismOption=new N,this._view=new za,this._textureManager=new Ha}return m(t,[{key:"initialize",value:function(t,e){if(Ya=t,null!=e)Xa=e;else if(t instanceof HTMLCanvasElement)Xa=t;else{var a=!0,i=!1,n=void 0;try{for(var r,s=t.children[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var o=r.value;if(o instanceof HTMLCanvasElement){Xa=o;break}}}catch(p){i=!0,n=p}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}if(null==Xa){var l=document.getElementsByClassName("clea-canvas"),u=!0,c=!1,h=void 0;try{for(var m,d=l[Symbol.iterator]();!(u=(m=d.next()).done);u=!0){var g=m.value;if(g instanceof HTMLCanvasElement){Xa=g;break}}}catch(p){c=!0,h=p}finally{try{u||null==d.return||d.return()}finally{if(c)throw h}}}null==Xa&&(Xa=document.createElement("canvas"),Xa.classList.add("clea-canvas"),t.appendChild(Xa))}return Xa.width=500,Xa.height=500,function(){var t=Ya.getBoundingClientRect(),e=window.innerWidth-t.width,a=window.innerHeight-t.height;Ya.style.left=e+"px",Ya.style.top=a+"px",Za()}(),Ka=Xa.getContext("webgl")||Xa.getContext("experimental-webgl"),Ka?(Qa||(Qa=Ka.getParameter(Ka.FRAMEBUFFER_BINDING)),Ka.enable(Ka.BLEND),Ka.blendFunc(Ka.SRC_ALPHA,Ka.ONE_MINUS_SRC_ALPHA),window.addEventListener("resize",ti),"ontouchend"in Xa?(Xa.addEventListener("touchstart",oi),Xa.addEventListener("touchmove",li),Xa.addEventListener("touchend",ui),Xa.addEventListener("touchcancel",ci)):(window.addEventListener("mousedown",ni),window.addEventListener("mousemove",ri),window.addEventListener("mouseup",si)),this._view.initialize(),this.initializeCubism(),!0):(Ka=null,!1)}},{key:"release",value:function(){this._textureManager.release(),this._textureManager=null,this._view.release(),this._view=null,Na.releaseInstance(),qa.dispose()}},{key:"pause",value:function(){Ka.clearColor(0,0,0,0),this._paused=!0}},{key:"isPaused",value:function(){return this._paused}},{key:"run",value:function(){var t=this,e=function e(){null!=Ga&&(t._paused||(Ke.updateTime(),Ka.clearColor(0,0,0,0),Ka.enable(Ka.DEPTH_TEST),Ka.depthFunc(Ka.LEQUAL),Ka.clear(Ka.COLOR_BUFFER_BIT|Ka.DEPTH_BUFFER_BIT),Ka.clearDepth(1),Ka.enable(Ka.BLEND),Ka.blendFunc(Ka.SRC_ALPHA,Ka.ONE_MINUS_SRC_ALPHA),t._view.render(),requestAnimationFrame(e)))};this._paused=!1,e()}},{key:"createShader",value:function(){var t=Ka.createShader(Ka.VERTEX_SHADER);if(null==t)return Ke.printMessage("failed to create vertexShader"),null;Ka.shaderSource(t,"precision mediump float;attribute vec3 position;attribute vec2 uv;varying vec2 vuv;void main(void){   gl_Position = vec4(position, 1.0);   vuv = uv;}"),Ka.compileShader(t);var e=Ka.createShader(Ka.FRAGMENT_SHADER);if(null==e)return Ke.printMessage("failed to create fragmentShader"),null;Ka.shaderSource(e,"precision mediump float;varying vec2 vuv;uniform sampler2D texture;void main(void){   gl_FragColor = texture2D(texture, vuv);}"),Ka.compileShader(e);var a=Ka.createProgram();return Ka.attachShader(a,t),Ka.attachShader(a,e),Ka.deleteShader(t),Ka.deleteShader(e),Ka.linkProgram(a),Ka.useProgram(a),a}},{key:"getView",value:function(){return this._view}},{key:"getTextureManager",value:function(){return this._textureManager}},{key:"initializeCubism",value:function(){this._cubismOption.logFunction=Ke.printMessage,this._cubismOption.loggingLevel=Ze,qa.startUp(this._cubismOption),qa.initialize(),Na.getInstance(),Ke.updateTime(),this._view.initializeSprite()}}],[{key:"getInstance",value:function(){return null==Ga&&(Ga=new t),Ga}},{key:"releaseInstance",value:function(){null!=Ga&&Ga.release(),Ga=null}}]),t}();function Za(){var t=Ya.getBoundingClientRect(),e=t.left/window.innerWidth,a=t.top/window.innerHeight;Ja.getInstance()._lockPosRight=e<.25?-1:e>.6?window.innerWidth-t.left:-1,Ja.getInstance()._lockPosBottom=a<.25?-1:a>.6?window.innerHeight-t.top:-1}function ti(){var t=Ya.getBoundingClientRect(),e=t.left,a=t.top;-1!=Ja.getInstance()._lockPosRight&&(e=window.innerWidth-Ja.getInstance()._lockPosRight),-1!=Ja.getInstance()._lockPosBottom&&(a=window.innerHeight-Ja.getInstance()._lockPosBottom),Ya.style.left=e+"px",Ya.style.top=a+"px"}function ei(){if(Ja.getInstance()._captured){Ja.getInstance()._preDragging=!0,Ja.getInstance()._dragging=!0;var t=Na.getInstance().getModel(0);if(null!=t){var e=function e(){(Ja.getInstance()._dragging||Ja.getInstance()._preDragging)&&t.startRandomMotion("Dragging",3,e)};e()}}}function ai(t,e){if(Ja.getInstance()._preDragging)return function(t,e){Ja.getInstance()._dragOffsetX=Ya.offsetLeft-t,Ja.getInstance()._dragOffsetY=Ya.offsetTop-e}(t,e),void(Ja.getInstance()._preDragging=!1);var a=t+Ja.getInstance()._dragOffsetX,i=e+Ja.getInstance()._dragOffsetY;Ya.style.left=a+"px",Ya.style.top=i+"px"}function ii(t,e){Ja.getInstance()._dragging=!1,Ja.getInstance()._preDragging=!1,Ja.getInstance()._dragCancelHandle=null,Xa.dispatchEvent(new q),Za()}function ni(t){if(t.target==Xa)if(Ja.getInstance()._view){Ja.getInstance()._captured=!0,Ja.getInstance()._dragCancelHandle=setTimeout(ei,500);var e=Xa.getBoundingClientRect(),a=t.clientX-e.left,i=t.clientY-e.top;Ja.getInstance()._startX=t.clientX,Ja.getInstance()._startY=t.clientY,Ja.getInstance()._view.onTouchesBegan(a,i)}else Ke.printMessage("view notfound")}function ri(t){if(Ja.getInstance()._captured)if(t.preventDefault(),Ja.getInstance()._view){if(Ja.getInstance()._dragging)ai(t.clientX,t.clientY);else if(null!=Ja.getInstance()._dragCancelHandle){var e=t.clientX-Ja.getInstance()._startX,a=t.clientY-Ja.getInstance()._startY;e*e+a*a>64&&(clearTimeout(Ja.getInstance()._dragCancelHandle),Ja.getInstance()._dragCancelHandle=null)}var i=Xa.getBoundingClientRect(),n=t.clientX-i.left,r=t.clientY-i.top;Ja.getInstance()._view.onTouchesMoved(n,r)}else Ke.printMessage("view notfound")}function si(t){if(Ja.getInstance()._captured=!1,Ja.getInstance()._view){var e=Xa.getBoundingClientRect(),a=t.clientX-e.left,i=t.clientY-e.top,n=!Ja.getInstance()._dragging;Ja.getInstance()._dragging?ii():null!=Ja.getInstance()._dragCancelHandle&&(clearTimeout(Ja.getInstance()._dragCancelHandle),Ja.getInstance()._dragCancelHandle=null),t.target!=Xa&&(n=!1),Ja.getInstance()._view.onTouchesEnded(a,i,n)}else Ke.printMessage("view notfound")}function oi(t){if(Ja.getInstance()._view){t.preventDefault(),Ja.getInstance()._dragCancelHandle=setTimeout(ei,500),Ja.getInstance()._captured=!0;var e=t.target.getBoundingClientRect(),a=t.changedTouches[0].clientX-e.left,i=t.changedTouches[0].clientY-e.top;Ja.getInstance()._startX=t.changedTouches[0].clientX,Ja.getInstance()._startY=t.changedTouches[0].clientY,Ja.getInstance()._view.onTouchesBegan(a,i)}else Ke.printMessage("view notfound")}function li(t){if(Ja.getInstance()._captured)if(t.preventDefault(),Ja.getInstance()._view){if(Ja.getInstance()._dragging)ai(t.changedTouches[0].clientX,t.changedTouches[0].clientY);else if(null!=Ja.getInstance()._dragCancelHandle){var e=t.changedTouches[0].clientX-Ja.getInstance()._startX,a=t.changedTouches[0].clientY-Ja.getInstance()._startY;e*e+a*a>64&&(clearTimeout(Ja.getInstance()._dragCancelHandle),Ja.getInstance()._dragCancelHandle=null)}var i=Xa.getBoundingClientRect(),n=t.changedTouches[0].clientX-i.left,r=t.changedTouches[0].clientY-i.top;Ja.getInstance()._view.onTouchesMoved(n,r)}else Ke.printMessage("view notfound")}function ui(t){if(Ja.getInstance()._captured=!1,Ja.getInstance()._view){var e=Xa.getBoundingClientRect(),a=t.changedTouches[0].clientX-e.left,i=t.changedTouches[0].clientY-e.top,n=!Ja.getInstance()._dragging;Ja.getInstance()._dragging?ii():null!=Ja.getInstance()._dragCancelHandle&&(clearTimeout(Ja.getInstance()._dragCancelHandle),Ja.getInstance()._dragCancelHandle=null),Ja.getInstance()._view.onTouchesEnded(a,i,n)}else Ke.printMessage("view notfound")}function ci(t){if(Ja.getInstance()._captured=!1,Ja.getInstance()._view){var e=Xa.getBoundingClientRect(),a=t.changedTouches[0].clientX-e.left,i=t.changedTouches[0].clientY-e.top;Ja.getInstance()._view.onTouchesEnded(a,i,!1)}else Ke.printMessage("view notfound")}}])}))}).call(this,a("62e4")(t))},9225:function(t,e,a){"use strict";a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("466d"),a("2ca0"),a("159b"),a("ddb0");var i=a("2b0e"),n=a("a925");function r(){var t=a("4790"),e={};return t.keys().forEach((function(a){var i=a.match(/([A-Za-z0-9-_]+)\./i);if(i&&i.length>1){var n=i[1];e[n]=t(a)}})),e}i["a"].use(n["a"]);var s=r();function o(){var t=!0,e=!1,a=void 0;try{for(var i,n=navigator.languages[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var r=i.value;for(var o in s)if(r.startsWith(o))return o}}catch(l){e=!0,a=l}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return"ja"}e["a"]=new n["a"]({locale:o(),fallbackLocale:"en",messages:s,silentTranslationWarn:!0})},"9e1c":function(t,e,a){},"9ed0":function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return o}));var i=a("a002"),n=a.n(i);n.a.config({storeName:"keyval",name:"keyval-store"});var r=n.a.setItem,s=n.a.getItem,o=n.a.removeItem},a051:function(t,e,a){},a2fa:function(t,e,a){},abac:function(t,e){var a={Common:"通用",Back:"返回",Cancel:"取消","Select All":"全选","Select Reverse":"反选",All:"全部",Rare:"稀有度","Star 3":" ★3 ","Star 4":" ★4 ","Star 5":" ★5 ",Rares:{2:" ★3 ",3:" ★4 ",4:" ★5 "},Class:"职业",Fighter:"战士",Magician:"魔法使",Priest:"僧侣",Knight:"骑士",Alchemist:"炼金术士",Classes:{"-1":"默认",0:"战士",1:"魔法使",2:"僧侣",3:"骑士",4:"炼金术士"},Element:"元素",Fire:"火",Water:"水",Earth:"土",Wind:"风",Moon:"月",Sun:"阳",Elements:{"-1":"默认",0:"火",1:"水",2:"土",3:"风",4:"月",5:"阳"},Abnormal:"异常",Abnormals:{All:"全部异常",0:"混乱",1:"束缚",2:"空腹",3:"虚弱",4:"睡眠",5:"不幸",6:"沉默",7:"孤立"},Status:"状态",Statuses:{All:"全部状态",0:" ATK ",1:" MAT ",2:" DEF ",3:" MDF ",4:" SPD ",5:" LUK "},Default:"默认",comma:"，",dot:"。",divider:"、",Condition:"条件",Probability:"概率",Filter:"筛选",Input:{Filter:"输入条件.."},Sort:"排序",Reverse:"倒序",Japanese:"日语"},i={Home:"主页","KiraFan.Moe":"KiraFan.Moe","KiraFan Wiki":"Kirara Fantasia 解析 Wiki","Day Count":"今天是 Kirara Fantasia 开服以来的第 {0} 日",Version:"版本","Version Info":"该版本解析 Wiki 数据由 Media 抄自圣典",Events:"活动",Summon:"召唤","Summon 10 Times":"10 回召唤"},n={Characters:"角色卡",Character:"角色卡","No Character":"无角色",Obtainability:"获取方法",Normal:"普通","Distributed Weaken":"配布-",Distributed:"配布","Period Limited":"期间限定",Year:"年",Level:"等级",Arousal:"觉醒",Facilities:"设施",Friendship:"好感度","Title Facility":"作品设施","Class Facility":"职业训练所",Orb:"宝珠",Illust:"卡图",Weapons:"武器","Flavor Text":"召唤台词","Creamate Commu Text":"克里耶梅特交流台词",Achievements:"称号","Related Characters":"相关角色卡","Same Rare Class Element":"同为{rare}{element}元素的{class}","Same Event":"历年的期间限定活动中登场","Same Named":"{name}的其他卡片"},r={Names:"角色",Named:"角色","No Named":"无角色",Profile:"角色简介","Nick Name":"昵称","Full Name":"全名","Gift Type":"土产种类","Gift Types":{1e3:"强化素材",2e3:"武器强化素材",3e3:"金币"},Voice:"语音",CV:" CV ","Character Voice Type":{0:"系统",1:"剧情",2:"小镇",3:"战斗"},"Character Voice Category":{"000":"游戏标题","001":"启动时问候・通用","002":"启动时问候・早","003":"启动时问候・晚","006":"强化","008":"进化","009":"训练出发","010":"训练完成","012":"任务","013":"任务完成",400:"关卡出发",401:"战斗开始",403:"攻击 1",405:"攻击 2",406:"攻击技能",409:"辅助技能",411:"应援技能",412:"珍藏发动",413:"伤害",415:"异常",416:"战斗不能",417:"战斗胜利",419:"战斗败北",420:"触摸语音",Room1:"小屋会话 1",Room2:"小屋会话 2",RoomAction:"小屋动作",Town1:"小镇访问 1",Town2:"小镇访问 2",TownAction:"小镇动作",Home:"主画面会话",Default:"默认"},Talent:"天赋","Adv Standpic":"剧情立绘","Related Names":"相关角色","Same Title":"来自作品『{title}』","Same CV":"{name}配音的角色","Cross Adv":"交叉剧情中出现的人物","Original Character":"原创角色",Illustrator:"画师"},s={Skills:"技能",Skill:"技能","Skill Name":"技能名",Load:"硬直",Recast:"冷却",Charge:"充能",Level:"等级","Stun Gauge":"眩晕条","Passive Skill":"被动技能","No Skill":"无技能","No Passive Skill":"无被动技能","Skill Selector":"技能选择器","Skill Target":"目标","Skill Targets":{0:"自身",1:"敌方单体",2:"敌方全体",3:"己方单体",4:"己方全体"},"Skill Damage Types":{0:"物理",1:"魔法"},"Skill Signs":{"-1":"降低",0:"变化",1:"提升"},"Skill Verbs":{"-1":"下降",0:"变化",1:"上升"},"Skill Turn Types":{0:"轮",1:"回合"},"Skill Type":"技能种类","Skill Types":{0:"攻击",1:"回复",2:"状态变化",3:"状态变化清除",4:"异常",5:"异常回复",6:"异常无效化",7:"异常抵抗率",8:"元素耐性",9:"元素变化",10:"克制元素加成",11:"下次攻击提升",12:"下次攻击暴击",13:"屏障",14:"冷却变化",15:"珍藏条变化",16:"珍藏条倍率变化",17:"行动值变化",18:"仇恨变化",19:"充能变化",20:"珍藏连携系数变化",21:"技能卡",22:"眩晕回复",23:"再生",24:"无",25:"技能硬直下降",26:"暴击伤害变化",27:"自身伤害",28:"随机状态变化",29:"被伤害时珍藏条上升",30:"状态变化无效化"},"Skill Detail":"说明","Skill Details":{0:"对{target}造成{amount}{damageType}伤害 ({power})",1:"对{target}{amount}回复 ({power})",2:"{target}的{status}在 {turn} {turnType}内{amount}{sign} ({power})",3:"对{target}清除{status}{sign}",4:"对{target}{amount}赋予{abnormal} ({power})",5:"对{target}解除{abnormal}",6:"{target}在 {turn} {turnType}内异常免疫",7:"{target}的异常抵抗率在 {turn} {turnType}内{sign} ({power})",8:"{target}的{element}耐性在 {turn} {turnType}内{amount}{sign} ({power})",9:"{target}变为{element}元素",10:"{target}的有利元素伤害在 {turn} {turnType}内提升 ({power})",11:"{target}的下一次{damageType}攻击{amount}提升 ({power})",12:"{target}的下一次攻击必定暴击",13:"对{target}赋予 {turn} 层{amount}抵挡攻击的屏障 ({power})",14:"{target}的技能冷却{amount}{verb} ({power})",15:"珍藏条{amount}{verb} ({power})",16:"きららジャンプゲージ倍率変化",17:"行動順変化",18:"{target}的仇恨在 {turn} {turnType}内{amount}{sign} ({power})",19:"{target}的充能数{verb} ({power})",20:"チェイン倍率変化",21:"设置 {turn} 枚技能卡：「{extra}」",22:"スタン回復",23:"对{target}赋予 {turn} 回合再生 ({power})",24:"什么都不做",25:"对{target}赋予 {turn} {turnType}高速咏唱 (-{power}) <small><br>技能硬直下降</small>",26:"{target}的暴击伤害在 {turn} {turnType}内{amount}{sign} ({power})",27:"{target}的 HP 减少 ({power})",28:"{target}的随机一项状态在 {turn} {turnType}内{amount}{sign}",29:"对{target}赋予 {turn} {turnType}隐忍 ({power}) <small><br>每当受到伤害时珍藏充能增加</small>",30:"{target}在 {turn} {turnType}内状态下降免疫"},"Skill Amount":"量","Skill Amount Sign":"{amount}{sign}","Skill Amounts":{0:{0:"特殊",1:"少量",2:"中量","3-":"较大",3:"大量",4:"特大",5:"超特大"},1:{1:"小",2:"中",3:"大",4:"特大"},2:{1:"小幅",2:"中幅",3:"大幅",4:"特大"},4:{1:"低概率",2:"中概率",3:"高概率",4:""},8:{1:"小幅",2:"中幅",3:"大幅"},11:{1:"小幅",2:"中幅",3:"大幅",4:"特大"},13:{1:"小幅",2:"中幅",3:"大幅",4:"完全"},14:{1:"小幅",2:"中幅",3:"大幅"},15:{1:"小幅",2:"中幅",3:"大幅"},18:{1:"小幅",2:"中幅",3:"大幅"},26:{1:"小幅",2:"中幅",3:"大幅"}},"Skill Powers":{0:{0:"{power}%",1:"{power}%、异常中目标 {power2}%",2:"{power}% 最大 HP",3:"{power}% 当前 HP",4:"{power} 点",5:"{powerA}%、{powerB}%、{powerC}%",100:"{power}%、{abnormal}中目标 {power2}%"},27:{0:"{power}% 最大 HP",1:"{power}% 当前 HP",2:"{power} 点"},28:{Power:"{prob}%: {power}","Status Change":"{status}{amount}{sign} ({power})"}},"Passive Triggers":{0:"",1:"每当自身收到攻击时",2:"每当自身打倒敌人时"},"Passive Details":{0:"自身的{status}{amount}{sign} ({power})",1:"自身的仇恨{amount}{sign} ({power})",2:"自身异常免疫",3:"自身眩晕免疫",4:"自身的攻击的眩晕量提升 ({power}) <br><small>收到攻击的敌人的眩晕槽上升量提升</small>",5:"珍藏条{amount}{verb} ({power})",6:"自身的珍藏条系数{sign} ({power}) <br><small>行动获得的珍藏条上升量变化</small>",7:"自身的暴击伤害{amount}{sign} ({power})",8:"自身的技能变更",9:"自身的回复技能可以超越最大 HP ({power})",10:"依照给予敌人的伤害对自身回复",11:"自身可以复活 ({power}) <br><small>首次受到致死伤害时回复</small>",12:"自身的技能卡的发动回数{verb} ({power})",13:"自身的{status}根据 HP 进行变化",14:"{target}的{status}在 {turn} {turnType}内{amount}{sign} ({power})"},"Passive Powers":{10:{0:"通常攻击",1:"职业技能",2:"武器技能",3:"珍藏技能"},11:{0:"{0}% HP",1:"{0} 点"},13:{"Status Change":"{status}{amount}{sign} ({power})"}}},o={Items:"物品",Item:"物品","No Item":"无物品",Type:"种类","Item Type":{0:"强化素材",1:"进化素材",2:"限界突破素材",3:"武器素材",4:"其他",10:"活动素材"},Category:"分类","Item Category Event":"活动「{event}」中的物品","Item Category":{0:"小种",1:"种",2:"大种",3:"新芽",4:"作品限定星华",100:"小进化珠",101:"进化珠",102:"大进化珠",103:"特大进化珠",104:"超进化珠",112:"青铜雕像",113:"白银雕像",114:"黄金雕像",124:"作品限定超进化珠",202:"蕾",203:"果实",204:"星结晶",214:"作品限定星结晶",300:"符",301:"纹章",311:"第一章武器素材",312:"第二章武器素材",313:"第三章武器素材",314:"第四章武器素材",315:"第五章武器素材",316:"第六章武器素材",317:"第七章武器素材",318:"第八章武器素材",404:"特殊",405:"召唤券",406:"交换物品",407:"体力回复物品",408:"Etoilium",409:"概率提升钥匙链",410:"技能提升粉末"},"From Event":"来源活动",Experience:"经验值","Sale Amount":"卖出单价"},l={Weapons:"武器",Weapon:"武器","No Weapon":"无武器",Level:"等级",Evolution:"进化","Upgrade Bonus Material Items":"强化加成素材",Recipe:"作成必要素材","Evolution Recipe":"进化必要素材","Equipable Character":"可装备角色","Star 5 Special Weapon":"★5{0}专用{1}"},u={Master:"琪拉拉",Stamina:"体力","Battle Party Cost":"队伍 Cost","Friend Limit":"好友数","Support Limit":"支援数","Weapon Limit":"武器数","Training Slot Num":"训练数","Master Skills":"琪拉拉技能","Master Orb":"琪拉拉宝珠","Master Skill Type":"{class}宝珠"},c={"Quest Libraries":"关卡章节","Quest Library":"关卡章节",Quests:"关卡",Quest:"关卡",Section:"第 {0} 节","No Quest":"无关卡","Quest Library Categories":{0:"主线关卡",1:"活动关卡",2:"作家关卡",3:"日常关卡",4:"强敌挑战关卡",5:"专武纪念关卡",6:"作品工艺关卡"},"Event Information":"活动情报","Event Abstract":"活动简介","Event Bonus":"活动加成",Enemies:"敌人",Drops:"掉落","User Exp":"琪拉拉经验值","Character Exp":"角色经验值","Friendship Exp":"好感度"},h={"Scenario Libraries":"剧情章节","Scenario Library":"剧情章节",Scenarios:"剧情",Scenario:"剧情","No Scenario":"无剧情","Scenario Library Categories":{5:"角色剧情",1:"主线剧情",2:"活动剧情",3:"作家剧情"},"Character Scenario":"角色剧情","Cross Scenario":"交叉剧情","Memorial Scenario":"专武纪念剧情",Standpic:"立绘",Pose:"姿势",Face:"表情"},m={Titles:"作品",Title:"作品","No Title":"无作品","Number of ★5":"★5 数","Number of Characters":"角色卡数","Non-Player Characters":"NPC 角色","Event Characters":"活动角色"},d={Enemy:"敌人","No Enemy":"无敌人","Resist Abnormals":"异常免疫","AI ID":" AI ID ","Charge Max":"充能数","Full Charge":"满充能","Stun Coef":"眩晕系数","AI Conditions":{num:"此条件最多触发 {num} 次",0:"自身的 HP 在 {min}% ~ {max}% 的范围内",1:{0:["敌人队伍中存在{abnormal}的人数 {op} {num}","敌人队伍中不存在{abnormal}的人数 {op} {num}"],1:["其他敌人中存在{abnormal}的人数 {op} {num}","其他敌人中不存在{abnormal}的人数 {op} {num}"],2:["自身存在{abnormal}","自身不存在{abnormal}"]},2:{0:["敌人队伍中存在{statusChange}的人数 {op} {num}","敌人队伍中不存在{statusChange}的人数 {op} {num}"],1:["其他敌人中存在{statusChange}的人数 {op} {num}","其他敌人中不存在{statusChange}的人数 {op} {num}"],2:["自身存在{statusChange}","自身不存在{statusChange}"]},3:"自身的充能数 {op} {num}",21:"敌人队伍中的人数 {op} {num}",42:"玩家队伍中的人数 {op} {num}",43:["玩家队伍中存在{abnormal}的人数 {op} {num}","玩家队伍中不存在{abnormal}的人数 {op} {num}"],44:"每当玩家队伍使用通常攻击达到 {num} 次",45:"每当玩家队伍使用技能达到 {num} 次",46:"每当玩家队伍使用珍藏达到 {num} 次",47:"每当玩家队伍交换角色达到 {num} 次",48:"玩家队伍中{extra}{class}的人数 {op} {num}",49:"玩家队伍中存在{statusChange}的人数 {op} {num}",68:{0:"自身不存在 Flag {num}",1:"自身存在 Flag {num}"}},"AI Condition Status Changes":{0:" ATK 提升",1:" MAT 提升",2:" DEF 提升",3:" MDF 提升",4:" SPD 提升",5:" LUK 提升",6:" ATK 降低",7:" MAT 降低",8:" DEF 降低",9:" MDF 降低",10:" SPD 降低",11:" LUK 降低",12:"状态提升",13:"状态降低"},"AI Condition Ops":{0:"≥",1:"≤",2:"="},"AI Flags":{0:"自身移除 Flag {num}",1:"自身设置 Flag {num}"},"AI Single Condition":"目标选择：{target}优先级{sign} ({power})","AI Single Condition Signs":{"-1":"低",1:"高"},"AI Single Conditions":{0:"HP < 20% 的目标",1:"{element}元素的目标",2:"{class}",3:["存在{abnormal}的目标","不存在{abnormal}的目标"],4:"克制元素",5:"存在{statusChange}的目标",6:"自身"}},g={"Room Objects":"家具","Room Object":"家具","Change Night":"夜间模式","Non-Reverse":"反转不可",Size:"尺寸","Buy Amount":"购入单价","Sell Amount":"卖出单价","Max Num":"最大所持数","Search Points":"角色互动位置","Search Points Hint":"角色互动位置指角色在家具周边可以触发动作或者谈话的地点。","Character Action":"角色动作","No Character Action":"无角色动作","Character Tweets":"角色会话","No Character Tweets":"无角色会话","Room Object Action Conditions":{0:"任意角色",1:"角色卡限定",2:"角色限定",3:"作品限定"},"Room Object Categories":{0:"桌子",1:"椅子",2:"收纳",3:"寝具",4:"家电",5:"杂货",6:"玩具",7:"墙饰",8:"地毯",9:"屏风",10:"地板",11:"墙壁",12:"背景"}},p={"Town Objects":"小镇建筑","Town Object":"小镇建筑",Schedule:"日程",Text:"文字"},v={"Page Help":"页面帮助","Page Helps":{"Room Object":"\n            <p>家具数据的解析由コースケ协助完成。若有关于家具的问题或建议，欢迎与我们联系。</p>\n        ","Enemy AI Pattern":'\n            <p>敌人的 AI 行动模式是按照页面展示的顺序，从上到下依次判断条件，选择第一个符合全部条件的来执行。每次敌人行动时都会按照这个方式来确定释放的技能。</p>\n            <p>当一个条件下有多个技能可以选择时，按照概率随机选择一个技能进行释放。处于混乱中的敌人会从混乱技能列表中等概率随机挑选一个技能进行释放。</p>\n            <p>条件中的 Flag 可以理解为条件变量，敌人在释放特定技能后会变更 Flag 的真值，从而实现复杂的行动模式。不同敌人的 Flag 是相互独立的。</p>\n            <p>技能中的目标仇恨提升或降低是属于敌人的 AI 行动模式中的一部分，并不属于技能本身的内容，仅对本次技能释放的对象选择造成影响。具体请参阅<a href="https://calc.kirafan.moe/#/document/18", target="_blank">仇恨值的计算方法</a>。</p>\n            <p>AI 行动模式解析可能不完全准确，若发现不符合此页面描述的情况，请录制视频反馈给 Circle Lin。</p>\n        '}},f={Navigation:"导航",Collection:"收藏",Battle:"战斗",Items:"物品",Library:"图书馆",Tools:"工具",Links:"链接",Others:"其他",Applications:"Kirara Fantasia 解析应用","External Links":"外部链接",Calculator:{Title:"计算器",Subtitle:"数值计算和相关计算方法的手册"},Assets:{Title:"素材浏览器",Subtitle:"下载卡图、立绘和语音"},"Card Maker":{Title:"卡片制作",Subtitle:"卡片制作工具"},Yarudesu:{Title:"やるデース！速報",Subtitle:"日语 Kirara Fantasia 社区"},Wikiwiki:{Title:"きらファン完全攻略 Wiki",Subtitle:"日语 Kirara Fantasia Wiki"},Moegirl:{Title:"萌娘百科",Subtitle:"万物皆可萌的百科全书"},Miraheze:{Title:"Miraheze",Subtitle:"英语 Kirara Fantasia Wiki"},Timers:{Title:"计时器",Subtitle:"活动日历与倒计时"}},_={Settings:"设定","Character Show Max Status":"列表中显示最大数值","Character Show Max Status Hint":"觉醒加成不包含在内","Character Talent Show Luck":"显示天赋中的 LUK","Character Icon Framed":"显示角色卡框","Quest Drops Grouped":"掉落显示为「掉落数×组数」","App Title Show ID":"标题栏中显示 ID","Enemy AI Pattern":"显示敌人的 AI 行动模式","Advanced Filter":"高级筛选",Database:"数据库","Database Fetch Time":"数据库获取时间","Reload Database":"重新加载数据库","Reload Application":"重新加载应用",Language:"语言","Always Show Japanese":"始终显示日语","Package Fetch Time":"语言包获取时间","Reload Language Package":"重新加载中文语言包","Help Translate Names":"帮助我们翻译","Show Clea On Start":"显示克蕾尔的 Live2D","Show Clea On Start Hint":"可能会使用大量能耗","Show Clea In Detail Page":"常驻显示","Show Clea In Detail Page Hint":"克蕾尔酱超级可爱( ´▽｀)",Application:"应用",Contact:"联络",Themes:{0:"红",1:"蓝",2:"橙",3:"绿",4:"紫",5:"黄",6:"粉",7:"动态主题"},Close:"关闭",Refresh:"刷新",Updated:{Database:"数据库更新完毕",Application:"网页更新完毕"}},y={Clea:"克蕾尔","Clea Conversation":{TalkGroupA:["元気が出ない時は、声を出すといいですよ。えいえい、おー！","みなさんを召喚するために必要な\n『鍵』の管理を任せていただいています。","ポルカとコルクちゃんは、\nわたしの大切なお友達です。","元気が出ない時は、声を出すといいですよ。\nえいえい、おー！"]}};t.exports=Object.assign({},a,i,n,l,c,d,u,o,g,p,h,m,r,s,v,f,_,y)},b088:function(t,e,a){"use strict";a("a2fa")},bf7a:function(t,e,a){"use strict";a("9e1c")},c110:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-subheader",[t._v(t._s(t.$t("Common")))]),a("Config",{attrs:{configName:"appTitleShowID",title:t.$t("App Title Show ID")}}),a("Config",{attrs:{configName:"isHomePageFooterFixed",title:t.$t("Footer Fixed")}}),a("v-subheader",[t._v(t._s(t.$t("QuickJump.QuickJump")))]),a("Config",{attrs:{configName:"QuickJump_ShowEvent",title:t.$t("QuickJump.ShowEvent")}}),a("Config",{attrs:{configName:"QuickJump_ShowChangedWeapons",title:t.$t("QuickJump.ShowChangedWeapons")}}),a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("Characters")))]),a("Config",{attrs:{configName:"characterShowMaxStatus",title:t.$t("Character Show Max Status"),subtitle:t.$t("Character Show Max Status Hint")}}),a("Config",{attrs:{configName:"characterTalentShowLuck",title:t.$t("Character Talent Show Luck")}}),a("Config",{attrs:{configName:"characterIconFramed",title:t.$t("Character Icon Framed")}}),a("Config",{attrs:{configName:"downloadAudioFilesDirectly",title:t.$t("Download Audio Files Directly"),subtitle:t.$t("Setting Hint:Download Audio Files Directly")}}),a("Config",{attrs:{configName:"loadScenarioVoice",title:t.$t("Load Scenario Voice")}}),a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("Quests")))]),a("Config",{attrs:{configName:"questDropsGrouped",title:t.$t("Quest Drops Grouped")}}),a("Config",{attrs:{configName:"enemyAIPattern",title:t.$t("Enemy AI Pattern")}}),a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("Clea")))]),a("v-list-item",{on:{click:t.reloadClea}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Show Clea On Start")))]),a("v-list-item-subtitle",[t._v(t._s(t.$t("Show Clea On Start Hint")))])],1),a("v-list-item-action",[a("v-switch",{attrs:{color:"primary",readonly:""},model:{value:t.$s.showCleaOnStart,callback:function(e){t.$set(t.$s,"showCleaOnStart",e)},expression:"$s.showCleaOnStart"}})],1)],1),a("Config",{attrs:{configName:"showCleaInDetailPage",title:t.$t("Show Clea In Detail Page"),subtitle:t.$t("Show Clea In Detail Page Hint")}}),a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("Database")))]),a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Database Fetch Time")))])],1),a("v-list-item-action",[a("v-list-item-action-text",[t._v(t._s(new Date(t.$store.state.$db.date).toLocaleString()))])],1)],1),a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Hash")))])],1),a("v-list-item-action",[a("v-list-item-action-text",[t._v(t._s(t.$store.state.$db.version))])],1)],1),a("v-list-item",{on:{click:t.reloadDatabase}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Reload Database")))])],1),a("v-list-item-action",[a("v-icon",[t._v("mdi-refresh")])],1)],1),a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("Application")))]),a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Version")))])],1),a("v-list-item-action",[a("v-list-item-action-text",[t._v(t._s(t.$version))])],1)],1),a("v-list-item",{on:{click:t.unregister}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Reload Application")))])],1),a("v-list-item-action",[a("v-icon",[t._v("mdi-refresh")])],1)],1),"ja"!=t.$i18n.locale?[a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("Language")))]),a("Config",{attrs:{configName:"alwaysShowJapanese",title:t.$t("Always Show Japanese")}}),a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Package Fetch Time")))])],1),a("v-list-item-action",[a("v-list-item-action-text",[t._v(t._s(new Date(t.translations.date).toLocaleString()))])],1)],1),a("v-list-item",{on:{click:function(t){}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Hash")))])],1),a("v-list-item-action",[a("v-list-item-action-text",[t._v(t._s(t.translations.version))])],1)],1),a("v-list-item",{on:{click:t.reloadTranslations}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Reload Language Package")))])],1),a("v-list-item-action",[a("v-icon",[t._v("mdi-refresh")])],1)],1),a("v-list-item",{attrs:{href:t.$const.sites.translations,target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Help Translate Names")))])],1),a("v-list-item-action",[a("v-icon",[t._v("mdi-open-in-new")])],1)],1)]:t._e(),a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("Contact")))]),a("Credit",{attrs:{name:"林檎アメ"}})],2)},n=[],r=a("83d6"),s=a("2643"),o=a("9ed0"),l=a("9483"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{on:{click:function(e){t.$s[t.configName]=!t.$s[t.configName]}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.title))]),t.subtitle?a("v-list-item-subtitle",[t._v(t._s(t.subtitle))]):t._e()],1),a("v-list-item-action",[a("v-switch",{attrs:{color:"primary",readonly:""},model:{value:t.$s[t.configName],callback:function(e){t.$set(t.$s,t.configName,e)},expression:"$s[configName]"}})],1)],1)},c=[],h={props:["configName","title","subtitle"]},m=h,d=a("2877"),g=a("6544"),p=a.n(g),v=a("da13"),f=a("1800"),_=a("5d23"),y=a("b73d"),b=Object(d["a"])(m,u,c,!1,null,null,null),k=b.exports;p()(b,{VListItem:v["a"],VListItemAction:f["a"],VListItemContent:_["b"],VListItemSubtitle:_["c"],VListItemTitle:_["d"],VSwitch:y["a"]});var S={name:"Settings",components:{Config:k},data:function(){return{settings:r["a"],translations:s["a"]}},methods:{reloadDatabase:function(){Object(o["a"])("databaseVersion").then((function(){location.reload()}))},reloadTranslations:function(){Object(o["a"])("translationVersion").then((function(){location.reload()}))},unregister:function(){Object(l["b"])(),location.reload()},reloadClea:function(){r["a"].showCleaOnStart=!r["a"].showCleaOnStart,window.vue.$emit("cleaVisibility",r["a"].showCleaOnStart)}}},C=S,x=(a("bf7a"),a("ce7e")),w=a("132d"),I=a("e0c7"),T=Object(d["a"])(C,i,n,!1,null,null,null);e["default"]=T.exports;p()(T,{VDivider:x["a"],VIcon:w["a"],VListItem:v["a"],VListItemAction:f["a"],VListItemActionText:_["a"],VListItemContent:_["b"],VListItemSubtitle:_["c"],VListItemTitle:_["d"],VSubheader:I["a"],VSwitch:y["a"]})},c437:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{to:"/quest/"+t.id}},[t.character?a("v-list-item-avatar",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{size:t.$size()}},[a("CharaIcon",{attrs:{id:t.quest.section,size:t.$size()}})],1):a("v-list-item-avatar",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{color:"primary",size:t.$size(32)}},[a("span",{staticClass:"white--text"},[t._v(t._s(t.quest.section))])]),a("v-list-item-content",{staticClass:"mr-auto ml-0"},[a("v-list-item-title",[t.quest.name?a("span",[t._v(t._s(t.quest.name))]):a("span",[t._v(t._s(t.$t("Quest"))+" "+t._s(t.id))]),t.quest.stamina&&-1!=t.quest.stamina?a("div",{staticClass:"float-right"},[a("v-avatar",{attrs:{size:t.$size()/2.5,tile:""}},[a("v-img",{attrs:{src:t.$asset.commonuiatlas.format("StaminaIcon")+".png",contain:""}})],1),a("small",[t._v(" "+t._s(t.quest.stamina))])],1):t._e(),t.quest.exId2&&-1!=t.quest.exId2?a("div",{staticClass:"float-right"},[a("v-avatar",{attrs:{size:t.$size()/2.5}},[a("v-img",{attrs:{src:t.$asset.itemicon.format(t.quest.exId2)+".jpg"}})],1),1!=t.quest.ex2Amount?a("small",[t._v(" "+t._s(t.quest.ex2Amount))]):t._e()],1):t._e()]),a("v-list-item-subtitle",{staticClass:"d-flex align-center pt-2"},[a("span",{staticClass:"hidden-xs-only pr-2"},[t._v(t._s(t.$t("Enemies")))]),a("div",{staticClass:"d-flex flex-row",attrs:{icon:t.$size(32)}},t._l(t.quest.enemyResourceIDs,(function(e){return a("div",{key:"questlibrary-quest-enemy-"+e,staticClass:"mr-2"},[a("v-avatar",{attrs:{size:t.$size(32)}},[a("v-img",{attrs:{src:t.$asset.ordericon.format(e)+".jpg"}})],1)],1)})),0)]),t.quest.items.length?a("v-list-item-subtitle",{staticClass:"d-flex align-center pt-2"},[a("span",{staticClass:"hidden-xs-only pr-2"},[t._v(t._s(t.$t("Drops")))]),a("div",{staticClass:"d-flex flex-row flex-wrap",attrs:{icon:t.$size(32)}},t._l(t.itemOrder,(function(e,i){return a("div",{key:"questlibrary-quest-item-"+i,staticClass:"mr-2 d-flex"},[a("v-avatar",{staticClass:"mr-1",attrs:{size:t.$size(32)}},[a("v-img",{attrs:{src:t.$asset.itemicon.format(t.items[i])+".jpg"}})],1),a("div",{staticClass:"d-flex justify-center flex-column"},[a("div",{staticClass:"caption",staticStyle:{"line-height":"1rem"},domProps:{innerHTML:t._s(t.amounts[i])}})])],1)})),0)]):t._e()],1)],1)},n=[],r=(a("99af"),a("c975"),a("d81d"),a("fb6a"),a("4e827"),a("b680"),a("acd8"),{name:"Quest",props:["id"],computed:{quest:function(){return this.$store.state.$db.QuestList[this.id]},character:function(){return this.$store.state.$db.CharacterList[this.quest.section]},itemOrder:function(){var t=this;return this.quest.itemIDs.slice().sort((function(e,a){return t.$store.state.$db.ItemList[a].type-t.$store.state.$db.ItemList[e].type})).map((function(e){return t.quest.itemIDs.indexOf(e)}))},items:function(){var t=this;return this.itemOrder.map((function(e){return t.quest.itemIDs[e]}))},amounts:function(){var t=this;return this.itemOrder.map((function(e){return["".concat(t.quest.itemNums[e]),"".concat(t.quest.itemNums[e]," +<br>").concat(t.quest.itemGroups[e]," B"),"".concat(parseFloat((t.quest.itemNums[e]/t.quest.itemGroups[e]).toFixed(2)),"×").concat(t.quest.itemGroups[e]),"(".concat(parseFloat((t.quest.itemNums[e]/t.quest.itemGroups[e]).toFixed(2)),"+B)<br>×").concat(t.quest.itemGroups[e])][t.isEventBonus(t.quest.itemIDs[e])+2*t.$s.questDropsGrouped]}))}},methods:{isEventBonus:function(t){return this.$store.state.$db.ItemList[t].isEventBonus}}}),s=r,o=a("2877"),l=a("6544"),u=a.n(l),c=a("8212"),h=a("adda"),m=a("da13"),d=a("8270"),g=a("5d23"),p=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=p.exports;u()(p,{VAvatar:c["a"],VImg:h["a"],VListItem:m["a"],VListItemAvatar:d["a"],VListItemContent:g["b"],VListItemSubtitle:g["c"],VListItemTitle:g["d"]})},cd8d:function(t,e,a){"use strict";a.r(e);a("caad"),a("5319");var i=["2","3","4","5","6","7","8","9","0"],n=["L","M","N","R"],r="가".charCodeAt(0),s=19,o=21,l=28,u=r+s*o*l;function c(t){return t>=r&&t<=u}function h(t){return c(t)&&(t-r)%l!==0}function m(t){function e(e,a,r,s){if(!c(a.charCodeAt(0))||!c(r.charCodeAt(0)))return e;var o=!1;while(s>=1)if(s-=1," "!==t[s]&&"　"!==t[s]){if(c(t.charCodeAt(s))){o=h(t.charCodeAt(s));break}o=i.includes(t[s])||n.includes(t[s]);break}return o?a:r}return t.replace(/(.)\((.)\)/,e)}e["default"]=m},eb1a:function(t,e,a){"use strict";a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("4de4"),a("a15b"),a("d81d"),a("fb6a"),a("2af1"),a("b680"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0");var i=a("0d8f"),n=a("9225"),r=a("901e"),s=a.n(r);function o(t,e){return i["a"].SkillLvCoef[t].m_Coefs[e]||1}function l(t,e){return t<e?l(e,t):Math.abs(e)<=1?t:l(e,t%e)}function u(t,e){if(void 0!=t&&(1!=t||-1!=e)&&(-1!=t||1!=e))return t||e}var c={0:[[{1:950,2:1280,3:1510,4:1740,5:2910},{"3-":2380,3:2800,4:3010,5:4250}],[{1:670,2:900,3:1060,4:1220,5:3e3},{"3-":1900,3:2240,4:2410}]],1:[{1:27,2:44,3:60,4:75},{1:16,2:33,3:49}],2:[{"-3":-20,"-2":-15,"-1":-10,1:15,2:23,3:30,4:50},{"-3":-20,"-2":-15,"-1":-10,1:15,2:23,3:30,4:50},{"-3":-20,"-2":-17,"-1":-10,1:20,2:29,3:35},{"-3":-20,"-2":-17,"-1":-10,1:20,2:29,3:35},{"-3":1.4,"-2":1.3,"-1":1.18,1:.85,2:.7,3:.62,4:.56},{"-3":-20,"-2":-10,"-1":-5,1:50,2:110,3:200}],4:[{1:40,2:70,3:90,4:110},{1:30,2:50,3:70,4:130}],8:{"-3":-30,"-2":-20,"-1":-10,1:10,2:20,3:30},11:{1:35,2:50,3:60,4:90},13:{1:33,2:50,3:66,4:134},14:{"-3":-.35,"-2":-.25,"-1":-.15,1:.15,2:.25,3:.35},15:{"-3":-.66,"-2":-.5,"-1":-.33,1:.33,2:.5,3:.66},18:{"-3":-60,"-2":-40,"-1":-20,1:20,2:40,3:60},26:{1:17,2:33,3:50}};function h(t,e,a){var i=void 0;for(var n in e)(void 0==i||Math.abs(e[n]-t)<=Math.abs(e[i]-t))&&(i=n);return a?i:Math.abs(i)||i}function m(t){return 2==t||4==t}function d(t,e,a,r){var g=Object.assign({},i["a"]["SkillList_".concat(e)][t],i["a"]["SkillContentList_".concat(e)][t]),p=[];function v(t){t&&t.constructor==Object?p[p.length-1].push(n["a"].t("Skill Details.".concat(t.type)).format(t)):p[p.length-1].push(t)}g.sap||(g.sap=g.m_Datas.map((function(t,e){return{index:e}})));var f=!0,_=!1,y=void 0;try{for(var b,k=function(){var t=b.value,e=g.m_Datas[t.index];if(!e)return"continue";var f={type:e.m_Type,target:n["a"].t("Skill Targets.".concat(e.m_Target))};switch(p.push([]),e.m_Type){case 0:f.damageType=n["a"].t("Skill Damage Types.".concat(e.m_Args[1])),f.option=e.m_Args[9]||0,f.sap=t.option||[100],3==f.option?(f.sapN=[f.sap[0]],f.sapSum=f.sap.reduce((function(t,e){return f.sapN.push((100-t)*e/100),100-(100-t)*(100-e)/100}))/100,f.sap=[f.sapN]):f.sapSum=f.sap.reduce((function(t,e){return t+e}))/100,f.gcd=f.sap.reduce((function(t,e){return l(t,e)})),f.sap=f.sap.map((function(t){return Math.round(t/f.gcd)})),f.amount=f.option?0:h(e.m_Args[0],c[e.m_Type][m(e.m_Target)?1:0][r?1:0]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power={},0==f.option?f.power.power=Math.floor(f.sapSum*e.m_Args[0]*o(a,e.m_SkillLvCoef)):1==f.option?(f.power.power=Math.floor(f.sapSum*e.m_Args[0]*o(a,e.m_SkillLvCoef)),f.power.power2=Math.floor(f.sapSum*e.m_Args[10]*o(a,e.m_SkillLvCoef))):2==f.option||3==f.option?f.power.power=Math.floor(f.sapSum*e.m_Args[10]).toFixed(1):4==f.option?f.power.power=Math.floor(f.sapSum*e.m_Args[10]).toFixed(0):5==f.option?(f.power.powerA=Math.floor(f.sapSum*e.m_Args[10]*o(a,e.m_SkillLvCoef)),f.power.powerB=Math.floor(f.sapSum*e.m_Args[11]*o(a,e.m_SkillLvCoef)),f.power.powerC=Math.floor(f.sapSum*e.m_Args[12]*o(a,e.m_SkillLvCoef))):f.option>=100&&(f.power.power=Math.floor(f.sapSum*e.m_Args[0]*o(a,e.m_SkillLvCoef)),f.power.power2=Math.floor(f.sapSum*e.m_Args[10]*o(a,e.m_SkillLvCoef)),f.power.abnormal=n["a"].t("Abnormals.".concat(f.option-100)),f.option=100),f.power=n["a"].t("Skill Powers.0.".concat(f.option)).format(f.power),f.sap.length>1&&(f.power+=n["a"].t("comma")+f.sap.join(" : ")),f.elements=e.m_Args.slice(2,8).map((function(t,e){return t?n["a"].t("Elements.".concat(e)):null})).filter((function(t){return t})).join(n["a"].t("divider")),f.elements&&(f.power=f.elements+n["a"].t("Element")+n["a"].t("comma")+f.power),e.m_Args[8]&&(f.power+=n["a"].t("comma")+n["a"].t("Stun Gauge")+": "+e.m_Args[8]+"%");break;case 1:f.amount=h(e.m_Args[0],c[e.m_Type][m(e.m_Target)?1:0]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power=Math.floor(new s.a(e.m_Args[0]).times(o(a,e.m_SkillLvCoef))),f.power=f.power.toFixed(1)+"%";break;case 2:for(var _=0;_<6;_++)0!=e.m_Args[_+2]&&(f={type:e.m_Type,target:n["a"].t("Skill Targets.".concat(e.m_Target)),turnType:n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),turn:e.m_Args[1]},f.amount=h(e.m_Args[_+2],c[e.m_Type][_]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),4==_?(f.coef=0==e.m_SkillLvCoef?e.m_Args[_+2]<1?1:2:e.m_SkillLvCoef,f.power=new s.a(e.m_Args[_+2]).times(o(a,f.coef)),f.power=new s.a(new s.a(1).minus(f.power)).times(100)+"%",f.sign=Math.sign(1-e.m_Args[_+2])):(f.power=new s.a(e.m_Args[_+2]).times(o(a,e.m_SkillLvCoef)),f.power=f.power+"%",f.sign=Math.sign(e.m_Args[_+2])),f.sign=n["a"].t("Skill Signs.".concat(f.sign)),f.status=n["a"].t("Statuses.".concat(_)),v(f));return"continue";case 3:if(e.m_Args.slice(0,6).every((function(t){return t})))v({type:e.m_Type,target:n["a"].t("Skill Targets.".concat(e.m_Target)),status:n["a"].t("Statuses.All"),sign:n["a"].t("Skill Signs.".concat({undefined:0,0:-1,1:1}[e.m_Args[6]]))});else for(var y=0;y<6;y++)e.m_Args[y]&&v({type:e.m_Type,target:n["a"].t("Skill Targets.".concat(e.m_Target)),status:n["a"].t("Statuses.".concat(y)),sign:n["a"].t("Skill Signs.".concat({undefined:0,0:-1,1:1}[e.m_Args[6]]))});return"continue";case 4:for(var k=0;k<8;k++)e.m_Args[k]&&v({type:e.m_Type,target:n["a"].t("Skill Targets.".concat(e.m_Target)),power:new s.a(e.m_Args[k])+"%",abnormal:n["a"].t("Abnormals.".concat(k)),amount:n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(h(e.m_Args[k],c[e.m_Type][m(e.m_Target)?1:0])))});return"continue";case 5:if(e.m_Args.slice(0,8).every((function(t){return t})))v({type:e.m_Type,target:n["a"].t("Skill Targets.".concat(e.m_Target)),abnormal:n["a"].t("Abnormals.All")});else for(var S=0;S<8;S++)e.m_Args[S]&&v({type:e.m_Type,target:n["a"].t("Skill Targets.".concat(e.m_Target)),abnormal:n["a"].t("Abnormals.".concat(S))});return"continue";case 6:f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1];break;case 7:f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1],f.power=-e.m_Args[2],f.power=new s.a(f.power)+"%",f.sign=n["a"].t("Skill Signs.".concat(Math.sign(-e.m_Args[2])));break;case 8:for(var C=0;C<6;C++)0!=e.m_Args[C+2]&&(f={type:e.m_Type,target:n["a"].t("Skill Targets.".concat(e.m_Target)),turnType:n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),turn:e.m_Args[1]},f.amount=h(e.m_Args[C+2],c[e.m_Type]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power=new s.a(e.m_Args[C+2]).times(o(a,e.m_SkillLvCoef)),f.power=f.power+"%",f.sign=n["a"].t("Skill Signs.".concat(Math.sign(e.m_Args[C+2]))),f.element=n["a"].t("Elements.".concat(C)),v(f));return"continue";case 9:f.element=n["a"].t("Elements.".concat(e.m_Args[0]));break;case 10:f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1],f.power=new s.a(e.m_Args[2])+"%";break;case 11:f.damageType=n["a"].t("Skill Damage Types.".concat(e.m_Args[0])),f.amount=h(e.m_Args[1],c[e.m_Type]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power=new s.a(e.m_Args[1]).times(o(a,e.m_SkillLvCoef)),f.power=f.power+"%";break;case 12:break;case 13:f.amount=h(e.m_Args[0],c[e.m_Type]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power=new s.a(e.m_Args[0]).times(o(a,e.m_SkillLvCoef)),f.power=f.power+"%",f.turn=e.m_Args[1];break;case 14:f.amount=h(e.m_Args[0],c[e.m_Type]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power=new s.a(e.m_Args[0]).times(100),f.power=f.power+"%",f.verb=n["a"].t("Skill Verbs.".concat(Math.sign(e.m_Args[0])));break;case 15:f.amount=h(e.m_Args[0],c[e.m_Type]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power=new s.a(e.m_Args[0]).times(100),f.power=f.power+"%",f.verb=n["a"].t("Skill Verbs.".concat(Math.sign(e.m_Args[0])));break;case 16:break;case 17:break;case 18:f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1],f.amount=h(e.m_Args[2],c[e.m_Type]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power=new s.a(e.m_Args[2]),f.power=f.power+"%",f.sign=n["a"].t("Skill Signs.".concat(Math.sign(e.m_Args[2])));break;case 19:f.power=e.m_Args[0],f.verb=n["a"].t("Skill Verbs.".concat(Math.sign(e.m_Args[0])));break;case 20:break;case 21:f.turn=e.m_Args[0],f.extra=d(e.m_Args[1],"CARD",a).join(n["a"].t("comma"));break;case 22:break;case 23:f.turn=e.m_Args[0],f.power=Math.floor(new s.a(e.m_Args[1]).times(o(a,e.m_SkillLvCoef))),f.power=f.power.toFixed(1)+"%";break;case 24:return p.pop(),"continue";case 25:f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1],f.power=new s.a(e.m_Args[2]).times(o(a,e.m_SkillLvCoef)),f.power=f.power+"%";break;case 26:f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1],f.amount=h(e.m_Args[2],c[e.m_Type]),f.amount=n["a"].t("Skill Amounts.".concat(e.m_Type,".").concat(f.amount)),f.power=new s.a(e.m_Args[2]).times(o(a,e.m_SkillLvCoef)),f.power=f.power+"%",f.sign=n["a"].t("Skill Signs.".concat(Math.sign(e.m_Args[2])));break;case 27:f.option=e.m_Args[3],f.power={power:e.m_Args[0]},f.power=n["a"].t("Skill Powers.27.".concat(f.option)).format(f.power);break;case 28:return f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1],f.args=i["a"].BattleRandomStatusChange[e.m_Args[2]].m_Datas,f.sign=f.args.map((function(t){return t.m_Args.map((function(t,e){return t&&(4==e?Math.sign(1-t):Math.sign(t))})).reduce(u)||0})).reduce(u)||0,f.sign=n["a"].t("Skill Signs.".concat(f.sign)),v(f),f.sum=f.args.map((function(t){return t.m_Prob})).reduce((function(t,e){return t+e})),f.args.forEach((function(t){v(n["a"].t("Skill Powers.28.Power").format({prob:(t.m_Prob/f.sum*100).toFixed(1),power:t.m_Args.map((function(t,i){if(0==t)return null;var r={};return r.amount=h(t,c[2][i]),r.amount=n["a"].t("Skill Amounts.".concat(2,".",r.amount)),4==i?(r.coef=0==e.m_SkillLvCoef?t<1?1:2:e.m_SkillLvCoef,r.power=new s.a(t).times(o(a,r.coef)),r.power=new s.a(new s.a(1).minus(r.power)).times(100)+"%",r.sign=Math.sign(1-t)):(r.power=new s.a(t).times(o(a,e.m_SkillLvCoef)),r.power=r.power+"%",r.sign=Math.sign(t)),r.sign=n["a"].t("Skill Signs.".concat(r.sign)),r.status=n["a"].t("Statuses.".concat(i)),n["a"].t("Skill Powers.28.Status Change").format(r)})).filter((function(t){return t})).join(n["a"].t("divider"))}))})),"continue";case 29:f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1],f.power=new s.a(e.m_Args[2]).times(100)+"%";break;case 30:f.turnType=n["a"].t("Skill Turn Types.".concat(e.m_Args[0])),f.turn=e.m_Args[1],f.sign=n["a"].t("Skill Signs2.".concat(e.m_Args[2]));break;default:}v(f)},S=g.sap[Symbol.iterator]();!(f=(b=S.next()).done);f=!0)k()}catch(x){_=!0,y=x}finally{try{f||null==S.return||S.return()}finally{if(_)throw y}}if(0==p.length&&p.push([n["a"].t("Skill Details.24")]),"CARD"==e){var C=100*g.m_LoadFactors[0];p.push(["".concat(n["a"].t("Load"),": ").concat(C.toFixed(0),"%")])}return p.map((function(t){return t.map((function(t){return t.upper()}))}))}e["a"]={parse:d,amount:h,amounts:c,isTargetAll:m}},ed99:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{to:"/roomobject/"+t.item.m_DBAccessID}},[t.collection?[a("v-list-item-avatar",{attrs:{size:48}},[a("v-img",{attrs:{src:t.$asset.roomobjecticon.format(t.categoryName,t.item.m_ID)+".jpg"}})],1),a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.item.m_Name))])],1)]:[a("v-list-item-avatar",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{size:t.$size()}},[a("v-img",{attrs:{src:t.$asset.roomobjecticon.format(t.categoryName,t.item.m_ID)+".jpg"}})],1),a("v-list-item-content",{staticClass:"mr-auto ml-0"},[a("v-list-item-title",{staticClass:"d-flex align-center"},[t._v(t._s(t.item.m_Name)),a("v-list-item-subtitle",{staticClass:"pl-1 hidden-sm-and-up"},[a("span",[t._v(t._s(t.item.m_SizeX)+"×"+t._s(t.item.m_SizeY))])])],1),a("v-list-item-subtitle",[a("span",[t._v(t._s(t.filterString(t.item.m_FilterName)))]),a("span",{staticClass:"float-right hidden-sm-and-up"},[t._v(t._s(t.item.m_BuyAmount))])]),a("v-list-item-subtitle",{staticClass:"hidden-xs-only"},[a("span",[t._v(t._s(t.item.m_SizeX)+"×"+t._s(t.item.m_SizeY))]),a("span",{staticClass:"float-right"},[t._v(t._s(t.item.m_BuyAmount))])])],1)]],2)},n=[],r=(a("4de4"),a("a15b"),{name:"RoomObject",props:{id:{},collection:Boolean},computed:{item:function(){return this.$store.state.$db.RoomObjectList[this.id]},categoryName:function(){return{0:"Desk",1:"Chair",2:"Storage",3:"Bedding",4:"Appliances",5:"Goods",6:"Hobby",7:"WallDecoration",8:"Carpet",9:"Screen",10:"Floor",11:"Wall",12:"Background"}[this.item.m_Category]}},methods:{filterString:function(t){return[t[3],"オールシーズン"!=t[0]&&t[0],"その他"!=t[1]&&t[1],"キャラアクションなし"!=t[2]&&t[2]].filter((function(t){return t})).join(this.$t("divider"))}}}),s=r,o=a("2877"),l=a("6544"),u=a.n(l),c=a("adda"),h=a("da13"),m=a("8270"),d=a("5d23"),g=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=g.exports;u()(g,{VImg:c["a"],VListItem:h["a"],VListItemAvatar:m["a"],VListItemContent:d["b"],VListItemSubtitle:d["c"],VListItemTitle:d["d"]})},f6de:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.questLibrary?a("v-list-item",{attrs:{to:t.to}},[t.collection?[a("v-list-item-avatar",{attrs:{width:192,height:48,tile:""}},[a("v-img",{staticClass:"quest-library-icon",attrs:{src:t.questLibrary.icon,contain:""}})],1),a("v-list-item-content",[a("v-list-item-subtitle")],1)]:[a("v-list-item-avatar",{staticClass:"mx-auto mr-2 mr-md-4",attrs:{width:4*t.$size(),height:t.$size(),tile:""}},[a("v-img",{staticClass:"quest-library-icon",attrs:{src:t.questLibrary.icon,contain:""}})],1),t.questLibrary.badge?a("div",{staticClass:"mr-2 small",staticStyle:{width:"64px"}},[a("KeyValue",{attrs:{k:t.questLibrary.badge}})],1):t._e(),a("v-list-item-content",{staticClass:"ml-0",style:{"max-width":t.questLibrary.badge?"160px":"240px"}},[a("v-list-item-subtitle",[t._v(t._s(t.$name(t.questLibrary.name)))])],1),a("div",{staticClass:"mr-auto"})]],2):a("div")},n=[],r=(a("07ac"),{name:"QuestLibrary",props:{id:{},collection:Boolean},computed:{to:function(){var t=Object.values(this.questLibrary.quests);return 1==t.length&&4==this.questLibrary.category?"/quest/".concat(t[0]):"/questlibrary/".concat(this.questLibrary.id)},questLibrary:function(){return this.$store.state.$db.QuestLibraryList[this.id]}}}),s=r,o=a("2877"),l=a("6544"),u=a.n(l),c=a("adda"),h=a("da13"),m=a("8270"),d=a("5d23"),g=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=g.exports;u()(g,{VImg:c["a"],VListItem:h["a"],VListItemAvatar:m["a"],VListItemContent:d["b"],VListItemSubtitle:d["c"]})}});
//# sourceMappingURL=app.fcbcb8b5.js.map