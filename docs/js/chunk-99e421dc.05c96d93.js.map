{"version":3,"sources":["webpack:///./src/views/Scenario/index.vue?b623","webpack:///./src/views/Scenario/Item.vue?3c37","webpack:///src/views/Scenario/Item.vue","webpack:///./src/views/Scenario/Item.vue?de91","webpack:///./src/views/Scenario/Item.vue","webpack:///src/views/Scenario/index.vue","webpack:///./src/views/Scenario/index.vue?a8a2","webpack:///./src/views/Scenario/index.vue?df67","webpack:///./src/views/Scenario/index.vue?54a9"],"names":["render","_vm","this","_h","$createElement","_c","_self","adv","staticClass","_v","_s","m_Title","m_LibraryID","$t","format","parseInt","m_ScriptTextName","slice","_e","$name","$store","state","$db","ADVLibraryList","m_ListName","attrs","scenarios","index","on","$event","$router","replace","_l","item","key","id","staticRenderFns","$size","push","character","m_Datas","m_FaceReferenceImageType","m_FacePattern","$asset","standpic","base","style","staticStyle","domProps","name","$vuetify","breakpoint","xsOnly","text","props","computed","m_charaName","split","ADVCharacterList","indexOf","position","scale","m_ResourceBaseName","toLowerCase","m_text","methods","component","VImg","VListItem","VListItemAvatar","VListItemContent","VList","VListItemSubtitle","components","data","loading","ADVList","categories","1","2","3","4","5","6","7","i","splice","m_AdvID","load","watch","mounted","VBtn","VDivider","VIcon","VProgressCircular"],"mappings":"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","file":"js/chunk-99e421dc.05c96d93.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.adv)?_c('div',{staticClass:\"pa-4\"},[_c('KeyValue',{attrs:{\"k\":_vm.$t('No Scenario')}})],1):_c('div',[_c('p',{staticClass:\"display px-4 primary--text\"},[_vm._v(_vm._s(_vm.adv.m_Title))]),(_vm.adv.m_LibraryID!=-1)?[_c('p',{staticClass:\"px-4 primary--text\"},[(_vm.adv.m_ScriptTextName)?[_c('span',[_vm._v(_vm._s(_vm.$t('Section').format(parseInt(_vm.adv.m_ScriptTextName.slice(-2)))))]),_c('span',[_vm._v(\" — \")])]:_vm._e(),_c('span',[_vm._v(_vm._s(_vm.$name(_vm.$store.state.$db.ADVLibraryList[_vm.adv.m_LibraryID].m_ListName)))])],2),_c('div',{staticClass:\"px-4 mb-4\"},[_c('div',{staticClass:\"float-right\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":!_vm.scenarios[_vm.index+1]},on:{\"click\":function($event){return _vm.$router.replace((\"/scenario/\" + (_vm.scenarios[_vm.index+1].m_AdvID)))}}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)],1),_c('div',[_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":!_vm.scenarios[_vm.index-1]},on:{\"click\":function($event){return _vm.$router.replace((\"/scenario/\" + (_vm.scenarios[_vm.index-1].m_AdvID)))}}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)],1)])]:_vm._e(),_c('v-divider'),(!_vm.adv.m_ScriptTextName)?_c('div',{staticClass:\"pa-4\"},[_c('KeyValue',{attrs:{\"k\":_vm.$t('No Scenario')}})],1):(_vm.loading)?_c('div',{staticClass:\"py-4 text-center\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1):[_vm._l((_vm.text),function(item){return _c('div',{key:(\"scenario-text-\" + (item.m_id))},[_c('Item',{attrs:{\"item\":item}})],1)}),_c('v-divider'),_c('Ad',{key:(\"scenario-ad-\" + _vm.id)}),(_vm.adv.m_LibraryID!=-1)?[_c('v-divider',{staticClass:\"mb-4\"}),_c('div',{staticClass:\"px-4\"},[_c('div',{staticClass:\"float-right\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":!_vm.scenarios[_vm.index+1]},on:{\"click\":function($event){return _vm.$router.replace((\"/scenario/\" + (_vm.scenarios[_vm.index+1].m_AdvID)))}}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)],1),_c('div',[_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":!_vm.scenarios[_vm.index-1]},on:{\"click\":function($event){return _vm.$router.replace((\"/scenario/\" + (_vm.scenarios[_vm.index-1].m_AdvID)))}}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)],1)])]:_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list-item',[(_vm.character)?_c('v-list-item-avatar',{staticClass:\"mx-auto mr-2 mr-md-4\",attrs:{\"size\":_vm.$size(),\"tile\":\"\"},on:{\"click\":function($event){return _vm.$router.push((\"/standpic/\" + (_vm.character.m_ResourceBaseName)))}}},[(_vm.character.m_Datas[0].m_FaceReferenceImageType==0 && _vm.character.m_Datas[0].m_FacePattern!=-1)?_c('v-img',{attrs:{\"src\":_vm.$asset.standpic.format(_vm.base, (_vm.base + \"_face_0_default\")) + '.png'}}):(_vm.character.m_Datas[0].m_FaceReferenceImageType==0 && _vm.character.m_Datas[0].m_FacePattern==-1)?_c('div',{style:(_vm.style('standpic_0'))}):(_vm.character.m_Datas[0].m_FaceReferenceImageType==1)?_c('div',{style:(_vm.style('face_0_default'))}):_vm._e()],1):_c('v-list-item-avatar',{staticClass:\"mx-auto mr-2 mr-md-4\",attrs:{\"size\":_vm.$size(),\"tile\":\"\"}}),_c('v-list-item-content',{staticClass:\"mr-auto ml-0\",staticStyle:{\"max-width\":\"384px\"}},[_c('v-list-item-subtitle',{staticClass:\"primary--text\",domProps:{\"innerHTML\":_vm._s(_vm.name)}}),_c('div',{style:({'line-height': 1.5, 'font-size': _vm.$vuetify.breakpoint.xsOnly ? '70%': null}),domProps:{\"innerHTML\":_vm._s(_vm.text)}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  v-list-item\n    v-list-item-avatar.mx-auto.mr-2.mr-md-4(:size=\"$size()\", tile, \n      v-if=\"character\", @click=\"$router.push(`/standpic/${character.m_ResourceBaseName}`)\")\n\n      v-img(v-if=\"character.m_Datas[0].m_FaceReferenceImageType==0 && character.m_Datas[0].m_FacePattern!=-1\",\n        :src=\"$asset.standpic.format(base, `${base}_face_0_default`) + '.png'\")\n      div(v-else-if=\"character.m_Datas[0].m_FaceReferenceImageType==0 && character.m_Datas[0].m_FacePattern==-1\",\n        :style=\"style('standpic_0')\")\n      div(v-else-if=\"character.m_Datas[0].m_FaceReferenceImageType==1\",\n        :style=\"style('face_0_default')\")\n\n    v-list-item-avatar.mx-auto.mr-2.mr-md-4(:size=\"$size()\", tile, v-else)\n\n    v-list-item-content.mr-auto.ml-0(style=\"max-width: 384px\")\n      v-list-item-subtitle.primary--text(v-html=\"name\")\n      div(v-html=\"text\", :style=\"{'line-height': 1.5, 'font-size': $vuetify.breakpoint.xsOnly ? '70%': null}\")\n      //- p {{item}}\n      //- p {{character}}\n</template>\n\n<script>\nexport default {\n  name: 'Item',\n  props: ['item'],\n  computed: {\n    id() {\n      return this.item.m_charaName.split('$')[1] || this.item.m_charaName;\n    },\n    character() {\n      return this.$store.state.$db.ADVCharacterList[this.id];\n    },\n    name() {\n      return this.item.m_charaName.indexOf('$') == -1 ?\n        (this.character ? this.character.m_DisplayName : this.item.m_charaName) :\n        this.item.m_charaName.split('$')[0];\n    },\n    position() {\n      let x = this.character.m_Datas[0].m_FaceX;\n      let y = this.character.m_Datas[0].m_FaceY;\n      let base = this.$size() * this.scale / 2;\n      return `${base - x}px ${base - y}px`;\n    },\n    scale() {\n      return 200 / this.$size();\n    },\n    base() {\n      return this.character.m_ResourceBaseName.toLowerCase();\n    },\n    text() {\n      return this.item.m_text\n        .replace(/\\n/g, '<br>')\n        .replace(/<color=(.*?)>(.*?)<\\/color>/g, function (_, color, text) {\n          return `<span style=\"color: ${color}\">${text}</span>`;\n        });\n    },\n  },\n  methods: {\n    style(face) {\n      return {\n        'min-height': `${this.$size() * this.scale}px`,\n        'min-width': `${this.$size() * this.scale}px`,\n        'transform': `scale(${1 / this.scale})`,\n        'background-image': `url(${this.$asset.standpic.format(\n          this.base,\n          `${this.base}_${face}`\n        )}.png)`,\n        'background-position': this.position,\n        // 'background-size': '100%',\n      };\n    },\n  }\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=4edc8696&lang=pug&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VImg,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle})\n","<template lang=\"pug\">\n  .pa-4(v-if=\"!adv\")\n    KeyValue(:k=\"$t('No Scenario')\")\n\n  div(v-else)\n    p.display.px-4.primary--text {{adv.m_Title}}\n    \n    template(v-if=\"adv.m_LibraryID!=-1\")\n      p.px-4.primary--text\n        template(v-if=\"adv.m_ScriptTextName\")\n          span {{$t('Section').format(parseInt(adv.m_ScriptTextName.slice(-2)))}}\n          span  — \n        span {{$name($store.state.$db.ADVLibraryList[adv.m_LibraryID].m_ListName)}}\n      .px-4.mb-4\n        .float-right\n          v-btn(icon, :disabled=\"!scenarios[index+1]\",\n            @click=\"$router.replace(`/scenario/${scenarios[index+1].m_AdvID}`)\")\n            v-icon mdi-chevron-right\n        div\n          v-btn(icon, :disabled=\"!scenarios[index-1]\",\n            @click=\"$router.replace(`/scenario/${scenarios[index-1].m_AdvID}`)\")\n            v-icon mdi-chevron-left\n\n    v-divider\n\n    .pa-4(v-if=\"!adv.m_ScriptTextName\")\n      KeyValue(:k=\"$t('No Scenario')\")\n    .py-4.text-center(v-else-if=\"loading\")\n      v-progress-circular(indeterminate=true, color=\"primary\")\n    template(v-else)\n\n      div(v-for=\"item in text\", :key=\"`scenario-text-${item.m_id}`\")\n        Item(:item=\"item\")\n        //- p {{item}}  \n\n      v-divider\n      Ad(:key=\"`scenario-ad-${id}`\")\n\n      template(v-if=\"adv.m_LibraryID!=-1\")\n        v-divider.mb-4\n        .px-4\n          .float-right\n            v-btn(icon, :disabled=\"!scenarios[index+1]\",\n              @click=\"$router.replace(`/scenario/${scenarios[index+1].m_AdvID}`)\")\n              v-icon mdi-chevron-right\n          div\n            v-btn(icon, :disabled=\"!scenarios[index-1]\",\n              @click=\"$router.replace(`/scenario/${scenarios[index-1].m_AdvID}`)\")\n              v-icon mdi-chevron-left\n</template>\n\n<script>\nimport axios from 'axios';\nimport Item from './Item';\n\nexport default {\n  name: 'Scenario',\n  props: ['id'],\n  components: { Item },\n  data() {\n    return {\n      loading: 0,\n      text: null,\n    };\n  },\n  computed: {\n    adv() {\n      return this.$store.state.$db.ADVList[this.id];\n    },\n    categories() {\n      return {\n        1: { name: 'story', path: 'Story' },\n        2: { name: 'event', path: 'Event' },\n        3: { name: 'chara', path: 'CharaEvent' },\n        4: { name: 'chara', path: 'CrossEvent' },\n        5: { name: 'weapon', path: 'WeaponEvent' },\n        6: { name: 'other', path: 'Other' },\n        7: { name: 'writer', path: 'Writer' },\n      };\n    },\n    scenarios() {\n      let scenarios = this.adv.m_LibraryID == -1 ? [] :\n        this.$store.state.$db.ADVListArray.filter(item => item.m_LibraryID == this.adv.m_LibraryID);\n      for (let i = 0; i < scenarios.length; i++) {\n        if (i > 0 && scenarios[i].m_ScriptTextName &&\n          scenarios[i].m_ScriptTextName == scenarios[i - 1].m_ScriptTextName) {\n          scenarios[i - 1].m_Title = scenarios[i - 1].m_Title\n            .replace('（イントロ）', '')\n            .replace('イントロ', '')\n            .trim();\n          scenarios.splice(i, 1);\n          i -= 1;\n        }\n      }\n      return scenarios;\n    },\n    index() {\n      for (let i in this.scenarios) {\n        if (this.scenarios[i].m_AdvID == this.id) {\n          return parseInt(i);\n        }\n      }\n      return undefined;\n    }\n  },\n  methods: {\n    load() {\n      if (!this.adv || !this.adv.m_ScriptTextName) {\n        return;\n      }\n      this.loading += 1;\n      const loading = this.loading;\n      axios\n        .get(this.$asset.advscript.format(\n          this.categories[this.adv.m_Category].name,\n          this.categories[this.adv.m_Category].path,\n          this.adv.m_ScriptTextName) + '.json')\n        .then(response => {\n          if (loading != this.loading) {\n            return;\n          }\n          this.text = response.data;\n          this.loading = 0;\n        });\n    }\n  },\n  watch: {\n    id() {\n      this.load();\n    }\n  },\n  mounted() {\n    this.load();\n  },\n};\n</script>\n\n<style scoped>\n.line {\n  font-size: 80%;\n  line-height: 1.5;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b952248e&scoped=true&lang=pug&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b952248e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b952248e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VBtn,VDivider,VIcon,VProgressCircular})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b952248e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b952248e&scoped=true&lang=css&\""],"sourceRoot":""}